var Jp=e=>{throw TypeError(e)};var cu=(e,t,r)=>t.has(e)||Jp("Cannot "+r);var E=(e,t,r)=>(cu(e,t,"read from private field"),r?r.call(e):t.get(e)),G=(e,t,r)=>t.has(e)?Jp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),F=(e,t,r,n)=>(cu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),se=(e,t,r)=>(cu(e,t,"access private method"),r);var ja=(e,t,r,n)=>({set _(s){F(e,t,s,r)},get _(){return E(e,t,n)}});function Bv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function zv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function g1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Vv={exports:{}},yc={},Wv={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=Symbol.for("react.element"),v1=Symbol.for("react.portal"),y1=Symbol.for("react.fragment"),w1=Symbol.for("react.strict_mode"),b1=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),_1=Symbol.for("react.context"),S1=Symbol.for("react.forward_ref"),E1=Symbol.for("react.suspense"),C1=Symbol.for("react.memo"),k1=Symbol.for("react.lazy"),Yp=Symbol.iterator;function T1(e){return e===null||typeof e!="object"?null:(e=Yp&&e[Yp]||e["@@iterator"],typeof e=="function"?e:null)}var Hv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qv=Object.assign,Kv={};function Yo(e,t,r){this.props=e,this.context=t,this.refs=Kv,this.updater=r||Hv}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gv(){}Gv.prototype=Yo.prototype;function Yh(e,t,r){this.props=e,this.context=t,this.refs=Kv,this.updater=r||Hv}var Xh=Yh.prototype=new Gv;Xh.constructor=Yh;qv(Xh,Yo.prototype);Xh.isPureReactComponent=!0;var Xp=Array.isArray,Qv=Object.prototype.hasOwnProperty,Zh={current:null},Jv={key:!0,ref:!0,__self:!0,__source:!0};function Yv(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Qv.call(t,n)&&!Jv.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:va,type:e,key:o,ref:i,props:s,_owner:Zh.current}}function P1(e,t){return{$$typeof:va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ef(e){return typeof e=="object"&&e!==null&&e.$$typeof===va}function R1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zp=/\/+/g;function uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R1(""+e.key):t.toString(36)}function fl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case va:case v1:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+uu(i,0):n,Xp(s)?(r="",e!=null&&(r=e.replace(Zp,"$&/")+"/"),fl(s,t,r,"",function(c){return c})):s!=null&&(ef(s)&&(s=P1(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Zp,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Xp(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+uu(o,a);i+=fl(o,t,r,l,s)}else if(l=T1(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+uu(o,a++),i+=fl(o,t,r,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Na(e,t,r){if(e==null)return e;var n=[],s=0;return fl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function j1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},pl={transition:null},N1={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:pl,ReactCurrentOwner:Zh};function Xv(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Na,forEach:function(e,t,r){Na(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Na(e,function(){t++}),t},toArray:function(e){return Na(e,function(t){return t})||[]},only:function(e){if(!ef(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Yo;ae.Fragment=y1;ae.Profiler=b1;ae.PureComponent=Yh;ae.StrictMode=w1;ae.Suspense=E1;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N1;ae.act=Xv;ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qv({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Zh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Qv.call(t,l)&&!Jv.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:va,type:e.type,key:s,ref:o,props:n,_owner:i}};ae.createContext=function(e){return e={$$typeof:_1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x1,_context:e},e.Consumer=e};ae.createElement=Yv;ae.createFactory=function(e){var t=Yv.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:S1,render:e}};ae.isValidElement=ef;ae.lazy=function(e){return{$$typeof:k1,_payload:{_status:-1,_result:e},_init:j1}};ae.memo=function(e,t){return{$$typeof:C1,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=pl.transition;pl.transition={};try{e()}finally{pl.transition=t}};ae.unstable_act=Xv;ae.useCallback=function(e,t){return pt.current.useCallback(e,t)};ae.useContext=function(e){return pt.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};ae.useEffect=function(e,t){return pt.current.useEffect(e,t)};ae.useId=function(){return pt.current.useId()};ae.useImperativeHandle=function(e,t,r){return pt.current.useImperativeHandle(e,t,r)};ae.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return pt.current.useMemo(e,t)};ae.useReducer=function(e,t,r){return pt.current.useReducer(e,t,r)};ae.useRef=function(e){return pt.current.useRef(e)};ae.useState=function(e){return pt.current.useState(e)};ae.useSyncExternalStore=function(e,t,r){return pt.current.useSyncExternalStore(e,t,r)};ae.useTransition=function(){return pt.current.useTransition()};ae.version="18.3.1";Wv.exports=ae;var v=Wv.exports;const I=zv(v),tf=Bv({__proto__:null,default:I},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1=v,A1=Symbol.for("react.element"),I1=Symbol.for("react.fragment"),D1=Object.prototype.hasOwnProperty,L1=O1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$1={key:!0,ref:!0,__self:!0,__source:!0};function Zv(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)D1.call(t,n)&&!$1.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:A1,type:e,key:o,ref:i,props:s,_owner:L1.current}}yc.Fragment=I1;yc.jsx=Zv;yc.jsxs=Zv;Vv.exports=yc;var d=Vv.exports,ey={exports:{}},Dt={},ty={exports:{}},ry={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,N){var $=P.length;P.push(N);e:for(;0<$;){var Y=$-1>>>1,H=P[Y];if(0<s(H,N))P[Y]=N,P[$]=H,$=Y;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var N=P[0],$=P.pop();if($!==N){P[0]=$;e:for(var Y=0,H=P.length,re=H>>>1;Y<re;){var ee=2*(Y+1)-1,xe=P[ee],Oe=ee+1,M=P[Oe];if(0>s(xe,$))Oe<H&&0>s(M,xe)?(P[Y]=M,P[Oe]=$,Y=Oe):(P[Y]=xe,P[ee]=$,Y=ee);else if(Oe<H&&0>s(M,$))P[Y]=M,P[Oe]=$,Y=Oe;else break e}}return N}function s(P,N){var $=P.sortIndex-N.sortIndex;return $!==0?$:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,h=null,p=3,f=!1,x=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var N=r(c);N!==null;){if(N.callback===null)n(c);else if(N.startTime<=P)n(c),N.sortIndex=N.expirationTime,t(l,N);else break;N=r(c)}}function _(P){if(m=!1,b(P),!x)if(r(l)!==null)x=!0,U(S);else{var N=r(c);N!==null&&K(_,N.startTime-P)}}function S(P,N){x=!1,m&&(m=!1,w(T),T=-1),f=!0;var $=p;try{for(b(N),h=r(l);h!==null&&(!(h.expirationTime>N)||P&&!L());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var H=Y(h.expirationTime<=N);N=e.unstable_now(),typeof H=="function"?h.callback=H:h===r(l)&&n(l),b(N)}else n(l);h=r(l)}if(h!==null)var re=!0;else{var ee=r(c);ee!==null&&K(_,ee.startTime-N),re=!1}return re}finally{h=null,p=$,f=!1}}var C=!1,k=null,T=-1,R=5,j=-1;function L(){return!(e.unstable_now()-j<R)}function A(){if(k!==null){var P=e.unstable_now();j=P;var N=!0;try{N=k(!0,P)}finally{N?q():(C=!1,k=null)}}else C=!1}var q;if(typeof g=="function")q=function(){g(A)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,J=D.port2;D.port1.onmessage=A,q=function(){J.postMessage(null)}}else q=function(){y(A,0)};function U(P){k=P,C||(C=!0,q())}function K(P,N){T=y(function(){P(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||f||(x=!0,U(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var $=p;p=N;try{return P()}finally{p=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=p;p=P;try{return N()}finally{p=$}},e.unstable_scheduleCallback=function(P,N,$){var Y=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,P={id:u++,callback:N,priorityLevel:P,startTime:$,expirationTime:H,sortIndex:-1},$>Y?(P.sortIndex=$,t(c,P),r(l)===null&&P===r(c)&&(m?(w(T),T=-1):m=!0,K(_,$-Y))):(P.sortIndex=H,t(l,P),x||f||(x=!0,U(S))),P},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(P){var N=p;return function(){var $=p;p=N;try{return P.apply(this,arguments)}finally{p=$}}}})(ry);ty.exports=ry;var M1=ty.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1=v,It=M1;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ny=new Set,Bi={};function Ls(e,t){Fo(e,t),Fo(e+"Capture",t)}function Fo(e,t){for(Bi[e]=t,e=0;e<t.length;e++)ny.add(t[e])}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=Object.prototype.hasOwnProperty,U1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,em={},tm={};function B1(e){return ad.call(tm,e)?!0:ad.call(em,e)?!1:U1.test(e)?tm[e]=!0:(em[e]=!0,!1)}function z1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V1(e,t,r,n){if(t===null||typeof t>"u"||z1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ze[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ze[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ze[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ze[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ze[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ze[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ze[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ze[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ze[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var rf=/[\-:]([a-z])/g;function nf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rf,nf);Ze[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rf,nf);Ze[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rf,nf);Ze[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ze[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ze[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function sf(e,t,r,n){var s=Ze.hasOwnProperty(t)?Ze[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V1(t,r,s,n)&&(r=null),n||s===null?B1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qr=F1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oa=Symbol.for("react.element"),so=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),of=Symbol.for("react.strict_mode"),ld=Symbol.for("react.profiler"),sy=Symbol.for("react.provider"),oy=Symbol.for("react.context"),af=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),ud=Symbol.for("react.suspense_list"),lf=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),rm=Symbol.iterator;function ui(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,du;function bi(e){if(du===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);du=t&&t[1]||""}return`
`+du+e}var hu=!1;function fu(e,t){if(!e||hu)return"";hu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{hu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bi(e):""}function W1(e){switch(e.tag){case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 2:case 15:return e=fu(e.type,!1),e;case 11:return e=fu(e.type.render,!1),e;case 1:return e=fu(e.type,!0),e;default:return""}}function dd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oo:return"Fragment";case so:return"Portal";case ld:return"Profiler";case of:return"StrictMode";case cd:return"Suspense";case ud:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case oy:return(e.displayName||"Context")+".Consumer";case sy:return(e._context.displayName||"Context")+".Provider";case af:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lf:return t=e.displayName||null,t!==null?t:dd(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return dd(e(t))}catch{}}return null}function H1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dd(t);case 8:return t===of?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ay(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q1(e){var t=ay(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Aa(e){e._valueTracker||(e._valueTracker=q1(e))}function ly(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ay(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hd(e,t){var r=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cy(e,t){t=t.checked,t!=null&&sf(e,"checked",t,!1)}function fd(e,t){cy(e,t);var r=Mn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pd(e,t.type,r):t.hasOwnProperty("defaultValue")&&pd(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pd(e,t,r){(t!=="number"||Nl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xi=Array.isArray;function vo(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function md(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function om(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(xi(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mn(r)}}function uy(e,t){var r=Mn(t.value),n=Mn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function im(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ia,hy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ia=Ia||document.createElement("div"),Ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K1=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(e){K1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ti[t]=Ti[e]})});function fy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ti.hasOwnProperty(e)&&Ti[e]?(""+t).trim():t+"px"}function py(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=fy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var G1=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vd(e,t){if(t){if(G1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function yd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=null;function cf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bd=null,yo=null,wo=null;function am(e){if(e=ba(e)){if(typeof bd!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Sc(t),bd(e.stateNode,e.type,t))}}function my(e){yo?wo?wo.push(e):wo=[e]:yo=e}function gy(){if(yo){var e=yo,t=wo;if(wo=yo=null,am(e),t)for(e=0;e<t.length;e++)am(t[e])}}function vy(e,t){return e(t)}function yy(){}var pu=!1;function wy(e,t,r){if(pu)return e(t,r);pu=!0;try{return vy(e,t,r)}finally{pu=!1,(yo!==null||wo!==null)&&(yy(),gy())}}function Vi(e,t){var r=e.stateNode;if(r===null)return null;var n=Sc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var xd=!1;if(Vr)try{var di={};Object.defineProperty(di,"passive",{get:function(){xd=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{xd=!1}function Q1(e,t,r,n,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Pi=!1,Ol=null,Al=!1,_d=null,J1={onError:function(e){Pi=!0,Ol=e}};function Y1(e,t,r,n,s,o,i,a,l){Pi=!1,Ol=null,Q1.apply(J1,arguments)}function X1(e,t,r,n,s,o,i,a,l){if(Y1.apply(this,arguments),Pi){if(Pi){var c=Ol;Pi=!1,Ol=null}else throw Error(O(198));Al||(Al=!0,_d=c)}}function $s(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function by(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lm(e){if($s(e)!==e)throw Error(O(188))}function Z1(e){var t=e.alternate;if(!t){if(t=$s(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return lm(s),e;if(o===n)return lm(s),t;o=o.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function xy(e){return e=Z1(e),e!==null?_y(e):null}function _y(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_y(e);if(t!==null)return t;e=e.sibling}return null}var Sy=It.unstable_scheduleCallback,cm=It.unstable_cancelCallback,eE=It.unstable_shouldYield,tE=It.unstable_requestPaint,Le=It.unstable_now,rE=It.unstable_getCurrentPriorityLevel,uf=It.unstable_ImmediatePriority,Ey=It.unstable_UserBlockingPriority,Il=It.unstable_NormalPriority,nE=It.unstable_LowPriority,Cy=It.unstable_IdlePriority,wc=null,Er=null;function sE(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(wc,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:aE,oE=Math.log,iE=Math.LN2;function aE(e){return e>>>=0,e===0?32:31-(oE(e)/iE|0)|0}var Da=64,La=4194304;function _i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=_i(a):(o&=i,o!==0&&(n=_i(o)))}else i=r&~s,i!==0?n=_i(i):o!==0&&(n=_i(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ur(t),s=1<<r,n|=e[r],t&=~s;return n}function lE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ur(o),a=1<<i,l=s[i];l===-1?(!(a&r)||a&n)&&(s[i]=lE(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Sd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ky(){var e=Da;return Da<<=1,!(Da&4194240)&&(Da=64),e}function mu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ya(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=r}function uE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ur(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function df(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ur(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ve=0;function Ty(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Py,hf,Ry,jy,Ny,Ed=!1,$a=[],Cn=null,kn=null,Tn=null,Wi=new Map,Hi=new Map,cn=[],dE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function um(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(t.pointerId)}}function hi(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ba(t),t!==null&&hf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hE(e,t,r,n,s){switch(t){case"focusin":return Cn=hi(Cn,e,t,r,n,s),!0;case"dragenter":return kn=hi(kn,e,t,r,n,s),!0;case"mouseover":return Tn=hi(Tn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Wi.set(o,hi(Wi.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Hi.set(o,hi(Hi.get(o)||null,e,t,r,n,s)),!0}return!1}function Oy(e){var t=cs(e.target);if(t!==null){var r=$s(t);if(r!==null){if(t=r.tag,t===13){if(t=by(r),t!==null){e.blockedOn=t,Ny(e.priority,function(){Ry(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Cd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wd=n,r.target.dispatchEvent(n),wd=null}else return t=ba(r),t!==null&&hf(t),e.blockedOn=r,!1;t.shift()}return!0}function dm(e,t,r){ml(e)&&r.delete(t)}function fE(){Ed=!1,Cn!==null&&ml(Cn)&&(Cn=null),kn!==null&&ml(kn)&&(kn=null),Tn!==null&&ml(Tn)&&(Tn=null),Wi.forEach(dm),Hi.forEach(dm)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ed||(Ed=!0,It.unstable_scheduleCallback(It.unstable_NormalPriority,fE)))}function qi(e){function t(s){return fi(s,e)}if(0<$a.length){fi($a[0],e);for(var r=1;r<$a.length;r++){var n=$a[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cn!==null&&fi(Cn,e),kn!==null&&fi(kn,e),Tn!==null&&fi(Tn,e),Wi.forEach(t),Hi.forEach(t),r=0;r<cn.length;r++)n=cn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cn.length&&(r=cn[0],r.blockedOn===null);)Oy(r),r.blockedOn===null&&cn.shift()}var bo=Qr.ReactCurrentBatchConfig,Ll=!0;function pE(e,t,r,n){var s=ve,o=bo.transition;bo.transition=null;try{ve=1,ff(e,t,r,n)}finally{ve=s,bo.transition=o}}function mE(e,t,r,n){var s=ve,o=bo.transition;bo.transition=null;try{ve=4,ff(e,t,r,n)}finally{ve=s,bo.transition=o}}function ff(e,t,r,n){if(Ll){var s=Cd(e,t,r,n);if(s===null)Cu(e,t,n,$l,r),um(e,n);else if(hE(s,e,t,r,n))n.stopPropagation();else if(um(e,n),t&4&&-1<dE.indexOf(e)){for(;s!==null;){var o=ba(s);if(o!==null&&Py(o),o=Cd(e,t,r,n),o===null&&Cu(e,t,n,$l,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Cu(e,t,n,null,r)}}var $l=null;function Cd(e,t,r,n){if($l=null,e=cf(n),e=cs(e),e!==null)if(t=$s(e),t===null)e=null;else if(r=t.tag,r===13){if(e=by(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $l=e,null}function Ay(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rE()){case uf:return 1;case Ey:return 4;case Il:case nE:return 16;case Cy:return 536870912;default:return 16}default:return 16}}var _n=null,pf=null,gl=null;function Iy(){if(gl)return gl;var e,t=pf,r=t.length,n,s="value"in _n?_n.value:_n.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return gl=s.slice(e,1<n?1-n:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ma(){return!0}function hm(){return!1}function Lt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ma:hm,this.isPropagationStopped=hm,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),t}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mf=Lt(Xo),wa=Ne({},Xo,{view:0,detail:0}),gE=Lt(wa),gu,vu,pi,bc=Ne({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(gu=e.screenX-pi.screenX,vu=e.screenY-pi.screenY):vu=gu=0,pi=e),gu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),fm=Lt(bc),vE=Ne({},bc,{dataTransfer:0}),yE=Lt(vE),wE=Ne({},wa,{relatedTarget:0}),yu=Lt(wE),bE=Ne({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),xE=Lt(bE),_E=Ne({},Xo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SE=Lt(_E),EE=Ne({},Xo,{data:0}),pm=Lt(EE),CE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TE[e])?!!t[e]:!1}function gf(){return PE}var RE=Ne({},wa,{key:function(e){if(e.key){var t=CE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gf,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jE=Lt(RE),NE=Ne({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mm=Lt(NE),OE=Ne({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gf}),AE=Lt(OE),IE=Ne({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),DE=Lt(IE),LE=Ne({},bc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$E=Lt(LE),ME=[9,13,27,32],vf=Vr&&"CompositionEvent"in window,Ri=null;Vr&&"documentMode"in document&&(Ri=document.documentMode);var FE=Vr&&"TextEvent"in window&&!Ri,Dy=Vr&&(!vf||Ri&&8<Ri&&11>=Ri),gm=" ",vm=!1;function Ly(e,t){switch(e){case"keyup":return ME.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $y(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var io=!1;function UE(e,t){switch(e){case"compositionend":return $y(t);case"keypress":return t.which!==32?null:(vm=!0,gm);case"textInput":return e=t.data,e===gm&&vm?null:e;default:return null}}function BE(e,t){if(io)return e==="compositionend"||!vf&&Ly(e,t)?(e=Iy(),gl=pf=_n=null,io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dy&&t.locale!=="ko"?null:t.data;default:return null}}var zE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zE[e.type]:t==="textarea"}function My(e,t,r,n){my(n),t=Ml(t,"onChange"),0<t.length&&(r=new mf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ji=null,Ki=null;function VE(e){Qy(e,0)}function xc(e){var t=co(e);if(ly(t))return e}function WE(e,t){if(e==="change")return t}var Fy=!1;if(Vr){var wu;if(Vr){var bu="oninput"in document;if(!bu){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),bu=typeof wm.oninput=="function"}wu=bu}else wu=!1;Fy=wu&&(!document.documentMode||9<document.documentMode)}function bm(){ji&&(ji.detachEvent("onpropertychange",Uy),Ki=ji=null)}function Uy(e){if(e.propertyName==="value"&&xc(Ki)){var t=[];My(t,Ki,e,cf(e)),wy(VE,t)}}function HE(e,t,r){e==="focusin"?(bm(),ji=t,Ki=r,ji.attachEvent("onpropertychange",Uy)):e==="focusout"&&bm()}function qE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xc(Ki)}function KE(e,t){if(e==="click")return xc(t)}function GE(e,t){if(e==="input"||e==="change")return xc(t)}function QE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:QE;function Gi(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ad.call(t,s)||!hr(e[s],t[s]))return!1}return!0}function xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _m(e,t){var r=xm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xm(r)}}function By(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?By(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zy(){for(var e=window,t=Nl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Nl(e.document)}return t}function yf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JE(e){var t=zy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&By(r.ownerDocument.documentElement,r)){if(n!==null&&yf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=_m(r,o);var i=_m(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YE=Vr&&"documentMode"in document&&11>=document.documentMode,ao=null,kd=null,Ni=null,Td=!1;function Sm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Td||ao==null||ao!==Nl(n)||(n=ao,"selectionStart"in n&&yf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ni&&Gi(Ni,n)||(Ni=n,n=Ml(kd,"onSelect"),0<n.length&&(t=new mf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ao)))}function Fa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var lo={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},xu={},Vy={};Vr&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function _c(e){if(xu[e])return xu[e];if(!lo[e])return e;var t=lo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vy)return xu[e]=t[r];return e}var Wy=_c("animationend"),Hy=_c("animationiteration"),qy=_c("animationstart"),Ky=_c("transitionend"),Gy=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){Gy.set(e,t),Ls(t,[e])}for(var _u=0;_u<Em.length;_u++){var Su=Em[_u],XE=Su.toLowerCase(),ZE=Su[0].toUpperCase()+Su.slice(1);zn(XE,"on"+ZE)}zn(Wy,"onAnimationEnd");zn(Hy,"onAnimationIteration");zn(qy,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Ky,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Si));function Cm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,X1(n,t,void 0,e),e.currentTarget=null}function Qy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Cm(s,a,c),o=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Cm(s,a,c),o=l}}}if(Al)throw e=_d,Al=!1,_d=null,e}function Se(e,t){var r=t[Od];r===void 0&&(r=t[Od]=new Set);var n=e+"__bubble";r.has(n)||(Jy(t,e,2,!1),r.add(n))}function Eu(e,t,r){var n=0;t&&(n|=4),Jy(r,e,n,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Qi(e){if(!e[Ua]){e[Ua]=!0,ny.forEach(function(r){r!=="selectionchange"&&(eC.has(r)||Eu(r,!1,e),Eu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ua]||(t[Ua]=!0,Eu("selectionchange",!1,t))}}function Jy(e,t,r,n){switch(Ay(t)){case 1:var s=pE;break;case 4:s=mE;break;default:s=ff}r=s.bind(null,t,r,e),s=void 0,!xd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Cu(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=cs(a),i===null)return;if(l=i.tag,l===5||l===6){n=o=i;continue e}a=a.parentNode}}n=n.return}wy(function(){var c=o,u=cf(r),h=[];e:{var p=Gy.get(e);if(p!==void 0){var f=mf,x=e;switch(e){case"keypress":if(vl(r)===0)break e;case"keydown":case"keyup":f=jE;break;case"focusin":x="focus",f=yu;break;case"focusout":x="blur",f=yu;break;case"beforeblur":case"afterblur":f=yu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=yE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=AE;break;case Wy:case Hy:case qy:f=xE;break;case Ky:f=DE;break;case"scroll":f=gE;break;case"wheel":f=$E;break;case"copy":case"cut":case"paste":f=SE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=mm}var m=(t&4)!==0,y=!m&&e==="scroll",w=m?p!==null?p+"Capture":null:p;m=[];for(var g=c,b;g!==null;){b=g;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,w!==null&&(_=Vi(g,w),_!=null&&m.push(Ji(g,_,b)))),y)break;g=g.return}0<m.length&&(p=new f(p,x,null,r,u),h.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==wd&&(x=r.relatedTarget||r.fromElement)&&(cs(x)||x[Wr]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(x=r.relatedTarget||r.toElement,f=c,x=x?cs(x):null,x!==null&&(y=$s(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(f=null,x=c),f!==x)){if(m=fm,_="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=mm,_="onPointerLeave",w="onPointerEnter",g="pointer"),y=f==null?p:co(f),b=x==null?p:co(x),p=new m(_,g+"leave",f,r,u),p.target=y,p.relatedTarget=b,_=null,cs(u)===c&&(m=new m(w,g+"enter",x,r,u),m.target=b,m.relatedTarget=y,_=m),y=_,f&&x)t:{for(m=f,w=x,g=0,b=m;b;b=qs(b))g++;for(b=0,_=w;_;_=qs(_))b++;for(;0<g-b;)m=qs(m),g--;for(;0<b-g;)w=qs(w),b--;for(;g--;){if(m===w||w!==null&&m===w.alternate)break t;m=qs(m),w=qs(w)}m=null}else m=null;f!==null&&km(h,p,f,m,!1),x!==null&&y!==null&&km(h,y,x,m,!0)}}e:{if(p=c?co(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var S=WE;else if(ym(p))if(Fy)S=GE;else{S=qE;var C=HE}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=KE);if(S&&(S=S(e,c))){My(h,S,r,u);break e}C&&C(e,p,c),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&pd(p,"number",p.value)}switch(C=c?co(c):window,e){case"focusin":(ym(C)||C.contentEditable==="true")&&(ao=C,kd=c,Ni=null);break;case"focusout":Ni=kd=ao=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Sm(h,r,u);break;case"selectionchange":if(YE)break;case"keydown":case"keyup":Sm(h,r,u)}var k;if(vf)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else io?Ly(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Dy&&r.locale!=="ko"&&(io||T!=="onCompositionStart"?T==="onCompositionEnd"&&io&&(k=Iy()):(_n=u,pf="value"in _n?_n.value:_n.textContent,io=!0)),C=Ml(c,T),0<C.length&&(T=new pm(T,e,null,r,u),h.push({event:T,listeners:C}),k?T.data=k:(k=$y(r),k!==null&&(T.data=k)))),(k=FE?UE(e,r):BE(e,r))&&(c=Ml(c,"onBeforeInput"),0<c.length&&(u=new pm("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=k))}Qy(h,t)})}function Ji(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ml(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Vi(e,r),o!=null&&n.unshift(Ji(e,o,s)),o=Vi(e,t),o!=null&&n.push(Ji(e,o,s))),e=e.return}return n}function qs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function km(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Vi(r,o),l!=null&&i.unshift(Ji(r,l,a))):s||(l=Vi(r,o),l!=null&&i.push(Ji(r,l,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var tC=/\r\n?/g,rC=/\u0000|\uFFFD/g;function Tm(e){return(typeof e=="string"?e:""+e).replace(tC,`
`).replace(rC,"")}function Ba(e,t,r){if(t=Tm(t),Tm(e)!==t&&r)throw Error(O(425))}function Fl(){}var Pd=null,Rd=null;function jd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,nC=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,sC=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(oC)}:Nd;function oC(e){setTimeout(function(){throw e})}function ku(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),qi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);qi(t)}function Pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zo=Math.random().toString(36).slice(2),_r="__reactFiber$"+Zo,Yi="__reactProps$"+Zo,Wr="__reactContainer$"+Zo,Od="__reactEvents$"+Zo,iC="__reactListeners$"+Zo,aC="__reactHandles$"+Zo;function cs(e){var t=e[_r];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wr]||r[_r]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Rm(e);e!==null;){if(r=e[_r])return r;e=Rm(e)}return t}e=r,r=e.parentNode}return null}function ba(e){return e=e[_r]||e[Wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Sc(e){return e[Yi]||null}var Ad=[],uo=-1;function Vn(e){return{current:e}}function Ee(e){0>uo||(e.current=Ad[uo],Ad[uo]=null,uo--)}function be(e,t){uo++,Ad[uo]=e.current,e.current=t}var Fn={},ot=Vn(Fn),xt=Vn(!1),Es=Fn;function Uo(e,t){var r=e.type.contextTypes;if(!r)return Fn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _t(e){return e=e.childContextTypes,e!=null}function Ul(){Ee(xt),Ee(ot)}function jm(e,t,r){if(ot.current!==Fn)throw Error(O(168));be(ot,t),be(xt,r)}function Yy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,H1(e)||"Unknown",s));return Ne({},r,n)}function Bl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,Es=ot.current,be(ot,e),be(xt,xt.current),!0}function Nm(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=Yy(e,t,Es),n.__reactInternalMemoizedMergedChildContext=e,Ee(xt),Ee(ot),be(ot,e)):Ee(xt),be(xt,r)}var Lr=null,Ec=!1,Tu=!1;function Xy(e){Lr===null?Lr=[e]:Lr.push(e)}function lC(e){Ec=!0,Xy(e)}function Wn(){if(!Tu&&Lr!==null){Tu=!0;var e=0,t=ve;try{var r=Lr;for(ve=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Lr=null,Ec=!1}catch(s){throw Lr!==null&&(Lr=Lr.slice(e+1)),Sy(uf,Wn),s}finally{ve=t,Tu=!1}}return null}var ho=[],fo=0,zl=null,Vl=0,zt=[],Vt=0,Cs=null,Fr=1,Ur="";function ns(e,t){ho[fo++]=Vl,ho[fo++]=zl,zl=e,Vl=t}function Zy(e,t,r){zt[Vt++]=Fr,zt[Vt++]=Ur,zt[Vt++]=Cs,Cs=e;var n=Fr;e=Ur;var s=32-ur(n)-1;n&=~(1<<s),r+=1;var o=32-ur(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Fr=1<<32-ur(t)+s|r<<s|n,Ur=o+e}else Fr=1<<o|r<<s|n,Ur=e}function wf(e){e.return!==null&&(ns(e,1),Zy(e,1,0))}function bf(e){for(;e===zl;)zl=ho[--fo],ho[fo]=null,Vl=ho[--fo],ho[fo]=null;for(;e===Cs;)Cs=zt[--Vt],zt[Vt]=null,Ur=zt[--Vt],zt[Vt]=null,Fr=zt[--Vt],zt[Vt]=null}var Nt=null,jt=null,Te=!1,cr=null;function ew(e,t){var r=Ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Om(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,jt=Pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cs!==null?{id:Fr,overflow:Ur}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,jt=null,!0):!1;default:return!1}}function Id(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dd(e){if(Te){var t=jt;if(t){var r=t;if(!Om(e,t)){if(Id(e))throw Error(O(418));t=Pn(r.nextSibling);var n=Nt;t&&Om(e,t)?ew(n,r):(e.flags=e.flags&-4097|2,Te=!1,Nt=e)}}else{if(Id(e))throw Error(O(418));e.flags=e.flags&-4097|2,Te=!1,Nt=e}}}function Am(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function za(e){if(e!==Nt)return!1;if(!Te)return Am(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jd(e.type,e.memoizedProps)),t&&(t=jt)){if(Id(e))throw tw(),Error(O(418));for(;t;)ew(e,t),t=Pn(t.nextSibling)}if(Am(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jt=Pn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Nt?Pn(e.stateNode.nextSibling):null;return!0}function tw(){for(var e=jt;e;)e=Pn(e.nextSibling)}function Bo(){jt=Nt=null,Te=!1}function xf(e){cr===null?cr=[e]:cr.push(e)}var cC=Qr.ReactCurrentBatchConfig;function mi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function Va(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Im(e){var t=e._init;return t(e._payload)}function rw(e){function t(w,g){if(e){var b=w.deletions;b===null?(w.deletions=[g],w.flags|=16):b.push(g)}}function r(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function n(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=On(w,g),w.index=0,w.sibling=null,w}function o(w,g,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<g?(w.flags|=2,g):b):(w.flags|=2,g)):(w.flags|=1048576,g)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,g,b,_){return g===null||g.tag!==6?(g=Iu(b,w.mode,_),g.return=w,g):(g=s(g,b),g.return=w,g)}function l(w,g,b,_){var S=b.type;return S===oo?u(w,g,b.props.children,_,b.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===an&&Im(S)===g.type)?(_=s(g,b.props),_.ref=mi(w,g,b),_.return=w,_):(_=El(b.type,b.key,b.props,null,w.mode,_),_.ref=mi(w,g,b),_.return=w,_)}function c(w,g,b,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Du(b,w.mode,_),g.return=w,g):(g=s(g,b.children||[]),g.return=w,g)}function u(w,g,b,_,S){return g===null||g.tag!==7?(g=Ss(b,w.mode,_,S),g.return=w,g):(g=s(g,b),g.return=w,g)}function h(w,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Iu(""+g,w.mode,b),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Oa:return b=El(g.type,g.key,g.props,null,w.mode,b),b.ref=mi(w,null,g),b.return=w,b;case so:return g=Du(g,w.mode,b),g.return=w,g;case an:var _=g._init;return h(w,_(g._payload),b)}if(xi(g)||ui(g))return g=Ss(g,w.mode,b,null),g.return=w,g;Va(w,g)}return null}function p(w,g,b,_){var S=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:a(w,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Oa:return b.key===S?l(w,g,b,_):null;case so:return b.key===S?c(w,g,b,_):null;case an:return S=b._init,p(w,g,S(b._payload),_)}if(xi(b)||ui(b))return S!==null?null:u(w,g,b,_,null);Va(w,b)}return null}function f(w,g,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(b)||null,a(g,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Oa:return w=w.get(_.key===null?b:_.key)||null,l(g,w,_,S);case so:return w=w.get(_.key===null?b:_.key)||null,c(g,w,_,S);case an:var C=_._init;return f(w,g,b,C(_._payload),S)}if(xi(_)||ui(_))return w=w.get(b)||null,u(g,w,_,S,null);Va(g,_)}return null}function x(w,g,b,_){for(var S=null,C=null,k=g,T=g=0,R=null;k!==null&&T<b.length;T++){k.index>T?(R=k,k=null):R=k.sibling;var j=p(w,k,b[T],_);if(j===null){k===null&&(k=R);break}e&&k&&j.alternate===null&&t(w,k),g=o(j,g,T),C===null?S=j:C.sibling=j,C=j,k=R}if(T===b.length)return r(w,k),Te&&ns(w,T),S;if(k===null){for(;T<b.length;T++)k=h(w,b[T],_),k!==null&&(g=o(k,g,T),C===null?S=k:C.sibling=k,C=k);return Te&&ns(w,T),S}for(k=n(w,k);T<b.length;T++)R=f(k,w,T,b[T],_),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?T:R.key),g=o(R,g,T),C===null?S=R:C.sibling=R,C=R);return e&&k.forEach(function(L){return t(w,L)}),Te&&ns(w,T),S}function m(w,g,b,_){var S=ui(b);if(typeof S!="function")throw Error(O(150));if(b=S.call(b),b==null)throw Error(O(151));for(var C=S=null,k=g,T=g=0,R=null,j=b.next();k!==null&&!j.done;T++,j=b.next()){k.index>T?(R=k,k=null):R=k.sibling;var L=p(w,k,j.value,_);if(L===null){k===null&&(k=R);break}e&&k&&L.alternate===null&&t(w,k),g=o(L,g,T),C===null?S=L:C.sibling=L,C=L,k=R}if(j.done)return r(w,k),Te&&ns(w,T),S;if(k===null){for(;!j.done;T++,j=b.next())j=h(w,j.value,_),j!==null&&(g=o(j,g,T),C===null?S=j:C.sibling=j,C=j);return Te&&ns(w,T),S}for(k=n(w,k);!j.done;T++,j=b.next())j=f(k,w,T,j.value,_),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?T:j.key),g=o(j,g,T),C===null?S=j:C.sibling=j,C=j);return e&&k.forEach(function(A){return t(w,A)}),Te&&ns(w,T),S}function y(w,g,b,_){if(typeof b=="object"&&b!==null&&b.type===oo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Oa:e:{for(var S=b.key,C=g;C!==null;){if(C.key===S){if(S=b.type,S===oo){if(C.tag===7){r(w,C.sibling),g=s(C,b.props.children),g.return=w,w=g;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===an&&Im(S)===C.type){r(w,C.sibling),g=s(C,b.props),g.ref=mi(w,C,b),g.return=w,w=g;break e}r(w,C);break}else t(w,C);C=C.sibling}b.type===oo?(g=Ss(b.props.children,w.mode,_,b.key),g.return=w,w=g):(_=El(b.type,b.key,b.props,null,w.mode,_),_.ref=mi(w,g,b),_.return=w,w=_)}return i(w);case so:e:{for(C=b.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(w,g.sibling),g=s(g,b.children||[]),g.return=w,w=g;break e}else{r(w,g);break}else t(w,g);g=g.sibling}g=Du(b,w.mode,_),g.return=w,w=g}return i(w);case an:return C=b._init,y(w,g,C(b._payload),_)}if(xi(b))return x(w,g,b,_);if(ui(b))return m(w,g,b,_);Va(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(w,g.sibling),g=s(g,b),g.return=w,w=g):(r(w,g),g=Iu(b,w.mode,_),g.return=w,w=g),i(w)):r(w,g)}return y}var zo=rw(!0),nw=rw(!1),Wl=Vn(null),Hl=null,po=null,_f=null;function Sf(){_f=po=Hl=null}function Ef(e){var t=Wl.current;Ee(Wl),e._currentValue=t}function Ld(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xo(e,t){Hl=e,_f=po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(_f!==e)if(e={context:e,memoizedValue:t,next:null},po===null){if(Hl===null)throw Error(O(308));po=e,Hl.dependencies={lanes:0,firstContext:e}}else po=po.next=e;return t}var us=null;function Cf(e){us===null?us=[e]:us.push(e)}function sw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Cf(t)):(r.next=s.next,s.next=r),t.interleaved=r,Hr(e,n)}function Hr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ln=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ow(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,de&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Hr(e,r)}return s=n.interleaved,s===null?(t.next=t,Cf(n)):(t.next=s.next,s.next=t),n.interleaved=t,Hr(e,r)}function yl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,df(e,r)}}function Dm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ql(e,t,r,n){var s=e.updateQueue;ln=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,u=c=l=null,a=o;do{var p=a.lane,f=a.eventTime;if((n&p)===p){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,m=a;switch(p=t,f=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){h=x.call(f,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,p=typeof x=="function"?x.call(f,h,p):x,p==null)break e;h=Ne({},h,p);break e;case 2:ln=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ts|=i,e.lanes=i,e.memoizedState=h}}function Lm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var xa={},Cr=Vn(xa),Xi=Vn(xa),Zi=Vn(xa);function ds(e){if(e===xa)throw Error(O(174));return e}function Tf(e,t){switch(be(Zi,t),be(Xi,e),be(Cr,xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gd(t,e)}Ee(Cr),be(Cr,t)}function Vo(){Ee(Cr),Ee(Xi),Ee(Zi)}function iw(e){ds(Zi.current);var t=ds(Cr.current),r=gd(t,e.type);t!==r&&(be(Xi,e),be(Cr,r))}function Pf(e){Xi.current===e&&(Ee(Cr),Ee(Xi))}var Re=Vn(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pu=[];function Rf(){for(var e=0;e<Pu.length;e++)Pu[e]._workInProgressVersionPrimary=null;Pu.length=0}var wl=Qr.ReactCurrentDispatcher,Ru=Qr.ReactCurrentBatchConfig,ks=0,je=null,Be=null,qe=null,Gl=!1,Oi=!1,ea=0,uC=0;function tt(){throw Error(O(321))}function jf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!hr(e[r],t[r]))return!1;return!0}function Nf(e,t,r,n,s,o){if(ks=o,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wl.current=e===null||e.memoizedState===null?pC:mC,e=r(n,s),Oi){o=0;do{if(Oi=!1,ea=0,25<=o)throw Error(O(301));o+=1,qe=Be=null,t.updateQueue=null,wl.current=gC,e=r(n,s)}while(Oi)}if(wl.current=Ql,t=Be!==null&&Be.next!==null,ks=0,qe=Be=je=null,Gl=!1,t)throw Error(O(300));return e}function Of(){var e=ea!==0;return ea=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?je.memoizedState=qe=e:qe=qe.next=e,qe}function Gt(){if(Be===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=qe===null?je.memoizedState:qe.next;if(t!==null)qe=t,Be=e;else{if(e===null)throw Error(O(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},qe===null?je.memoizedState=qe=e:qe=qe.next=e}return qe}function ta(e,t){return typeof t=="function"?t(e):t}function ju(e){var t=Gt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Be,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,l=null,c=o;do{var u=c.lane;if((ks&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,i=n):l=l.next=h,je.lanes|=u,Ts|=u}c=c.next}while(c!==null&&c!==o);l===null?i=n:l.next=a,hr(n,t.memoizedState)||(bt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,je.lanes|=o,Ts|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nu(e){var t=Gt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);hr(o,t.memoizedState)||(bt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function aw(){}function lw(e,t){var r=je,n=Gt(),s=t(),o=!hr(n.memoizedState,s);if(o&&(n.memoizedState=s,bt=!0),n=n.queue,Af(dw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,ra(9,uw.bind(null,r,n,s,t),void 0,null),Ke===null)throw Error(O(349));ks&30||cw(r,t,s)}return s}function cw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uw(e,t,r,n){t.value=r,t.getSnapshot=n,hw(t)&&fw(e)}function dw(e,t,r){return r(function(){hw(t)&&fw(e)})}function hw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hr(e,r)}catch{return!0}}function fw(e){var t=Hr(e,1);t!==null&&dr(t,e,1,-1)}function $m(e){var t=yr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:e},t.queue=e,e=e.dispatch=fC.bind(null,je,e),[t.memoizedState,e]}function ra(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pw(){return Gt().memoizedState}function bl(e,t,r,n){var s=yr();je.flags|=e,s.memoizedState=ra(1|t,r,void 0,n===void 0?null:n)}function Cc(e,t,r,n){var s=Gt();n=n===void 0?null:n;var o=void 0;if(Be!==null){var i=Be.memoizedState;if(o=i.destroy,n!==null&&jf(n,i.deps)){s.memoizedState=ra(t,r,o,n);return}}je.flags|=e,s.memoizedState=ra(1|t,r,o,n)}function Mm(e,t){return bl(8390656,8,e,t)}function Af(e,t){return Cc(2048,8,e,t)}function mw(e,t){return Cc(4,2,e,t)}function gw(e,t){return Cc(4,4,e,t)}function vw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yw(e,t,r){return r=r!=null?r.concat([e]):null,Cc(4,4,vw.bind(null,t,e),r)}function If(){}function ww(e,t){var r=Gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bw(e,t){var r=Gt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xw(e,t,r){return ks&21?(hr(r,t)||(r=ky(),je.lanes|=r,Ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=r)}function dC(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var n=Ru.transition;Ru.transition={};try{e(!1),t()}finally{ve=r,Ru.transition=n}}function _w(){return Gt().memoizedState}function hC(e,t,r){var n=Nn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sw(e))Ew(t,r);else if(r=sw(e,t,r,n),r!==null){var s=ht();dr(r,e,n,s),Cw(r,t,n)}}function fC(e,t,r){var n=Nn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sw(e))Ew(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,hr(a,i)){var l=t.interleaved;l===null?(s.next=s,Cf(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=sw(e,t,s,n),r!==null&&(s=ht(),dr(r,e,n,s),Cw(r,t,n))}}function Sw(e){var t=e.alternate;return e===je||t!==null&&t===je}function Ew(e,t){Oi=Gl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Cw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,df(e,r)}}var Ql={readContext:Kt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},pC={readContext:Kt,useCallback:function(e,t){return yr().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Mm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bl(4194308,4,vw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return bl(4,2,e,t)},useMemo:function(e,t){var r=yr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hC.bind(null,je,e),[n.memoizedState,e]},useRef:function(e){var t=yr();return e={current:e},t.memoizedState=e},useState:$m,useDebugValue:If,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=$m(!1),t=e[0];return e=dC.bind(null,e[1]),yr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=je,s=yr();if(Te){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),Ke===null)throw Error(O(349));ks&30||cw(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Mm(dw.bind(null,n,o,e),[e]),n.flags|=2048,ra(9,uw.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=yr(),t=Ke.identifierPrefix;if(Te){var r=Ur,n=Fr;r=(n&~(1<<32-ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ea++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mC={readContext:Kt,useCallback:ww,useContext:Kt,useEffect:Af,useImperativeHandle:yw,useInsertionEffect:mw,useLayoutEffect:gw,useMemo:bw,useReducer:ju,useRef:pw,useState:function(){return ju(ta)},useDebugValue:If,useDeferredValue:function(e){var t=Gt();return xw(t,Be.memoizedState,e)},useTransition:function(){var e=ju(ta)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:aw,useSyncExternalStore:lw,useId:_w,unstable_isNewReconciler:!1},gC={readContext:Kt,useCallback:ww,useContext:Kt,useEffect:Af,useImperativeHandle:yw,useInsertionEffect:mw,useLayoutEffect:gw,useMemo:bw,useReducer:Nu,useRef:pw,useState:function(){return Nu(ta)},useDebugValue:If,useDeferredValue:function(e){var t=Gt();return Be===null?t.memoizedState=e:xw(t,Be.memoizedState,e)},useTransition:function(){var e=Nu(ta)[0],t=Gt().memoizedState;return[e,t]},useMutableSource:aw,useSyncExternalStore:lw,useId:_w,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $d(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ne({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kc={isMounted:function(e){return(e=e._reactInternals)?$s(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ht(),s=Nn(e),o=Br(n,s);o.payload=t,r!=null&&(o.callback=r),t=Rn(e,o,s),t!==null&&(dr(t,e,s,n),yl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ht(),s=Nn(e),o=Br(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Rn(e,o,s),t!==null&&(dr(t,e,s,n),yl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ht(),n=Nn(e),s=Br(r,n);s.tag=2,t!=null&&(s.callback=t),t=Rn(e,s,n),t!==null&&(dr(t,e,n,r),yl(t,e,n))}};function Fm(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Gi(r,n)||!Gi(s,o):!0}function kw(e,t,r){var n=!1,s=Fn,o=t.contextType;return typeof o=="object"&&o!==null?o=Kt(o):(s=_t(t)?Es:ot.current,n=t.contextTypes,o=(n=n!=null)?Uo(e,s):Fn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Um(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&kc.enqueueReplaceState(t,t.state,null)}function Md(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},kf(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Kt(o):(o=_t(t)?Es:ot.current,s.context=Uo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&($d(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kc.enqueueReplaceState(s,s.state,null),ql(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wo(e,t){try{var r="",n=t;do r+=W1(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ou(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vC=typeof WeakMap=="function"?WeakMap:Map;function Tw(e,t,r){r=Br(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yl||(Yl=!0,Qd=n),Fd(e,t)},r}function Pw(e,t,r){r=Br(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Fd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Fd(e,t),typeof n!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Bm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=NC.bind(null,e,t,r),t.then(e,e))}function zm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Br(-1,1),t.tag=2,Rn(r,t,1))),r.lanes|=1),e)}var yC=Qr.ReactCurrentOwner,bt=!1;function lt(e,t,r,n){t.child=e===null?nw(t,null,r,n):zo(t,e.child,r,n)}function Wm(e,t,r,n,s){r=r.render;var o=t.ref;return xo(t,s),n=Nf(e,t,r,n,o,s),r=Of(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qr(e,t,s)):(Te&&r&&wf(t),t.flags|=1,lt(e,t,n,s),t.child)}function Hm(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!zf(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Rw(e,t,o,n,s)):(e=El(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Gi,r(i,n)&&e.ref===t.ref)return qr(e,t,s)}return t.flags|=1,e=On(o,n),e.ref=t.ref,e.return=t,t.child=e}function Rw(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Gi(o,n)&&e.ref===t.ref)if(bt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,qr(e,t,s)}return Ud(e,t,r,n,s)}function jw(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(go,kt),kt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(go,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,be(go,kt),kt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,be(go,kt),kt|=n;return lt(e,t,s,r),t.child}function Nw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ud(e,t,r,n,s){var o=_t(r)?Es:ot.current;return o=Uo(t,o),xo(t,s),r=Nf(e,t,r,n,o,s),n=Of(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qr(e,t,s)):(Te&&n&&wf(t),t.flags|=1,lt(e,t,r,s),t.child)}function qm(e,t,r,n,s){if(_t(r)){var o=!0;Bl(t)}else o=!1;if(xo(t,s),t.stateNode===null)xl(e,t),kw(t,r,n),Md(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=_t(r)?Es:ot.current,c=Uo(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Um(t,i,n,c),ln=!1;var p=t.memoizedState;i.state=p,ql(t,n,i,s),l=t.memoizedState,a!==n||p!==l||xt.current||ln?(typeof u=="function"&&($d(t,r,u,n),l=t.memoizedState),(a=ln||Fm(t,r,a,n,p,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ow(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:nr(t.type,a),i.props=c,h=t.pendingProps,p=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Kt(l):(l=_t(r)?Es:ot.current,l=Uo(t,l));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Um(t,i,n,l),ln=!1,p=t.memoizedState,i.state=p,ql(t,n,i,s);var x=t.memoizedState;a!==h||p!==x||xt.current||ln?(typeof f=="function"&&($d(t,r,f,n),x=t.memoizedState),(c=ln||Fm(t,r,c,n,p,x,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,x,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,x,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),i.props=n,i.state=x,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Bd(e,t,r,n,o,s)}function Bd(e,t,r,n,s,o){Nw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Nm(t,r,!1),qr(e,t,o);n=t.stateNode,yC.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=zo(t,e.child,null,o),t.child=zo(t,null,a,o)):lt(e,t,a,o),t.memoizedState=n.state,s&&Nm(t,r,!0),t.child}function Ow(e){var t=e.stateNode;t.pendingContext?jm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jm(e,t.context,!1),Tf(e,t.containerInfo)}function Km(e,t,r,n,s){return Bo(),xf(s),t.flags|=256,lt(e,t,r,n),t.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function Vd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Aw(e,t,r){var n=t.pendingProps,s=Re.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(Re,s&1),e===null)return Dd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Rc(i,n,0,null),e=Ss(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vd(r),t.memoizedState=zd,e):Df(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wC(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=On(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=On(a,o):(o=Ss(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Vd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=zd,n}return o=e.child,e=o.sibling,n=On(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Df(e,t){return t=Rc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wa(e,t,r,n){return n!==null&&xf(n),zo(t,e.child,null,r),e=Df(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wC(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Ou(Error(O(422))),Wa(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Rc({mode:"visible",children:n.children},s,0,null),o=Ss(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&zo(t,e.child,null,i),t.child.memoizedState=Vd(i),t.memoizedState=zd,o);if(!(t.mode&1))return Wa(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(O(419)),n=Ou(o,n,void 0),Wa(e,t,i,n)}if(a=(i&e.childLanes)!==0,bt||a){if(n=Ke,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Hr(e,s),dr(n,e,s,-1))}return Bf(),n=Ou(Error(O(421))),Wa(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=OC.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,jt=Pn(s.nextSibling),Nt=t,Te=!0,cr=null,e!==null&&(zt[Vt++]=Fr,zt[Vt++]=Ur,zt[Vt++]=Cs,Fr=e.id,Ur=e.overflow,Cs=t),t=Df(t,n.children),t.flags|=4096,t)}function Gm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ld(e.return,t,r)}function Au(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Iw(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(lt(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gm(e,r,t);else if(e.tag===19)Gm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(be(Re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Kl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Au(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Kl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Au(t,!0,r,null,o);break;case"together":Au(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=On(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=On(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bC(e,t,r){switch(t.tag){case 3:Ow(t),Bo();break;case 5:iw(t);break;case 1:_t(t.type)&&Bl(t);break;case 4:Tf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;be(Wl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(be(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?Aw(e,t,r):(be(Re,Re.current&1),e=qr(e,t,r),e!==null?e.sibling:null);be(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Iw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,jw(e,t,r)}return qr(e,t,r)}var Dw,Wd,Lw,$w;Dw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wd=function(){};Lw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ds(Cr.current);var o=null;switch(r){case"input":s=hd(e,s),n=hd(e,n),o=[];break;case"select":s=Ne({},s,{value:void 0}),n=Ne({},n,{value:void 0}),o=[];break;case"textarea":s=md(e,s),n=md(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fl)}vd(r,n);var i;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};$w=function(e,t,r,n){r!==n&&(t.flags|=4)};function gi(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xC(e,t,r){var n=t.pendingProps;switch(bf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return _t(t.type)&&Ul(),rt(t),null;case 3:return n=t.stateNode,Vo(),Ee(xt),Ee(ot),Rf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(za(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(Xd(cr),cr=null))),Wd(e,t),rt(t),null;case 5:Pf(t);var s=ds(Zi.current);if(r=t.type,e!==null&&t.stateNode!=null)Lw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return rt(t),null}if(e=ds(Cr.current),za(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[_r]=t,n[Yi]=o,e=(t.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(s=0;s<Si.length;s++)Se(Si[s],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":nm(n,o),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Se("invalid",n);break;case"textarea":om(n,o),Se("invalid",n)}vd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ba(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ba(n.textContent,a,e),s=["children",""+a]):Bi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Se("scroll",n)}switch(r){case"input":Aa(n),sm(n,o,!0);break;case"textarea":Aa(n),im(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Fl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[_r]=t,e[Yi]=n,Dw(e,t,!1,!1),t.stateNode=e;e:{switch(i=yd(r,n),r){case"dialog":Se("cancel",e),Se("close",e),s=n;break;case"iframe":case"object":case"embed":Se("load",e),s=n;break;case"video":case"audio":for(s=0;s<Si.length;s++)Se(Si[s],e);s=n;break;case"source":Se("error",e),s=n;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=n;break;case"details":Se("toggle",e),s=n;break;case"input":nm(e,n),s=hd(e,n),Se("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ne({},n,{value:void 0}),Se("invalid",e);break;case"textarea":om(e,n),s=md(e,n),Se("invalid",e);break;default:s=n}vd(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?py(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hy(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zi(e,l):typeof l=="number"&&zi(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Se("scroll",e):l!=null&&sf(e,o,l,i))}switch(r){case"input":Aa(e),sm(e,n,!1);break;case"textarea":Aa(e),im(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?vo(e,!!n.multiple,o,!1):n.defaultValue!=null&&vo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)$w(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=ds(Zi.current),ds(Cr.current),za(t)){if(n=t.stateNode,r=t.memoizedProps,n[_r]=t,(o=n.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:Ba(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ba(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_r]=t,t.stateNode=n}return rt(t),null;case 13:if(Ee(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&jt!==null&&t.mode&1&&!(t.flags&128))tw(),Bo(),t.flags|=98560,o=!1;else if(o=za(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[_r]=t}else Bo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),o=!1}else cr!==null&&(Xd(cr),cr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?We===0&&(We=3):Bf())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Vo(),Wd(e,t),e===null&&Qi(t.stateNode.containerInfo),rt(t),null;case 10:return Ef(t.type._context),rt(t),null;case 17:return _t(t.type)&&Ul(),rt(t),null;case 19:if(Ee(Re),o=t.memoizedState,o===null)return rt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)gi(o,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Kl(e),i!==null){for(t.flags|=128,gi(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return be(Re,Re.current&1|2),t.child}e=e.sibling}o.tail!==null&&Le()>Ho&&(t.flags|=128,n=!0,gi(o,!1),t.lanes=4194304)}else{if(!n)if(e=Kl(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Te)return rt(t),null}else 2*Le()-o.renderingStartTime>Ho&&r!==1073741824&&(t.flags|=128,n=!0,gi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Le(),t.sibling=null,r=Re.current,be(Re,n?r&1|2:r&1),t):(rt(t),null);case 22:case 23:return Uf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?kt&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function _C(e,t){switch(bf(t),t.tag){case 1:return _t(t.type)&&Ul(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vo(),Ee(xt),Ee(ot),Rf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pf(t),null;case 13:if(Ee(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Bo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Re),null;case 4:return Vo(),null;case 10:return Ef(t.type._context),null;case 22:case 23:return Uf(),null;case 24:return null;default:return null}}var Ha=!1,st=!1,SC=typeof WeakSet=="function"?WeakSet:Set,B=null;function mo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){De(e,t,n)}else r.current=null}function Hd(e,t,r){try{r()}catch(n){De(e,t,n)}}var Qm=!1;function EC(e,t){if(Pd=Ll,e=zy(),yf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,c=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(a=i+s),h!==o||n!==0&&h.nodeType!==3||(l=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++c===s&&(a=i),p===o&&++u===n&&(l=i),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rd={focusedElem:e,selectionRange:r},Ll=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,y=x.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?m:nr(t.type,m),y);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){De(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return x=Qm,Qm=!1,x}function Ai(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Hd(t,r,o)}s=s.next}while(s!==n)}}function Tc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mw(e){var t=e.alternate;t!==null&&(e.alternate=null,Mw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[Yi],delete t[Od],delete t[iC],delete t[aC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fw(e){return e.tag===5||e.tag===3||e.tag===4}function Jm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fl));else if(n!==4&&(e=e.child,e!==null))for(Kd(e,t,r),e=e.sibling;e!==null;)Kd(e,t,r),e=e.sibling}function Gd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Gd(e,t,r),e=e.sibling;e!==null;)Gd(e,t,r),e=e.sibling}var Je=null,ar=!1;function en(e,t,r){for(r=r.child;r!==null;)Uw(e,t,r),r=r.sibling}function Uw(e,t,r){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(wc,r)}catch{}switch(r.tag){case 5:st||mo(r,t);case 6:var n=Je,s=ar;Je=null,en(e,t,r),Je=n,ar=s,Je!==null&&(ar?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(ar?(e=Je,r=r.stateNode,e.nodeType===8?ku(e.parentNode,r):e.nodeType===1&&ku(e,r),qi(e)):ku(Je,r.stateNode));break;case 4:n=Je,s=ar,Je=r.stateNode.containerInfo,ar=!0,en(e,t,r),Je=n,ar=s;break;case 0:case 11:case 14:case 15:if(!st&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Hd(r,t,i),s=s.next}while(s!==n)}en(e,t,r);break;case 1:if(!st&&(mo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){De(r,t,a)}en(e,t,r);break;case 21:en(e,t,r);break;case 22:r.mode&1?(st=(n=st)||r.memoizedState!==null,en(e,t,r),st=n):en(e,t,r);break;default:en(e,t,r)}}function Ym(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new SC),t.forEach(function(n){var s=AC.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Je=a.stateNode,ar=!1;break e;case 3:Je=a.stateNode.containerInfo,ar=!0;break e;case 4:Je=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(Je===null)throw Error(O(160));Uw(o,i,s),Je=null,ar=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){De(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bw(t,e),t=t.sibling}function Bw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zt(t,e),vr(e),n&4){try{Ai(3,e,e.return),Tc(3,e)}catch(m){De(e,e.return,m)}try{Ai(5,e,e.return)}catch(m){De(e,e.return,m)}}break;case 1:Zt(t,e),vr(e),n&512&&r!==null&&mo(r,r.return);break;case 5:if(Zt(t,e),vr(e),n&512&&r!==null&&mo(r,r.return),e.flags&32){var s=e.stateNode;try{zi(s,"")}catch(m){De(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&cy(s,o),yd(a,i);var c=yd(a,o);for(i=0;i<l.length;i+=2){var u=l[i],h=l[i+1];u==="style"?py(s,h):u==="dangerouslySetInnerHTML"?hy(s,h):u==="children"?zi(s,h):sf(s,u,h,c)}switch(a){case"input":fd(s,o);break;case"textarea":uy(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?vo(s,!!o.multiple,f,!1):p!==!!o.multiple&&(o.defaultValue!=null?vo(s,!!o.multiple,o.defaultValue,!0):vo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Yi]=o}catch(m){De(e,e.return,m)}}break;case 6:if(Zt(t,e),vr(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){De(e,e.return,m)}}break;case 3:if(Zt(t,e),vr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qi(t.containerInfo)}catch(m){De(e,e.return,m)}break;case 4:Zt(t,e),vr(e);break;case 13:Zt(t,e),vr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Mf=Le())),n&4&&Ym(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(st=(c=st)||u,Zt(t,e),st=c):Zt(t,e),vr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(B=e,u=e.child;u!==null;){for(h=B=u;B!==null;){switch(p=B,f=p.child,p.tag){case 0:case 11:case 14:case 15:Ai(4,p,p.return);break;case 1:mo(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){De(n,r,m)}}break;case 5:mo(p,p.return);break;case 22:if(p.memoizedState!==null){Zm(h);continue}}f!==null?(f.return=p,B=f):Zm(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=fy("display",i))}catch(m){De(e,e.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){De(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Zt(t,e),vr(e),n&4&&Ym(e);break;case 21:break;default:Zt(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fw(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zi(s,""),n.flags&=-33);var o=Jm(e);Gd(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Jm(e);Kd(e,a,i);break;default:throw Error(O(161))}}catch(l){De(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CC(e,t,r){B=e,zw(e)}function zw(e,t,r){for(var n=(e.mode&1)!==0;B!==null;){var s=B,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Ha;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||st;a=Ha;var c=st;if(Ha=i,(st=l)&&!c)for(B=s;B!==null;)i=B,l=i.child,i.tag===22&&i.memoizedState!==null?eg(s):l!==null?(l.return=i,B=l):eg(s);for(;o!==null;)B=o,zw(o),o=o.sibling;B=s,Ha=a,st=c}Xm(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,B=o):Xm(e)}}function Xm(e){for(;B!==null;){var t=B;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:st||Tc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!st)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:nr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Lm(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lm(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&qi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}st||t.flags&512&&qd(t)}catch(p){De(t,t.return,p)}}if(t===e){B=null;break}if(r=t.sibling,r!==null){r.return=t.return,B=r;break}B=t.return}}function Zm(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var r=t.sibling;if(r!==null){r.return=t.return,B=r;break}B=t.return}}function eg(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tc(4,t)}catch(l){De(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){De(t,s,l)}}var o=t.return;try{qd(t)}catch(l){De(t,o,l)}break;case 5:var i=t.return;try{qd(t)}catch(l){De(t,i,l)}}}catch(l){De(t,t.return,l)}if(t===e){B=null;break}var a=t.sibling;if(a!==null){a.return=t.return,B=a;break}B=t.return}}var kC=Math.ceil,Jl=Qr.ReactCurrentDispatcher,Lf=Qr.ReactCurrentOwner,qt=Qr.ReactCurrentBatchConfig,de=0,Ke=null,Me=null,Ye=0,kt=0,go=Vn(0),We=0,na=null,Ts=0,Pc=0,$f=0,Ii=null,wt=null,Mf=0,Ho=1/0,Ir=null,Yl=!1,Qd=null,jn=null,qa=!1,Sn=null,Xl=0,Di=0,Jd=null,_l=-1,Sl=0;function ht(){return de&6?Le():_l!==-1?_l:_l=Le()}function Nn(e){return e.mode&1?de&2&&Ye!==0?Ye&-Ye:cC.transition!==null?(Sl===0&&(Sl=ky()),Sl):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Ay(e.type)),e):1}function dr(e,t,r,n){if(50<Di)throw Di=0,Jd=null,Error(O(185));ya(e,r,n),(!(de&2)||e!==Ke)&&(e===Ke&&(!(de&2)&&(Pc|=r),We===4&&un(e,Ye)),St(e,n),r===1&&de===0&&!(t.mode&1)&&(Ho=Le()+500,Ec&&Wn()))}function St(e,t){var r=e.callbackNode;cE(e,t);var n=Dl(e,e===Ke?Ye:0);if(n===0)r!==null&&cm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cm(r),t===1)e.tag===0?lC(tg.bind(null,e)):Xy(tg.bind(null,e)),sC(function(){!(de&6)&&Wn()}),r=null;else{switch(Ty(n)){case 1:r=uf;break;case 4:r=Ey;break;case 16:r=Il;break;case 536870912:r=Cy;break;default:r=Il}r=Jw(r,Vw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vw(e,t){if(_l=-1,Sl=0,de&6)throw Error(O(327));var r=e.callbackNode;if(_o()&&e.callbackNode!==r)return null;var n=Dl(e,e===Ke?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zl(e,n);else{t=n;var s=de;de|=2;var o=Hw();(Ke!==e||Ye!==t)&&(Ir=null,Ho=Le()+500,_s(e,t));do try{RC();break}catch(a){Ww(e,a)}while(!0);Sf(),Jl.current=o,de=s,Me!==null?t=0:(Ke=null,Ye=0,t=We)}if(t!==0){if(t===2&&(s=Sd(e),s!==0&&(n=s,t=Yd(e,s))),t===1)throw r=na,_s(e,0),un(e,n),St(e,Le()),r;if(t===6)un(e,n);else{if(s=e.current.alternate,!(n&30)&&!TC(s)&&(t=Zl(e,n),t===2&&(o=Sd(e),o!==0&&(n=o,t=Yd(e,o))),t===1))throw r=na,_s(e,0),un(e,n),St(e,Le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:ss(e,wt,Ir);break;case 3:if(un(e,n),(n&130023424)===n&&(t=Mf+500-Le(),10<t)){if(Dl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ht(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nd(ss.bind(null,e,wt,Ir),t);break}ss(e,wt,Ir);break;case 4:if(un(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-ur(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kC(n/1960))-n,10<n){e.timeoutHandle=Nd(ss.bind(null,e,wt,Ir),n);break}ss(e,wt,Ir);break;case 5:ss(e,wt,Ir);break;default:throw Error(O(329))}}}return St(e,Le()),e.callbackNode===r?Vw.bind(null,e):null}function Yd(e,t){var r=Ii;return e.current.memoizedState.isDehydrated&&(_s(e,t).flags|=256),e=Zl(e,t),e!==2&&(t=wt,wt=r,t!==null&&Xd(t)),e}function Xd(e){wt===null?wt=e:wt.push.apply(wt,e)}function TC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!hr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~$f,t&=~Pc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ur(t),n=1<<r;e[r]=-1,t&=~n}}function tg(e){if(de&6)throw Error(O(327));_o();var t=Dl(e,0);if(!(t&1))return St(e,Le()),null;var r=Zl(e,t);if(e.tag!==0&&r===2){var n=Sd(e);n!==0&&(t=n,r=Yd(e,n))}if(r===1)throw r=na,_s(e,0),un(e,t),St(e,Le()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ss(e,wt,Ir),St(e,Le()),null}function Ff(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(Ho=Le()+500,Ec&&Wn())}}function Ps(e){Sn!==null&&Sn.tag===0&&!(de&6)&&_o();var t=de;de|=1;var r=qt.transition,n=ve;try{if(qt.transition=null,ve=1,e)return e()}finally{ve=n,qt.transition=r,de=t,!(de&6)&&Wn()}}function Uf(){kt=go.current,Ee(go)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nC(r)),Me!==null)for(r=Me.return;r!==null;){var n=r;switch(bf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ul();break;case 3:Vo(),Ee(xt),Ee(ot),Rf();break;case 5:Pf(n);break;case 4:Vo();break;case 13:Ee(Re);break;case 19:Ee(Re);break;case 10:Ef(n.type._context);break;case 22:case 23:Uf()}r=r.return}if(Ke=e,Me=e=On(e.current,null),Ye=kt=t,We=0,na=null,$f=Pc=Ts=0,wt=Ii=null,us!==null){for(t=0;t<us.length;t++)if(r=us[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}us=null}return e}function Ww(e,t){do{var r=Me;try{if(Sf(),wl.current=Ql,Gl){for(var n=je.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gl=!1}if(ks=0,qe=Be=je=null,Oi=!1,ea=0,Lf.current=null,r===null||r.return===null){We=1,na=t,Me=null;break}e:{var o=e,i=r.return,a=r,l=t;if(t=Ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=zm(i);if(f!==null){f.flags&=-257,Vm(f,i,a,o,t),f.mode&1&&Bm(o,c,t),t=f,l=c;var x=t.updateQueue;if(x===null){var m=new Set;m.add(l),t.updateQueue=m}else x.add(l);break e}else{if(!(t&1)){Bm(o,c,t),Bf();break e}l=Error(O(426))}}else if(Te&&a.mode&1){var y=zm(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Vm(y,i,a,o,t),xf(Wo(l,a));break e}}o=l=Wo(l,a),We!==4&&(We=2),Ii===null?Ii=[o]:Ii.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Tw(o,l,t);Dm(o,w);break e;case 1:a=l;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(jn===null||!jn.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Pw(o,a,t);Dm(o,_);break e}}o=o.return}while(o!==null)}Kw(r)}catch(S){t=S,Me===r&&r!==null&&(Me=r=r.return);continue}break}while(!0)}function Hw(){var e=Jl.current;return Jl.current=Ql,e===null?Ql:e}function Bf(){(We===0||We===3||We===2)&&(We=4),Ke===null||!(Ts&268435455)&&!(Pc&268435455)||un(Ke,Ye)}function Zl(e,t){var r=de;de|=2;var n=Hw();(Ke!==e||Ye!==t)&&(Ir=null,_s(e,t));do try{PC();break}catch(s){Ww(e,s)}while(!0);if(Sf(),de=r,Jl.current=n,Me!==null)throw Error(O(261));return Ke=null,Ye=0,We}function PC(){for(;Me!==null;)qw(Me)}function RC(){for(;Me!==null&&!eE();)qw(Me)}function qw(e){var t=Qw(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?Kw(e):Me=t,Lf.current=null}function Kw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_C(r,t),r!==null){r.flags&=32767,Me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Me=null;return}}else if(r=xC(r,t,kt),r!==null){Me=r;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);We===0&&(We=5)}function ss(e,t,r){var n=ve,s=qt.transition;try{qt.transition=null,ve=1,jC(e,t,r,n)}finally{qt.transition=s,ve=n}return null}function jC(e,t,r,n){do _o();while(Sn!==null);if(de&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(uE(e,o),e===Ke&&(Me=Ke=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qa||(qa=!0,Jw(Il,function(){return _o(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=qt.transition,qt.transition=null;var i=ve;ve=1;var a=de;de|=4,Lf.current=null,EC(e,r),Bw(r,e),JE(Rd),Ll=!!Pd,Rd=Pd=null,e.current=r,CC(r),tE(),de=a,ve=i,qt.transition=o}else e.current=r;if(qa&&(qa=!1,Sn=e,Xl=s),o=e.pendingLanes,o===0&&(jn=null),sE(r.stateNode),St(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yl)throw Yl=!1,e=Qd,Qd=null,e;return Xl&1&&e.tag!==0&&_o(),o=e.pendingLanes,o&1?e===Jd?Di++:(Di=0,Jd=e):Di=0,Wn(),null}function _o(){if(Sn!==null){var e=Ty(Xl),t=qt.transition,r=ve;try{if(qt.transition=null,ve=16>e?16:e,Sn===null)var n=!1;else{if(e=Sn,Sn=null,Xl=0,de&6)throw Error(O(331));var s=de;for(de|=4,B=e.current;B!==null;){var o=B,i=o.child;if(B.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(B=c;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:Ai(8,u,o)}var h=u.child;if(h!==null)h.return=u,B=h;else for(;B!==null;){u=B;var p=u.sibling,f=u.return;if(Mw(u),u===c){B=null;break}if(p!==null){p.return=f,B=p;break}B=f}}}var x=o.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}B=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,B=i;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ai(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,B=w;break e}B=o.return}}var g=e.current;for(B=g;B!==null;){i=B;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,B=b;else e:for(i=g;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tc(9,a)}}catch(S){De(a,a.return,S)}if(a===i){B=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,B=_;break e}B=a.return}}if(de=s,Wn(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(wc,e)}catch{}n=!0}return n}finally{ve=r,qt.transition=t}}return!1}function rg(e,t,r){t=Wo(r,t),t=Tw(e,t,1),e=Rn(e,t,1),t=ht(),e!==null&&(ya(e,1,t),St(e,t))}function De(e,t,r){if(e.tag===3)rg(e,e,r);else for(;t!==null;){if(t.tag===3){rg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(jn===null||!jn.has(n))){e=Wo(r,e),e=Pw(t,e,1),t=Rn(t,e,1),e=ht(),t!==null&&(ya(t,1,e),St(t,e));break}}t=t.return}}function NC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ht(),e.pingedLanes|=e.suspendedLanes&r,Ke===e&&(Ye&r)===r&&(We===4||We===3&&(Ye&130023424)===Ye&&500>Le()-Mf?_s(e,0):$f|=r),St(e,t)}function Gw(e,t){t===0&&(e.mode&1?(t=La,La<<=1,!(La&130023424)&&(La=4194304)):t=1);var r=ht();e=Hr(e,t),e!==null&&(ya(e,t,r),St(e,r))}function OC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gw(e,r)}function AC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),Gw(e,r)}var Qw;Qw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bt=!1,bC(e,t,r);bt=!!(e.flags&131072)}else bt=!1,Te&&t.flags&1048576&&Zy(t,Vl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xl(e,t),e=t.pendingProps;var s=Uo(t,ot.current);xo(t,r),s=Nf(null,t,n,e,s,r);var o=Of();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_t(n)?(o=!0,Bl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kf(t),s.updater=kc,t.stateNode=s,s._reactInternals=t,Md(t,n,e,r),t=Bd(null,t,n,!0,o,r)):(t.tag=0,Te&&o&&wf(t),lt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=DC(n),e=nr(n,e),s){case 0:t=Ud(null,t,n,e,r);break e;case 1:t=qm(null,t,n,e,r);break e;case 11:t=Wm(null,t,n,e,r);break e;case 14:t=Hm(null,t,n,nr(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),Ud(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),qm(e,t,n,s,r);case 3:e:{if(Ow(t),e===null)throw Error(O(387));n=t.pendingProps,o=t.memoizedState,s=o.element,ow(e,t),ql(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Wo(Error(O(423)),t),t=Km(e,t,n,r,s);break e}else if(n!==s){s=Wo(Error(O(424)),t),t=Km(e,t,n,r,s);break e}else for(jt=Pn(t.stateNode.containerInfo.firstChild),Nt=t,Te=!0,cr=null,r=nw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bo(),n===s){t=qr(e,t,r);break e}lt(e,t,n,r)}t=t.child}return t;case 5:return iw(t),e===null&&Dd(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,jd(n,s)?i=null:o!==null&&jd(n,o)&&(t.flags|=32),Nw(e,t),lt(e,t,i,r),t.child;case 6:return e===null&&Dd(t),null;case 13:return Aw(e,t,r);case 4:return Tf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zo(t,null,n,r):lt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),Wm(e,t,n,s,r);case 7:return lt(e,t,t.pendingProps,r),t.child;case 8:return lt(e,t,t.pendingProps.children,r),t.child;case 12:return lt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,be(Wl,n._currentValue),n._currentValue=i,o!==null)if(hr(o.value,i)){if(o.children===s.children&&!xt.current){t=qr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Br(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ld(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(O(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ld(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}lt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,xo(t,r),s=Kt(s),n=n(s),t.flags|=1,lt(e,t,n,r),t.child;case 14:return n=t.type,s=nr(n,t.pendingProps),s=nr(n.type,s),Hm(e,t,n,s,r);case 15:return Rw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nr(n,s),xl(e,t),t.tag=1,_t(n)?(e=!0,Bl(t)):e=!1,xo(t,r),kw(t,n,s),Md(t,n,s,r),Bd(null,t,n,!0,e,r);case 19:return Iw(e,t,r);case 22:return jw(e,t,r)}throw Error(O(156,t.tag))};function Jw(e,t){return Sy(e,t)}function IC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,r,n){return new IC(e,t,r,n)}function zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function DC(e){if(typeof e=="function")return zf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===af)return 11;if(e===lf)return 14}return 2}function On(e,t){var r=e.alternate;return r===null?(r=Ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function El(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")zf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case oo:return Ss(r.children,s,o,t);case of:i=8,s|=8;break;case ld:return e=Ht(12,r,t,s|2),e.elementType=ld,e.lanes=o,e;case cd:return e=Ht(13,r,t,s),e.elementType=cd,e.lanes=o,e;case ud:return e=Ht(19,r,t,s),e.elementType=ud,e.lanes=o,e;case iy:return Rc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sy:i=10;break e;case oy:i=9;break e;case af:i=11;break e;case lf:i=14;break e;case an:i=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Ht(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Ss(e,t,r,n){return e=Ht(7,e,n,t),e.lanes=r,e}function Rc(e,t,r,n){return e=Ht(22,e,n,t),e.elementType=iy,e.lanes=r,e.stateNode={isHidden:!1},e}function Iu(e,t,r){return e=Ht(6,e,null,t),e.lanes=r,e}function Du(e,t,r){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vf(e,t,r,n,s,o,i,a,l){return e=new LC(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(o),e}function $C(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:so,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Yw(e){if(!e)return Fn;e=e._reactInternals;e:{if($s(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_t(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(_t(r))return Yy(e,r,t)}return t}function Xw(e,t,r,n,s,o,i,a,l){return e=Vf(r,n,!0,e,s,o,i,a,l),e.context=Yw(null),r=e.current,n=ht(),s=Nn(r),o=Br(n,s),o.callback=t??null,Rn(r,o,s),e.current.lanes=s,ya(e,s,n),St(e,n),e}function jc(e,t,r,n){var s=t.current,o=ht(),i=Nn(s);return r=Yw(r),t.context===null?t.context=r:t.pendingContext=r,t=Br(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rn(s,t,i),e!==null&&(dr(e,s,i,o),yl(e,s,i)),i}function ec(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ng(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Wf(e,t){ng(e,t),(e=e.alternate)&&ng(e,t)}function MC(){return null}var Zw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hf(e){this._internalRoot=e}Nc.prototype.render=Hf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));jc(e,t,null,null)};Nc.prototype.unmount=Hf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ps(function(){jc(null,e,null,null)}),t[Wr]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cn.length&&t!==0&&t<cn[r].priority;r++);cn.splice(r,0,e),r===0&&Oy(e)}};function qf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sg(){}function FC(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var c=ec(i);o.call(c)}}var i=Xw(t,n,e,0,null,!1,!1,"",sg);return e._reactRootContainer=i,e[Wr]=i.current,Qi(e.nodeType===8?e.parentNode:e),Ps(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ec(l);a.call(c)}}var l=Vf(e,0,!1,null,null,!1,!1,"",sg);return e._reactRootContainer=l,e[Wr]=l.current,Qi(e.nodeType===8?e.parentNode:e),Ps(function(){jc(t,l,r,n)}),l}function Ac(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=ec(i);a.call(l)}}jc(t,i,e,s)}else i=FC(r,t,e,s,n);return ec(i)}Py=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_i(t.pendingLanes);r!==0&&(df(t,r|1),St(t,Le()),!(de&6)&&(Ho=Le()+500,Wn()))}break;case 13:Ps(function(){var n=Hr(e,1);if(n!==null){var s=ht();dr(n,e,1,s)}}),Wf(e,1)}};hf=function(e){if(e.tag===13){var t=Hr(e,134217728);if(t!==null){var r=ht();dr(t,e,134217728,r)}Wf(e,134217728)}};Ry=function(e){if(e.tag===13){var t=Nn(e),r=Hr(e,t);if(r!==null){var n=ht();dr(r,e,t,n)}Wf(e,t)}};jy=function(){return ve};Ny=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}};bd=function(e,t,r){switch(t){case"input":if(fd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Sc(n);if(!s)throw Error(O(90));ly(n),fd(n,s)}}}break;case"textarea":uy(e,r);break;case"select":t=r.value,t!=null&&vo(e,!!r.multiple,t,!1)}};vy=Ff;yy=Ps;var UC={usingClientEntryPoint:!1,Events:[ba,co,Sc,my,gy,Ff]},vi={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BC={bundleType:vi.bundleType,version:vi.version,rendererPackageName:vi.rendererPackageName,rendererConfig:vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xy(e),e===null?null:e.stateNode},findFiberByHostInstance:vi.findFiberByHostInstance||MC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ka.isDisabled&&Ka.supportsFiber)try{wc=Ka.inject(BC),Er=Ka}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;Dt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(t))throw Error(O(200));return $C(e,t,null,r)};Dt.createRoot=function(e,t){if(!qf(e))throw Error(O(299));var r=!1,n="",s=Zw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Vf(e,1,!1,null,null,r,!1,n,s),e[Wr]=t.current,Qi(e.nodeType===8?e.parentNode:e),new Hf(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=xy(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Ps(e)};Dt.hydrate=function(e,t,r){if(!Oc(t))throw Error(O(200));return Ac(null,e,t,!0,r)};Dt.hydrateRoot=function(e,t,r){if(!qf(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Zw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Xw(t,null,e,1,r??null,s,!1,o,i),e[Wr]=t.current,Qi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Nc(t)};Dt.render=function(e,t,r){if(!Oc(t))throw Error(O(200));return Ac(null,e,t,!1,r)};Dt.unmountComponentAtNode=function(e){if(!Oc(e))throw Error(O(40));return e._reactRootContainer?(Ps(function(){Ac(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0):!1};Dt.unstable_batchedUpdates=Ff;Dt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Oc(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Ac(e,t,r,!1,n)};Dt.version="18.3.1-next-f1338f8080-20240426";function e0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e0)}catch(e){console.error(e)}}e0(),ey.exports=Dt;var Ms=ey.exports;const t0=zv(Ms);var r0,og=Ms;r0=og.createRoot,og.hydrateRoot;const zC=1,VC=1e6;let Lu=0;function WC(){return Lu=(Lu+1)%Number.MAX_SAFE_INTEGER,Lu.toString()}const $u=new Map,ig=e=>{if($u.has(e))return;const t=setTimeout(()=>{$u.delete(e),Li({type:"REMOVE_TOAST",toastId:e})},VC);$u.set(e,t)},HC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?ig(r):e.toasts.forEach(n=>{ig(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Cl=[];let kl={toasts:[]};function Li(e){kl=HC(kl,e),Cl.forEach(t=>{t(kl)})}function qC({...e}){const t=WC(),r=s=>Li({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Li({type:"DISMISS_TOAST",toastId:t});return Li({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function KC(){const[e,t]=v.useState(kl);return v.useEffect(()=>(Cl.push(t),()=>{const r=Cl.indexOf(t);r>-1&&Cl.splice(r,1)}),[e]),{...e,toast:qC,dismiss:r=>Li({type:"DISMISS_TOAST",toastId:r})}}function W(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ag(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function n0(...e){return t=>{let r=!1;const n=e.map(s=>{const o=ag(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():ag(e[s],null)}}}}function ue(...e){return v.useCallback(n0(...e),e)}function GC(e,t){const r=v.createContext(t),n=o=>{const{children:i,...a}=o,l=v.useMemo(()=>a,Object.values(a));return d.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function s(o){const i=v.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Pr(e,t=[]){let r=[];function n(o,i){const a=v.createContext(i),l=r.length;r=[...r,i];const c=h=>{var w;const{scope:p,children:f,...x}=h,m=((w=p==null?void 0:p[e])==null?void 0:w[l])||a,y=v.useMemo(()=>x,Object.values(x));return d.jsx(m.Provider,{value:y,children:f})};c.displayName=o+"Provider";function u(h,p){var m;const f=((m=p==null?void 0:p[e])==null?void 0:m[l])||a,x=v.useContext(f);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,u]}const s=()=>{const o=r.map(i=>v.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[n,QC(s,...t)]}function QC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function qo(e){const t=YC(e),r=v.forwardRef((n,s)=>{const{children:o,...i}=n,a=v.Children.toArray(o),l=a.find(ZC);if(l){const c=l.props.children,u=a.map(h=>h===l?v.Children.count(c)>1?v.Children.only(null):v.isValidElement(c)?c.props.children:null:h);return d.jsx(t,{...i,ref:s,children:v.isValidElement(c)?v.cloneElement(c,void 0,u):null})}return d.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var JC=qo("Slot");function YC(e){const t=v.forwardRef((r,n)=>{const{children:s,...o}=r;if(v.isValidElement(s)){const i=tk(s),a=ek(o,s.props);return s.type!==v.Fragment&&(a.ref=n?n0(n,i):i),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s0=Symbol("radix.slottable");function XC(e){const t=({children:r})=>d.jsx(d.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=s0,t}function ZC(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s0}function ek(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function tk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Kf(e){const t=e+"CollectionProvider",[r,n]=Pr(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:y,children:w}=m,g=I.useRef(null),b=I.useRef(new Map).current;return d.jsx(s,{scope:y,itemMap:b,collectionRef:g,children:w})};i.displayName=t;const a=e+"CollectionSlot",l=qo(a),c=I.forwardRef((m,y)=>{const{scope:w,children:g}=m,b=o(a,w),_=ue(y,b.collectionRef);return d.jsx(l,{ref:_,children:g})});c.displayName=a;const u=e+"CollectionItemSlot",h="data-radix-collection-item",p=qo(u),f=I.forwardRef((m,y)=>{const{scope:w,children:g,...b}=m,_=I.useRef(null),S=ue(y,_),C=o(u,w);return I.useEffect(()=>(C.itemMap.set(_,{ref:_,...b}),()=>void C.itemMap.delete(_))),d.jsx(p,{[h]:"",ref:S,children:g})});f.displayName=u;function x(m){const y=o(e+"CollectionConsumer",m);return I.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((C,k)=>b.indexOf(C.ref.current)-b.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},x,n]}var rk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],X=rk.reduce((e,t)=>{const r=qo(`Primitive.${t}`),n=v.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...a,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function o0(e,t){e&&Ms.flushSync(()=>e.dispatchEvent(t))}function Ve(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function nk(e,t=globalThis==null?void 0:globalThis.document){const r=Ve(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var sk="DismissableLayer",Zd="dismissableLayer.update",ok="dismissableLayer.pointerDownOutside",ik="dismissableLayer.focusOutside",lg,i0=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_a=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=v.useContext(i0),[u,h]=v.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=v.useState({}),x=ue(t,k=>h(k)),m=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(y),g=u?m.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,_=g>=w,S=lk(k=>{const T=k.target,R=[...c.branches].some(j=>j.contains(T));!_||R||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},p),C=ck(k=>{const T=k.target;[...c.branches].some(j=>j.contains(T))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},p);return nk(k=>{g===c.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),v.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(lg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),cg(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=lg)}},[u,p,r,c]),v.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),cg())},[u,c]),v.useEffect(()=>{const k=()=>f({});return document.addEventListener(Zd,k),()=>document.removeEventListener(Zd,k)},[]),d.jsx(X.div,{...l,ref:x,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,C.onFocusCapture),onBlurCapture:W(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,S.onPointerDownCapture)})});_a.displayName=sk;var ak="DismissableLayerBranch",a0=v.forwardRef((e,t)=>{const r=v.useContext(i0),n=v.useRef(null),s=ue(t,n);return v.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),d.jsx(X.div,{...e,ref:s})});a0.displayName=ak;function lk(e,t=globalThis==null?void 0:globalThis.document){const r=Ve(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){l0(ok,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ck(e,t=globalThis==null?void 0:globalThis.document){const r=Ve(e),n=v.useRef(!1);return v.useEffect(()=>{const s=o=>{o.target&&!n.current&&l0(ik,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cg(){const e=new CustomEvent(Zd);document.dispatchEvent(e)}function l0(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?o0(s,o):s.dispatchEvent(o)}var uk=_a,dk=a0,Ge=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},hk="Portal",Ic=v.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=v.useState(!1);Ge(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?t0.createPortal(d.jsx(X.div,{...n,ref:t}),i):null});Ic.displayName=hk;function fk(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var mr=e=>{const{present:t,children:r}=e,n=pk(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),o=ue(n.ref,mk(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:o}):null};mr.displayName="Presence";function pk(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),o=v.useRef("none"),i=e?"mounted":"unmounted",[a,l]=fk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Ga(n.current);o.current=a==="mounted"?c:"none"},[a]),Ge(()=>{const c=n.current,u=s.current;if(u!==e){const p=o.current,f=Ga(c);e?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Ge(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,h=f=>{const m=Ga(n.current).includes(f.animationName);if(f.target===t&&m&&(l("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=f=>{f.target===t&&(o.current=Ga(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Ga(e){return(e==null?void 0:e.animationName)||"none"}function mk(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gk=tf[" useInsertionEffect ".trim().toString()]||Ge;function Rs({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=vk({defaultProp:t,onChange:r}),a=e!==void 0,l=a?e:s;{const u=v.useRef(e!==void 0);v.useEffect(()=>{const h=u.current;h!==a&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,n])}const c=v.useCallback(u=>{var h;if(a){const p=yk(u)?u(e):u;p!==e&&((h=i.current)==null||h.call(i,p))}else o(u)},[a,e,o,i]);return[l,c]}function vk({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),o=v.useRef(t);return gk(()=>{o.current=t},[t]),v.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function yk(e){return typeof e=="function"}var c0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wk="VisuallyHidden",Dc=v.forwardRef((e,t)=>d.jsx(X.span,{...e,ref:t,style:{...c0,...e.style}}));Dc.displayName=wk;var bk=Dc,Gf="ToastProvider",[Qf,xk,_k]=Kf("Toast"),[u0,KD]=Pr("Toast",[_k]),[Sk,Lc]=u0(Gf),d0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=v.useState(null),[c,u]=v.useState(0),h=v.useRef(!1),p=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gf}\`. Expected non-empty \`string\`.`),d.jsx(Qf.Provider,{scope:t,children:d.jsx(Sk,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:v.useCallback(()=>u(f=>f+1),[]),onToastRemove:v.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:i})})};d0.displayName=Gf;var h0="ToastViewport",Ek=["F8"],eh="toast.viewportPause",th="toast.viewportResume",f0=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Ek,label:s="Notifications ({hotkey})",...o}=e,i=Lc(h0,r),a=xk(r),l=v.useRef(null),c=v.useRef(null),u=v.useRef(null),h=v.useRef(null),p=ue(t,h,i.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=i.toastCount>0;v.useEffect(()=>{const y=w=>{var b;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),v.useEffect(()=>{const y=l.current,w=h.current;if(x&&y&&w){const g=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(eh);w.dispatchEvent(C),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(th);w.dispatchEvent(C),i.isClosePausedRef.current=!1}},_=C=>{!y.contains(C.relatedTarget)&&b()},S=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",g),y.addEventListener("focusout",_),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",_),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[x,i.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:y})=>{const g=a().map(b=>{const _=b.ref.current,S=[_,...$k(_)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?g.reverse():g).flat()},[a]);return v.useEffect(()=>{const y=h.current;if(y){const w=g=>{var S,C,k;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const T=document.activeElement,R=g.shiftKey;if(g.target===y&&R){(S=c.current)==null||S.focus();return}const A=m({tabbingDirection:R?"backwards":"forwards"}),q=A.findIndex(D=>D===T);Mu(A.slice(q+1))?g.preventDefault():R?(C=c.current)==null||C.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[a,m]),d.jsxs(dk,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&d.jsx(rh,{ref:c,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});Mu(y)}}),d.jsx(Qf.Slot,{scope:r,children:d.jsx(X.ol,{tabIndex:-1,...o,ref:p})}),x&&d.jsx(rh,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});Mu(y)}})]})});f0.displayName=h0;var p0="ToastFocusProxy",rh=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Lc(p0,r);return d.jsx(Dc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var c;const a=i.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&n()}})});rh.displayName=p0;var Sa="Toast",Ck="toast.swipeStart",kk="toast.swipeMove",Tk="toast.swipeCancel",Pk="toast.swipeEnd",m0=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=Rs({prop:n,defaultProp:s??!0,onChange:o,caller:Sa});return d.jsx(mr,{present:r||a,children:d.jsx(Nk,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:Ve(e.onPause),onResume:Ve(e.onResume),onSwipeStart:W(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:W(e.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:W(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:W(e.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});m0.displayName=Sa;var[Rk,jk]=u0(Sa,{onClose(){}}),Nk=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...x}=e,m=Lc(Sa,r),[y,w]=v.useState(null),g=ue(t,D=>w(D)),b=v.useRef(null),_=v.useRef(null),S=s||m.duration,C=v.useRef(0),k=v.useRef(S),T=v.useRef(0),{onToastAdd:R,onToastRemove:j}=m,L=Ve(()=>{var J;(y==null?void 0:y.contains(document.activeElement))&&((J=m.viewport)==null||J.focus()),i()}),A=v.useCallback(D=>{!D||D===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(L,D))},[L]);v.useEffect(()=>{const D=m.viewport;if(D){const J=()=>{A(k.current),c==null||c()},U=()=>{const K=new Date().getTime()-C.current;k.current=k.current-K,window.clearTimeout(T.current),l==null||l()};return D.addEventListener(eh,U),D.addEventListener(th,J),()=>{D.removeEventListener(eh,U),D.removeEventListener(th,J)}}},[m.viewport,S,l,c,A]),v.useEffect(()=>{o&&!m.isClosePausedRef.current&&A(S)},[o,S,m.isClosePausedRef,A]),v.useEffect(()=>(R(),()=>j()),[R,j]);const q=v.useMemo(()=>y?_0(y):null,[y]);return m.viewport?d.jsxs(d.Fragment,{children:[q&&d.jsx(Ok,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),d.jsx(Rk,{scope:r,onClose:L,children:Ms.createPortal(d.jsx(Qf.ItemSlot,{scope:r,children:d.jsx(uk,{asChild:!0,onEscapeKeyDown:W(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(X.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:W(e.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:W(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:W(e.onPointerMove,D=>{if(!b.current)return;const J=D.clientX-b.current.x,U=D.clientY-b.current.y,K=!!_.current,P=["left","right"].includes(m.swipeDirection),N=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,$=P?N(0,J):0,Y=P?0:N(0,U),H=D.pointerType==="touch"?10:2,re={x:$,y:Y},ee={originalEvent:D,delta:re};K?(_.current=re,Qa(kk,h,ee,{discrete:!1})):ug(re,m.swipeDirection,H)?(_.current=re,Qa(Ck,u,ee,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(J)>H||Math.abs(U)>H)&&(b.current=null)}),onPointerUp:W(e.onPointerUp,D=>{const J=_.current,U=D.target;if(U.hasPointerCapture(D.pointerId)&&U.releasePointerCapture(D.pointerId),_.current=null,b.current=null,J){const K=D.currentTarget,P={originalEvent:D,delta:J};ug(J,m.swipeDirection,m.swipeThreshold)?Qa(Pk,f,P,{discrete:!0}):Qa(Tk,p,P,{discrete:!0}),K.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Ok=e=>{const{__scopeToast:t,children:r,...n}=e,s=Lc(Sa,t),[o,i]=v.useState(!1),[a,l]=v.useState(!1);return Dk(()=>i(!0)),v.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:d.jsx(Ic,{asChild:!0,children:d.jsx(Dc,{...n,children:o&&d.jsxs(d.Fragment,{children:[s.label," ",r]})})})},Ak="ToastTitle",g0=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(X.div,{...n,ref:t})});g0.displayName=Ak;var Ik="ToastDescription",v0=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return d.jsx(X.div,{...n,ref:t})});v0.displayName=Ik;var y0="ToastAction",w0=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?d.jsx(x0,{altText:r,asChild:!0,children:d.jsx(Jf,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${y0}\`. Expected non-empty \`string\`.`),null)});w0.displayName=y0;var b0="ToastClose",Jf=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=jk(b0,r);return d.jsx(x0,{asChild:!0,children:d.jsx(X.button,{type:"button",...n,ref:t,onClick:W(e.onClick,s.onClose)})})});Jf.displayName=b0;var x0=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return d.jsx(X.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function _0(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Lk(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(..._0(n))}}),t}function Qa(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?o0(s,o):s.dispatchEvent(o)}var ug=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function Dk(e=()=>{}){const t=Ve(e);Ge(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Lk(e){return e.nodeType===e.ELEMENT_NODE}function $k(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Mu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Mk=d0,S0=f0,E0=m0,C0=g0,k0=v0,T0=w0,P0=Jf;function R0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=R0(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function j0(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=R0(e))&&(n&&(n+=" "),n+=t);return n}const dg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hg=j0,$c=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return hg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const u=r==null?void 0:r[c],h=o==null?void 0:o[c];if(u===null)return null;const p=dg(u)||dg(h);return s[c][p]}),a=r&&Object.entries(r).reduce((c,u)=>{let[h,p]=u;return p===void 0||(c[h]=p),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:h,className:p,...f}=u;return Object.entries(f).every(x=>{let[m,y]=x;return Array.isArray(y)?y.includes({...o,...a}[m]):{...o,...a}[m]===y})?[...c,h,p]:c},[]);return hg(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N0=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},l)=>v.createElement("svg",{ref:l,...Uk,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:N0("lucide",s),...a},[...i.map(([c,u])=>v.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(e,t)=>{const r=v.forwardRef(({className:n,...s},o)=>v.createElement(Bk,{ref:o,iconNode:t,className:N0(`lucide-${Fk(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Ce("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=Ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Ce("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Ce("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Ce("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=Ce("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Ce("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=Ce("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=Ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=Ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Ce("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=Ce("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xf="-",eT=e=>{const t=rT(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(Xf);return a[0]===""&&a.length!==1&&a.shift(),M0(a,t)||tT(i)},getConflictingClassGroupIds:(i,a)=>{const l=r[i]||[];return a&&n[i]?[...l,...n[i]]:l}}},M0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?M0(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Xf);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},fg=/^\[(.+)\]$/,tT=e=>{if(fg.test(e)){const t=fg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},rT=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return sT(Object.entries(e.classGroups),r).forEach(([o,i])=>{sh(i,n,o,t)}),n},sh=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:pg(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(nT(s)){sh(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{sh(i,pg(t,o),r,n)})})},pg=(e,t)=>{let r=e;return t.split(Xf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},nT=e=>e.isThemeGetter,sT=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,oT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},F0="!",iT=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let c=0,u=0,h;for(let y=0;y<a.length;y++){let w=a[y];if(c===0){if(w===s&&(n||a.slice(y,y+o)===t)){l.push(a.slice(u,y)),u=y+o;continue}if(w==="/"){h=y;continue}}w==="["?c++:w==="]"&&c--}const p=l.length===0?a:a.substring(u),f=p.startsWith(F0),x=f?p.substring(1):p,m=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:x,maybePostfixModifierPosition:m}};return r?a=>r({className:a,parseClassName:i}):i},aT=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},lT=e=>({cache:oT(e.cacheSize),parseClassName:iT(e),...eT(e)}),cT=/\s+/,uT=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(cT);let a="";for(let l=i.length-1;l>=0;l-=1){const c=i[l],{modifiers:u,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(c);let x=!!f,m=n(x?p.substring(0,f):p);if(!m){if(!x){a=c+(a.length>0?" "+a:a);continue}if(m=n(p),!m){a=c+(a.length>0?" "+a:a);continue}x=!1}const y=aT(u).join(":"),w=h?y+F0:y,g=w+m;if(o.includes(g))continue;o.push(g);const b=s(m,x);for(let _=0;_<b.length;++_){const S=b[_];o.push(w+S)}a=c+(a.length>0?" "+a:a)}return a};function dT(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=U0(t))&&(n&&(n+=" "),n+=r);return n}const U0=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=U0(e[n]))&&(r&&(r+=" "),r+=t);return r};function hT(e,...t){let r,n,s,o=i;function i(l){const c=t.reduce((u,h)=>h(u),e());return r=lT(c),n=r.cache.get,s=r.cache.set,o=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=uT(l,r);return s(l,u),u}return function(){return o(dT.apply(null,arguments))}}const _e=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},B0=/^\[(?:([a-z-]+):)?(.+)\]$/i,fT=/^\d+\/\d+$/,pT=new Set(["px","full","screen"]),mT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Or=e=>So(e)||pT.has(e)||fT.test(e),tn=e=>ei(e,"length",TT),So=e=>!!e&&!Number.isNaN(Number(e)),Fu=e=>ei(e,"number",So),yi=e=>!!e&&Number.isInteger(Number(e)),bT=e=>e.endsWith("%")&&So(e.slice(0,-1)),ne=e=>B0.test(e),rn=e=>mT.test(e),xT=new Set(["length","size","percentage"]),_T=e=>ei(e,xT,z0),ST=e=>ei(e,"position",z0),ET=new Set(["image","url"]),CT=e=>ei(e,ET,RT),kT=e=>ei(e,"",PT),wi=()=>!0,ei=(e,t,r)=>{const n=B0.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},TT=e=>gT.test(e)&&!vT.test(e),z0=()=>!1,PT=e=>yT.test(e),RT=e=>wT.test(e),jT=()=>{const e=_e("colors"),t=_e("spacing"),r=_e("blur"),n=_e("brightness"),s=_e("borderColor"),o=_e("borderRadius"),i=_e("borderSpacing"),a=_e("borderWidth"),l=_e("contrast"),c=_e("grayscale"),u=_e("hueRotate"),h=_e("invert"),p=_e("gap"),f=_e("gradientColorStops"),x=_e("gradientColorStopPositions"),m=_e("inset"),y=_e("margin"),w=_e("opacity"),g=_e("padding"),b=_e("saturate"),_=_e("scale"),S=_e("sepia"),C=_e("skew"),k=_e("space"),T=_e("translate"),R=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ne,t],A=()=>[ne,t],q=()=>["",Or,tn],D=()=>["auto",So,ne],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",ne],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[So,ne];return{cacheSize:500,separator:":",theme:{colors:[wi],spacing:[Or,tn],blur:["none","",rn,ne],brightness:Y(),borderColor:[e],borderRadius:["none","","full",rn,ne],borderSpacing:A(),borderWidth:q(),contrast:Y(),grayscale:N(),hueRotate:Y(),invert:N(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[bT,tn],inset:L(),margin:L(),opacity:Y(),padding:A(),saturate:Y(),scale:Y(),sepia:N(),skew:Y(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[rn]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ne]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yi,ne]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",yi,ne]}],"grid-cols":[{"grid-cols":[wi]}],"col-start-end":[{col:["auto",{span:["full",yi,ne]},ne]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[wi]}],"row-start-end":[{row:["auto",{span:[yi,ne]},ne]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ne,t]}],"min-w":[{"min-w":[ne,t,"min","max","fit"]}],"max-w":[{"max-w":[ne,t,"none","full","min","max","fit","prose",{screen:[rn]},rn]}],h:[{h:[ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",rn,tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fu]}],"font-family":[{font:[wi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",So,Fu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Or,ne]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Or,tn]}],"underline-offset":[{"underline-offset":["auto",Or,ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),ST]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_T]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Or,ne]}],"outline-w":[{outline:[Or,tn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Or,tn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",rn,kT]}],"shadow-color":[{shadow:[wi]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",rn,ne]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[yi,ne]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Or,tn,Fu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NT=hT(jT);function ie(...e){return NT(j0(e))}const OT=Mk,V0=v.forwardRef(({className:e,...t},r)=>d.jsx(S0,{ref:r,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));V0.displayName=S0.displayName;const AT=$c("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),W0=v.forwardRef(({className:e,variant:t,...r},n)=>d.jsx(E0,{ref:n,className:ie(AT({variant:t}),e),...r}));W0.displayName=E0.displayName;const IT=v.forwardRef(({className:e,...t},r)=>d.jsx(T0,{ref:r,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));IT.displayName=T0.displayName;const H0=v.forwardRef(({className:e,...t},r)=>d.jsx(P0,{ref:r,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:d.jsx(Yf,{className:"h-4 w-4"})}));H0.displayName=P0.displayName;const q0=v.forwardRef(({className:e,...t},r)=>d.jsx(C0,{ref:r,className:ie("text-sm font-semibold",e),...t}));q0.displayName=C0.displayName;const K0=v.forwardRef(({className:e,...t},r)=>d.jsx(k0,{ref:r,className:ie("text-sm opacity-90",e),...t}));K0.displayName=k0.displayName;function DT(){const{toasts:e}=KC();return d.jsxs(OT,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return d.jsxs(W0,{...o,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(q0,{children:r}),n&&d.jsx(K0,{children:n})]}),s,d.jsx(H0,{})]},t)}),d.jsx(V0,{})]})}var mg=["light","dark"],LT="(prefers-color-scheme: dark)",$T=v.createContext(void 0),MT={setTheme:e=>{},themes:[]},FT=()=>{var e;return(e=v.useContext($T))!=null?e:MT};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let c=o==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=s?mg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,m=!1,y=!0)=>{let w=i?i[x]:x,g=m?x+"|| ''":`'${w}'`,b="";return s&&y&&!m&&mg.includes(x)&&(b+=`d.style.colorScheme = '${x}';`),r==="class"?m||w?b+=`c.add(${g})`:b+="null":w&&(b+=`d[s](n,${g})`),b},f=e?`!function(){${u}${p(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${LT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${c?"":"else{"+p(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${h}}catch(t){}}();`;return v.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var UT=e=>{switch(e){case"success":return VT;case"info":return HT;case"warning":return WT;case"error":return qT;default:return null}},BT=Array(12).fill(0),zT=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},BT.map((r,n)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),VT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KT=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GT=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},oh=1,QT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:oh++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async l=>{if(o=["resolve",l],I.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(YT(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:u})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,u=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,c)=>i.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:a}:Object.assign(r,{unwrap:a})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||oh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yt=new QT,JT=(e,t)=>{let r=(t==null?void 0:t.id)||oh++;return yt.addToast({title:e,...t,id:r}),r},YT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",XT=JT,ZT=()=>yt.toasts,eP=()=>yt.getActiveToasts(),fe=Object.assign(XT,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:ZT,getToasts:eP});function tP(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}tP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ja(e){return e.label!==void 0}var rP=3,nP="32px",sP="16px",gg=4e3,oP=356,iP=14,aP=20,lP=200;function er(...e){return e.filter(Boolean).join(" ")}function cP(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var uP=e=>{var t,r,n,s,o,i,a,l,c,u,h;let{invert:p,toast:f,unstyled:x,interacting:m,setHeights:y,visibleToasts:w,heights:g,index:b,toasts:_,expanded:S,removeToast:C,defaultRichColors:k,closeButton:T,style:R,cancelButtonStyle:j,actionButtonStyle:L,className:A="",descriptionClassName:q="",duration:D,position:J,gap:U,loadingIcon:K,expandByDefault:P,classNames:N,icons:$,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:H}=e,[re,ee]=I.useState(null),[xe,Oe]=I.useState(null),[M,ge]=I.useState(!1),[Ae,pe]=I.useState(!1),[ce,he]=I.useState(!1),[et,Mt]=I.useState(!1),[Yn,Jr]=I.useState(!1),[Xn,li]=I.useState(0),[zs,Wp]=I.useState(0),ci=I.useRef(f.duration||D||gg),Hp=I.useRef(null),Zn=I.useRef(null),a1=b===0,l1=b+1<=w,Ft=f.type,Vs=f.dismissible!==!1,c1=f.className||"",u1=f.descriptionClassName||"",Ra=I.useMemo(()=>g.findIndex(te=>te.toastId===f.id)||0,[g,f.id]),d1=I.useMemo(()=>{var te;return(te=f.closeButton)!=null?te:T},[f.closeButton,T]),qp=I.useMemo(()=>f.duration||D||gg,[f.duration,D]),au=I.useRef(0),Ws=I.useRef(0),Kp=I.useRef(0),Hs=I.useRef(null),[h1,f1]=J.split("-"),Gp=I.useMemo(()=>g.reduce((te,ye,ke)=>ke>=Ra?te:te+ye.height,0),[g,Ra]),Qp=GT(),p1=f.invert||p,lu=Ft==="loading";Ws.current=I.useMemo(()=>Ra*U+Gp,[Ra,Gp]),I.useEffect(()=>{ci.current=qp},[qp]),I.useEffect(()=>{ge(!0)},[]),I.useEffect(()=>{let te=Zn.current;if(te){let ye=te.getBoundingClientRect().height;return Wp(ye),y(ke=>[{toastId:f.id,height:ye,position:f.position},...ke]),()=>y(ke=>ke.filter(Jt=>Jt.toastId!==f.id))}},[y,f.id]),I.useLayoutEffect(()=>{if(!M)return;let te=Zn.current,ye=te.style.height;te.style.height="auto";let ke=te.getBoundingClientRect().height;te.style.height=ye,Wp(ke),y(Jt=>Jt.find(Yt=>Yt.toastId===f.id)?Jt.map(Yt=>Yt.toastId===f.id?{...Yt,height:ke}:Yt):[{toastId:f.id,height:ke,position:f.position},...Jt])},[M,f.title,f.description,y,f.id]);let Yr=I.useCallback(()=>{pe(!0),li(Ws.current),y(te=>te.filter(ye=>ye.toastId!==f.id)),setTimeout(()=>{C(f)},lP)},[f,C,y,Ws]);I.useEffect(()=>{if(f.promise&&Ft==="loading"||f.duration===1/0||f.type==="loading")return;let te;return S||m||H&&Qp?(()=>{if(Kp.current<au.current){let ye=new Date().getTime()-au.current;ci.current=ci.current-ye}Kp.current=new Date().getTime()})():ci.current!==1/0&&(au.current=new Date().getTime(),te=setTimeout(()=>{var ye;(ye=f.onAutoClose)==null||ye.call(f,f),Yr()},ci.current)),()=>clearTimeout(te)},[S,m,f,Ft,H,Qp,Yr]),I.useEffect(()=>{f.delete&&Yr()},[Yr,f.delete]);function m1(){var te,ye,ke;return $!=null&&$.loading?I.createElement("div",{className:er(N==null?void 0:N.loader,(te=f==null?void 0:f.classNames)==null?void 0:te.loader,"sonner-loader"),"data-visible":Ft==="loading"},$.loading):K?I.createElement("div",{className:er(N==null?void 0:N.loader,(ye=f==null?void 0:f.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":Ft==="loading"},K):I.createElement(zT,{className:er(N==null?void 0:N.loader,(ke=f==null?void 0:f.classNames)==null?void 0:ke.loader),visible:Ft==="loading"})}return I.createElement("li",{tabIndex:0,ref:Zn,className:er(A,c1,N==null?void 0:N.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[Ft],(r=f==null?void 0:f.classNames)==null?void 0:r[Ft]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:k,"data-styled":!(f.jsx||f.unstyled||x),"data-mounted":M,"data-promise":!!f.promise,"data-swiped":Yn,"data-removed":Ae,"data-visible":l1,"data-y-position":h1,"data-x-position":f1,"data-index":b,"data-front":a1,"data-swiping":ce,"data-dismissible":Vs,"data-type":Ft,"data-invert":p1,"data-swipe-out":et,"data-swipe-direction":xe,"data-expanded":!!(S||P&&M),style:{"--index":b,"--toasts-before":b,"--z-index":_.length-b,"--offset":`${Ae?Xn:Ws.current}px`,"--initial-height":P?"auto":`${zs}px`,...R,...f.style},onDragEnd:()=>{he(!1),ee(null),Hs.current=null},onPointerDown:te=>{lu||!Vs||(Hp.current=new Date,li(Ws.current),te.target.setPointerCapture(te.pointerId),te.target.tagName!=="BUTTON"&&(he(!0),Hs.current={x:te.clientX,y:te.clientY}))},onPointerUp:()=>{var te,ye,ke,Jt;if(et||!Vs)return;Hs.current=null;let Yt=Number(((te=Zn.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xr=Number(((ye=Zn.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),es=new Date().getTime()-((ke=Hp.current)==null?void 0:ke.getTime()),Xt=re==="x"?Yt:Xr,Zr=Math.abs(Xt)/es;if(Math.abs(Xt)>=aP||Zr>.11){li(Ws.current),(Jt=f.onDismiss)==null||Jt.call(f,f),Oe(re==="x"?Yt>0?"right":"left":Xr>0?"down":"up"),Yr(),Mt(!0),Jr(!1);return}he(!1),ee(null)},onPointerMove:te=>{var ye,ke,Jt,Yt;if(!Hs.current||!Vs||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;let Xr=te.clientY-Hs.current.y,es=te.clientX-Hs.current.x,Xt=(ke=e.swipeDirections)!=null?ke:cP(J);!re&&(Math.abs(es)>1||Math.abs(Xr)>1)&&ee(Math.abs(es)>Math.abs(Xr)?"x":"y");let Zr={x:0,y:0};re==="y"?(Xt.includes("top")||Xt.includes("bottom"))&&(Xt.includes("top")&&Xr<0||Xt.includes("bottom")&&Xr>0)&&(Zr.y=Xr):re==="x"&&(Xt.includes("left")||Xt.includes("right"))&&(Xt.includes("left")&&es<0||Xt.includes("right")&&es>0)&&(Zr.x=es),(Math.abs(Zr.x)>0||Math.abs(Zr.y)>0)&&Jr(!0),(Jt=Zn.current)==null||Jt.style.setProperty("--swipe-amount-x",`${Zr.x}px`),(Yt=Zn.current)==null||Yt.style.setProperty("--swipe-amount-y",`${Zr.y}px`)}},d1&&!f.jsx?I.createElement("button",{"aria-label":Y,"data-disabled":lu,"data-close-button":!0,onClick:lu||!Vs?()=>{}:()=>{var te;Yr(),(te=f.onDismiss)==null||te.call(f,f)},className:er(N==null?void 0:N.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(o=$==null?void 0:$.close)!=null?o:KT):null,f.jsx||v.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:I.createElement(I.Fragment,null,Ft||f.icon||f.promise?I.createElement("div",{"data-icon":"",className:er(N==null?void 0:N.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||m1():null,f.type!=="loading"?f.icon||($==null?void 0:$[Ft])||UT(Ft):null):null,I.createElement("div",{"data-content":"",className:er(N==null?void 0:N.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},I.createElement("div",{"data-title":"",className:er(N==null?void 0:N.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?I.createElement("div",{"data-description":"",className:er(q,u1,N==null?void 0:N.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),v.isValidElement(f.cancel)?f.cancel:f.cancel&&Ja(f.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||j,onClick:te=>{var ye,ke;Ja(f.cancel)&&Vs&&((ke=(ye=f.cancel).onClick)==null||ke.call(ye,te),Yr())},className:er(N==null?void 0:N.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,v.isValidElement(f.action)?f.action:f.action&&Ja(f.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||L,onClick:te=>{var ye,ke;Ja(f.action)&&((ke=(ye=f.action).onClick)==null||ke.call(ye,te),!te.defaultPrevented&&Yr())},className:er(N==null?void 0:N.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function vg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function dP(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?sP:nP;function l(c){["top","right","bottom","left"].forEach(u=>{r[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${i}-${c}`]=a:r[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(a)}),r}var hP=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:h,duration:p,style:f,visibleToasts:x=rP,toastOptions:m,dir:y=vg(),gap:w=iP,loadingIcon:g,icons:b,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[C,k]=I.useState([]),T=I.useMemo(()=>Array.from(new Set([n].concat(C.filter(H=>H.position).map(H=>H.position)))),[C,n]),[R,j]=I.useState([]),[L,A]=I.useState(!1),[q,D]=I.useState(!1),[J,U]=I.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=I.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=I.useRef(null),$=I.useRef(!1),Y=I.useCallback(H=>{k(re=>{var ee;return(ee=re.find(xe=>xe.id===H.id))!=null&&ee.delete||yt.dismiss(H.id),re.filter(({id:xe})=>xe!==H.id)})},[]);return I.useEffect(()=>yt.subscribe(H=>{if(H.dismiss){k(re=>re.map(ee=>ee.id===H.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{t0.flushSync(()=>{k(re=>{let ee=re.findIndex(xe=>xe.id===H.id);return ee!==-1?[...re.slice(0,ee),{...re[ee],...H},...re.slice(ee+1)]:[H,...re]})})})}),[]),I.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:re})=>{U(re?"dark":"light")})}catch{H.addListener(({matches:ee})=>{try{U(ee?"dark":"light")}catch(xe){console.error(xe)}})}},[u]),I.useEffect(()=>{C.length<=1&&A(!1)},[C]),I.useEffect(()=>{let H=re=>{var ee,xe;s.every(Oe=>re[Oe]||re.code===Oe)&&(A(!0),(ee=K.current)==null||ee.focus()),re.code==="Escape"&&(document.activeElement===K.current||(xe=K.current)!=null&&xe.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),I.useEffect(()=>{if(K.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,$.current=!1)}},[K.current]),I.createElement("section",{ref:t,"aria-label":`${_} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((H,re)=>{var ee;let[xe,Oe]=H.split("-");return C.length?I.createElement("ol",{key:H,dir:y==="auto"?vg():y,tabIndex:-1,ref:K,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":xe,"data-lifted":L&&C.length>1&&!o,"data-x-position":Oe,style:{"--front-toast-height":`${((ee=R[0])==null?void 0:ee.height)||0}px`,"--width":`${oP}px`,"--gap":`${w}px`,...f,...dP(l,c)},onBlur:M=>{$.current&&!M.currentTarget.contains(M.relatedTarget)&&($.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:M=>{M.target instanceof HTMLElement&&M.target.dataset.dismissible==="false"||$.current||($.current=!0,N.current=M.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{q||A(!1)},onDragEnd:()=>A(!1),onPointerDown:M=>{M.target instanceof HTMLElement&&M.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},C.filter(M=>!M.position&&re===0||M.position===H).map((M,ge)=>{var Ae,pe;return I.createElement(uP,{key:M.id,icons:b,index:ge,toast:M,defaultRichColors:h,duration:(Ae=m==null?void 0:m.duration)!=null?Ae:p,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:x,closeButton:(pe=m==null?void 0:m.closeButton)!=null?pe:i,interacting:q,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Y,toasts:C.filter(ce=>ce.position==M.position),heights:R.filter(ce=>ce.position==M.position),setHeights:j,expandByDefault:o,gap:w,loadingIcon:g,expanded:L,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const fP=({...e})=>{const{theme:t="system"}=FT();return d.jsx(hP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var pP=tf[" useId ".trim().toString()]||(()=>{}),mP=0;function An(e){const[t,r]=v.useState(pP());return Ge(()=>{e||r(n=>n??String(mP++))},[e]),e||(t?`radix-${t}`:"")}const gP=["top","right","bottom","left"],Un=Math.min,Tt=Math.max,rc=Math.round,Ya=Math.floor,kr=e=>({x:e,y:e}),vP={left:"right",right:"left",bottom:"top",top:"bottom"},yP={start:"end",end:"start"};function ih(e,t,r){return Tt(e,Un(t,r))}function Kr(e,t){return typeof e=="function"?e(t):e}function Gr(e){return e.split("-")[0]}function ti(e){return e.split("-")[1]}function Zf(e){return e==="x"?"y":"x"}function ep(e){return e==="y"?"height":"width"}const wP=new Set(["top","bottom"]);function Sr(e){return wP.has(Gr(e))?"y":"x"}function tp(e){return Zf(Sr(e))}function bP(e,t,r){r===void 0&&(r=!1);const n=ti(e),s=tp(e),o=ep(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=nc(i)),[i,nc(i)]}function xP(e){const t=nc(e);return[ah(e),t,ah(t)]}function ah(e){return e.replace(/start|end/g,t=>yP[t])}const yg=["left","right"],wg=["right","left"],_P=["top","bottom"],SP=["bottom","top"];function EP(e,t,r){switch(e){case"top":case"bottom":return r?t?wg:yg:t?yg:wg;case"left":case"right":return t?_P:SP;default:return[]}}function CP(e,t,r,n){const s=ti(e);let o=EP(Gr(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(ah)))),o}function nc(e){return e.replace(/left|right|bottom|top/g,t=>vP[t])}function kP(e){return{top:0,right:0,bottom:0,left:0,...e}}function G0(e){return typeof e!="number"?kP(e):{top:e,right:e,bottom:e,left:e}}function sc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function bg(e,t,r){let{reference:n,floating:s}=e;const o=Sr(t),i=tp(t),a=ep(i),l=Gr(t),c=o==="y",u=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let f;switch(l){case"top":f={x:u,y:n.y-s.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(ti(t)){case"start":f[i]-=p*(r&&c?-1:1);break;case"end":f[i]+=p*(r&&c?-1:1);break}return f}const TP=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:h}=bg(c,n,l),p=n,f={},x=0;for(let m=0;m<a.length;m++){const{name:y,fn:w}=a[m],{x:g,y:b,data:_,reset:S}=await w({x:u,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});u=g??u,h=b??h,f={...f,[y]:{...f[y],..._}},S&&x<=50&&(x++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:u,y:h}=bg(c,p,l)),m=-1)}return{x:u,y:h,placement:p,strategy:s,middlewareData:f}};async function sa(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Kr(t,e),x=G0(f),y=a[p?h==="floating"?"reference":"floating":h],w=sc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(y)))==null||r?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),g=h==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=sc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:b,strategy:l}):g);return{top:(w.top-S.top+x.top)/_.y,bottom:(S.bottom-w.bottom+x.bottom)/_.y,left:(w.left-S.left+x.left)/_.x,right:(S.right-w.right+x.right)/_.x}}const PP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Kr(e,t)||{};if(c==null)return{};const h=G0(u),p={x:r,y:n},f=tp(s),x=ep(f),m=await i.getDimensions(c),y=f==="y",w=y?"top":"left",g=y?"bottom":"right",b=y?"clientHeight":"clientWidth",_=o.reference[x]+o.reference[f]-p[f]-o.floating[x],S=p[f]-o.reference[f],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let k=C?C[b]:0;(!k||!await(i.isElement==null?void 0:i.isElement(C)))&&(k=a.floating[b]||o.floating[x]);const T=_/2-S/2,R=k/2-m[x]/2-1,j=Un(h[w],R),L=Un(h[g],R),A=j,q=k-m[x]-L,D=k/2-m[x]/2+T,J=ih(A,D,q),U=!l.arrow&&ti(s)!=null&&D!==J&&o.reference[x]/2-(D<A?j:L)-m[x]/2<0,K=U?D<A?D-A:D-q:0;return{[f]:p[f]+K,data:{[f]:J,centerOffset:D-J-K,...U&&{alignmentOffset:K}},reset:U}}}),RP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...y}=Kr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=Gr(s),g=Sr(a),b=Gr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=p||(b||!m?[nc(a)]:xP(a)),C=x!=="none";!p&&C&&S.push(...CP(a,m,x,_));const k=[a,...S],T=await sa(t,y),R=[];let j=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&R.push(T[w]),h){const D=bP(s,i,_);R.push(T[D[0]],T[D[1]])}if(j=[...j,{placement:s,overflows:R}],!R.every(D=>D<=0)){var L,A;const D=(((L=o.flip)==null?void 0:L.index)||0)+1,J=k[D];if(J&&(!(h==="alignment"?g!==Sr(J):!1)||j.every(P=>P.overflows[0]>0&&Sr(P.placement)===g)))return{data:{index:D,overflows:j},reset:{placement:J}};let U=(A=j.filter(K=>K.overflows[0]<=0).sort((K,P)=>K.overflows[1]-P.overflows[1])[0])==null?void 0:A.placement;if(!U)switch(f){case"bestFit":{var q;const K=(q=j.filter(P=>{if(C){const N=Sr(P.placement);return N===g||N==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(N=>N>0).reduce((N,$)=>N+$,0)]).sort((P,N)=>P[1]-N[1])[0])==null?void 0:q[0];K&&(U=K);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function xg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _g(e){return gP.some(t=>e[t]>=0)}const jP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Kr(e,t);switch(n){case"referenceHidden":{const o=await sa(t,{...s,elementContext:"reference"}),i=xg(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:_g(i)}}}case"escaped":{const o=await sa(t,{...s,altBoundary:!0}),i=xg(o,r.floating);return{data:{escapedOffsets:i,escaped:_g(i)}}}default:return{}}}}},Q0=new Set(["left","top"]);async function NP(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Gr(r),a=ti(r),l=Sr(r)==="y",c=Q0.has(i)?-1:1,u=o&&l?-1:1,h=Kr(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(f=a==="end"?x*-1:x),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}const OP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await NP(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},AP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:y=>{let{x:w,y:g}=y;return{x:w,y:g}}},...l}=Kr(e,t),c={x:r,y:n},u=await sa(t,l),h=Sr(Gr(s)),p=Zf(h);let f=c[p],x=c[h];if(o){const y=p==="y"?"top":"left",w=p==="y"?"bottom":"right",g=f+u[y],b=f-u[w];f=ih(g,f,b)}if(i){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",g=x+u[y],b=x-u[w];x=ih(g,x,b)}const m=a.fn({...t,[p]:f,[h]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[p]:o,[h]:i}}}}}},IP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Kr(e,t),u={x:r,y:n},h=Sr(s),p=Zf(h);let f=u[p],x=u[h];const m=Kr(a,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=p==="y"?"height":"width",_=o.reference[p]-o.floating[b]+y.mainAxis,S=o.reference[p]+o.reference[b]-y.mainAxis;f<_?f=_:f>S&&(f=S)}if(c){var w,g;const b=p==="y"?"width":"height",_=Q0.has(Gr(s)),S=o.reference[h]-o.floating[b]+(_&&((w=i.offset)==null?void 0:w[h])||0)+(_?0:y.crossAxis),C=o.reference[h]+o.reference[b]+(_?0:((g=i.offset)==null?void 0:g[h])||0)-(_?y.crossAxis:0);x<S?x=S:x>C&&(x=C)}return{[p]:f,[h]:x}}}},DP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=Kr(e,t),u=await sa(t,c),h=Gr(s),p=ti(s),f=Sr(s)==="y",{width:x,height:m}=o.floating;let y,w;h==="top"||h==="bottom"?(y=h,w=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,y=p==="end"?"top":"bottom");const g=m-u.top-u.bottom,b=x-u.left-u.right,_=Un(m-u[y],g),S=Un(x-u[w],b),C=!t.middlewareData.shift;let k=_,T=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=g),C&&!p){const j=Tt(u.left,0),L=Tt(u.right,0),A=Tt(u.top,0),q=Tt(u.bottom,0);f?T=x-2*(j!==0||L!==0?j+L:Tt(u.left,u.right)):k=m-2*(A!==0||q!==0?A+q:Tt(u.top,u.bottom))}await l({...t,availableWidth:T,availableHeight:k});const R=await i.getDimensions(a.floating);return x!==R.width||m!==R.height?{reset:{rects:!0}}:{}}}};function Fc(){return typeof window<"u"}function ri(e){return J0(e)?(e.nodeName||"").toLowerCase():"#document"}function Ot(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rr(e){var t;return(t=(J0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function J0(e){return Fc()?e instanceof Node||e instanceof Ot(e).Node:!1}function fr(e){return Fc()?e instanceof Element||e instanceof Ot(e).Element:!1}function Tr(e){return Fc()?e instanceof HTMLElement||e instanceof Ot(e).HTMLElement:!1}function Sg(e){return!Fc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ot(e).ShadowRoot}const LP=new Set(["inline","contents"]);function Ca(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!LP.has(s)}const $P=new Set(["table","td","th"]);function MP(e){return $P.has(ri(e))}const FP=[":popover-open",":modal"];function Uc(e){return FP.some(t=>{try{return e.matches(t)}catch{return!1}})}const UP=["transform","translate","scale","rotate","perspective"],BP=["transform","translate","scale","rotate","perspective","filter"],zP=["paint","layout","strict","content"];function rp(e){const t=np(),r=fr(e)?pr(e):e;return UP.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||BP.some(n=>(r.willChange||"").includes(n))||zP.some(n=>(r.contain||"").includes(n))}function VP(e){let t=Bn(e);for(;Tr(t)&&!Ko(t);){if(rp(t))return t;if(Uc(t))return null;t=Bn(t)}return null}function np(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WP=new Set(["html","body","#document"]);function Ko(e){return WP.has(ri(e))}function pr(e){return Ot(e).getComputedStyle(e)}function Bc(e){return fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bn(e){if(ri(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Sg(e)&&e.host||Rr(e);return Sg(t)?t.host:t}function Y0(e){const t=Bn(e);return Ko(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tr(t)&&Ca(t)?t:Y0(t)}function oa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Y0(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Ot(s);if(o){const a=lh(i);return t.concat(i,i.visualViewport||[],Ca(s)?s:[],a&&r?oa(a):[])}return t.concat(s,oa(s,[],r))}function lh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function X0(e){const t=pr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Tr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=rc(r)!==o||rc(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function sp(e){return fr(e)?e:e.contextElement}function Eo(e){const t=sp(e);if(!Tr(t))return kr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=X0(t);let i=(o?rc(r.width):r.width)/n,a=(o?rc(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const HP=kr(0);function Z0(e){const t=Ot(e);return!np()||!t.visualViewport?HP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ot(e)?!1:t}function js(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=sp(e);let i=kr(1);t&&(n?fr(n)&&(i=Eo(n)):i=Eo(e));const a=qP(o,r,n)?Z0(o):kr(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,u=s.width/i.x,h=s.height/i.y;if(o){const p=Ot(o),f=n&&fr(n)?Ot(n):n;let x=p,m=lh(x);for(;m&&n&&f!==x;){const y=Eo(m),w=m.getBoundingClientRect(),g=pr(m),b=w.left+(m.clientLeft+parseFloat(g.paddingLeft))*y.x,_=w.top+(m.clientTop+parseFloat(g.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,h*=y.y,l+=b,c+=_,x=Ot(m),m=lh(x)}}return sc({width:u,height:h,x:l,y:c})}function op(e,t){const r=Bc(e).scrollLeft;return t?t.left+r:js(Rr(e)).left+r}function eb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:op(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function KP(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Rr(n),a=t?Uc(t.floating):!1;if(n===i||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=kr(1);const u=kr(0),h=Tr(n);if((h||!h&&!o)&&((ri(n)!=="body"||Ca(i))&&(l=Bc(n)),Tr(n))){const f=js(n);c=Eo(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const p=i&&!h&&!o?eb(i,l,!0):kr(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:r.y*c.y-l.scrollTop*c.y+u.y+p.y}}function GP(e){return Array.from(e.getClientRects())}function QP(e){const t=Rr(e),r=Bc(e),n=e.ownerDocument.body,s=Tt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Tt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+op(e);const a=-r.scrollTop;return pr(n).direction==="rtl"&&(i+=Tt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function JP(e,t){const r=Ot(e),n=Rr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const c=np();(!c||c&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:a,y:l}}const YP=new Set(["absolute","fixed"]);function XP(e,t){const r=js(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Tr(e)?Eo(e):kr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:i,height:a,x:l,y:c}}function Eg(e,t,r){let n;if(t==="viewport")n=JP(e,r);else if(t==="document")n=QP(Rr(e));else if(fr(t))n=XP(t,r);else{const s=Z0(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return sc(n)}function tb(e,t){const r=Bn(e);return r===t||!fr(r)||Ko(r)?!1:pr(r).position==="fixed"||tb(r,t)}function ZP(e,t){const r=t.get(e);if(r)return r;let n=oa(e,[],!1).filter(a=>fr(a)&&ri(a)!=="body"),s=null;const o=pr(e).position==="fixed";let i=o?Bn(e):e;for(;fr(i)&&!Ko(i);){const a=pr(i),l=rp(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&YP.has(s.position)||Ca(i)&&!l&&tb(e,i))?n=n.filter(u=>u!==i):s=a,i=Bn(i)}return t.set(e,n),n}function eR(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Uc(t)?[]:ZP(t,this._c):[].concat(r),n],a=i[0],l=i.reduce((c,u)=>{const h=Eg(t,u,s);return c.top=Tt(h.top,c.top),c.right=Un(h.right,c.right),c.bottom=Un(h.bottom,c.bottom),c.left=Tt(h.left,c.left),c},Eg(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tR(e){const{width:t,height:r}=X0(e);return{width:t,height:r}}function rR(e,t,r){const n=Tr(t),s=Rr(t),o=r==="fixed",i=js(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=kr(0);function c(){l.x=op(s)}if(n||!n&&!o)if((ri(t)!=="body"||Ca(s))&&(a=Bc(t)),n){const f=js(t,!0,o,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else s&&c();o&&!n&&s&&c();const u=s&&!n&&!o?eb(s,a):kr(0),h=i.left+a.scrollLeft-l.x-u.x,p=i.top+a.scrollTop-l.y-u.y;return{x:h,y:p,width:i.width,height:i.height}}function Uu(e){return pr(e).position==="static"}function Cg(e,t){if(!Tr(e)||pr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Rr(e)===r&&(r=r.ownerDocument.body),r}function rb(e,t){const r=Ot(e);if(Uc(e))return r;if(!Tr(e)){let s=Bn(e);for(;s&&!Ko(s);){if(fr(s)&&!Uu(s))return s;s=Bn(s)}return r}let n=Cg(e,t);for(;n&&MP(n)&&Uu(n);)n=Cg(n,t);return n&&Ko(n)&&Uu(n)&&!rp(n)?r:n||VP(e)||r}const nR=async function(e){const t=this.getOffsetParent||rb,r=this.getDimensions,n=await r(e.floating);return{reference:rR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function sR(e){return pr(e).direction==="rtl"}const oR={convertOffsetParentRelativeRectToViewportRelativeRect:KP,getDocumentElement:Rr,getClippingRect:eR,getOffsetParent:rb,getElementRects:nR,getClientRects:GP,getDimensions:tR,getScale:Eo,isElement:fr,isRTL:sR};function nb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function iR(e,t){let r=null,n;const s=Rr(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=c;if(a||t(),!p||!f)return;const x=Ya(h),m=Ya(s.clientWidth-(u+p)),y=Ya(s.clientHeight-(h+f)),w=Ya(u),b={rootMargin:-x+"px "+-m+"px "+-y+"px "+-w+"px",threshold:Tt(0,Un(1,l))||1};let _=!0;function S(C){const k=C[0].intersectionRatio;if(k!==l){if(!_)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!nb(c,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(e)}return i(!0),o}function aR(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=sp(e),u=s||o?[...c?oa(c):[],...oa(t)]:[];u.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const h=c&&a?iR(c,r):null;let p=-1,f=null;i&&(f=new ResizeObserver(w=>{let[g]=w;g&&g.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),r()}),c&&!l&&f.observe(c),f.observe(t));let x,m=l?js(e):null;l&&y();function y(){const w=js(e);m&&!nb(m,w)&&r(),m=w,x=requestAnimationFrame(y)}return r(),()=>{var w;u.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),h==null||h(),(w=f)==null||w.disconnect(),f=null,l&&cancelAnimationFrame(x)}}const lR=OP,cR=AP,uR=RP,dR=DP,hR=jP,kg=PP,fR=IP,pR=(e,t,r)=>{const n=new Map,s={platform:oR,...r},o={...s.platform,_c:n};return TP(e,t,{...s,platform:o})};var mR=typeof document<"u",gR=function(){},Tl=mR?v.useLayoutEffect:gR;function oc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!oc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!oc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function sb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tg(e,t){const r=sb(e);return Math.round(t*r)/r}function Bu(e){const t=v.useRef(e);return Tl(()=>{t.current=e}),t}function vR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=v.useState(n);oc(p,n)||f(n);const[x,m]=v.useState(null),[y,w]=v.useState(null),g=v.useCallback(P=>{P!==C.current&&(C.current=P,m(P))},[]),b=v.useCallback(P=>{P!==k.current&&(k.current=P,w(P))},[]),_=o||x,S=i||y,C=v.useRef(null),k=v.useRef(null),T=v.useRef(u),R=l!=null,j=Bu(l),L=Bu(s),A=Bu(c),q=v.useCallback(()=>{if(!C.current||!k.current)return;const P={placement:t,strategy:r,middleware:p};L.current&&(P.platform=L.current),pR(C.current,k.current,P).then(N=>{const $={...N,isPositioned:A.current!==!1};D.current&&!oc(T.current,$)&&(T.current=$,Ms.flushSync(()=>{h($)}))})},[p,t,r,L,A]);Tl(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(P=>({...P,isPositioned:!1})))},[c]);const D=v.useRef(!1);Tl(()=>(D.current=!0,()=>{D.current=!1}),[]),Tl(()=>{if(_&&(C.current=_),S&&(k.current=S),_&&S){if(j.current)return j.current(_,S,q);q()}},[_,S,q,j,R]);const J=v.useMemo(()=>({reference:C,floating:k,setReference:g,setFloating:b}),[g,b]),U=v.useMemo(()=>({reference:_,floating:S}),[_,S]),K=v.useMemo(()=>{const P={position:r,left:0,top:0};if(!U.floating)return P;const N=Tg(U.floating,u.x),$=Tg(U.floating,u.y);return a?{...P,transform:"translate("+N+"px, "+$+"px)",...sb(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:N,top:$}},[r,a,U.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:q,refs:J,elements:U,floatingStyles:K}),[u,q,J,U,K])}const yR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?kg({element:n.current,padding:s}).fn(r):{}:n?kg({element:n,padding:s}).fn(r):{}}}},wR=(e,t)=>({...lR(e),options:[e,t]}),bR=(e,t)=>({...cR(e),options:[e,t]}),xR=(e,t)=>({...fR(e),options:[e,t]}),_R=(e,t)=>({...uR(e),options:[e,t]}),SR=(e,t)=>({...dR(e),options:[e,t]}),ER=(e,t)=>({...hR(e),options:[e,t]}),CR=(e,t)=>({...yR(e),options:[e,t]});var kR="Arrow",ob=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return d.jsx(X.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});ob.displayName=kR;var TR=ob;function ib(e){const[t,r]=v.useState(void 0);return Ge(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ip="Popper",[ab,zc]=Pr(ip),[PR,lb]=ab(ip),cb=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return d.jsx(PR,{scope:t,anchor:n,onAnchorChange:s,children:r})};cb.displayName=ip;var ub="PopperAnchor",db=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=lb(ub,r),i=v.useRef(null),a=ue(t,i);return v.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:d.jsx(X.div,{...s,ref:a})});db.displayName=ub;var ap="PopperContent",[RR,jR]=ab(ap),hb=v.forwardRef((e,t)=>{var M,ge,Ae,pe,ce,he;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:x,...m}=e,y=lb(ap,r),[w,g]=v.useState(null),b=ue(t,et=>g(et)),[_,S]=v.useState(null),C=ib(_),k=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,R=n+(o!=="center"?"-"+o:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},L=Array.isArray(c)?c:[c],A=L.length>0,q={padding:j,boundary:L.filter(OR),altBoundary:A},{refs:D,floatingStyles:J,placement:U,isPositioned:K,middlewareData:P}=vR({strategy:"fixed",placement:R,whileElementsMounted:(...et)=>aR(...et,{animationFrame:f==="always"}),elements:{reference:y.anchor},middleware:[wR({mainAxis:s+T,alignmentAxis:i}),l&&bR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?xR():void 0,...q}),l&&_R({...q}),SR({...q,apply:({elements:et,rects:Mt,availableWidth:Yn,availableHeight:Jr})=>{const{width:Xn,height:li}=Mt.reference,zs=et.floating.style;zs.setProperty("--radix-popper-available-width",`${Yn}px`),zs.setProperty("--radix-popper-available-height",`${Jr}px`),zs.setProperty("--radix-popper-anchor-width",`${Xn}px`),zs.setProperty("--radix-popper-anchor-height",`${li}px`)}}),_&&CR({element:_,padding:a}),AR({arrowWidth:k,arrowHeight:T}),p&&ER({strategy:"referenceHidden",...q})]}),[N,$]=mb(U),Y=Ve(x);Ge(()=>{K&&(Y==null||Y())},[K,Y]);const H=(M=P.arrow)==null?void 0:M.x,re=(ge=P.arrow)==null?void 0:ge.y,ee=((Ae=P.arrow)==null?void 0:Ae.centerOffset)!==0,[xe,Oe]=v.useState();return Ge(()=>{w&&Oe(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(pe=P.transformOrigin)==null?void 0:pe.x,(ce=P.transformOrigin)==null?void 0:ce.y].join(" "),...((he=P.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(RR,{scope:r,placedSide:N,onArrowChange:S,arrowX:H,arrowY:re,shouldHideArrow:ee,children:d.jsx(X.div,{"data-side":N,"data-align":$,...m,ref:b,style:{...m.style,animation:K?void 0:"none"}})})})});hb.displayName=ap;var fb="PopperArrow",NR={top:"bottom",right:"left",bottom:"top",left:"right"},pb=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=jR(fb,n),i=NR[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx(TR,{...s,ref:r,style:{...s.style,display:"block"}})})});pb.displayName=fb;function OR(e){return e!==null}var AR=e=>({name:"transformOrigin",options:e,fn(t){var y,w,g;const{placement:r,rects:n,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,u]=mb(r),h={start:"0%",center:"50%",end:"100%"}[u],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,f=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let x="",m="";return c==="bottom"?(x=i?h:`${p}px`,m=`${-l}px`):c==="top"?(x=i?h:`${p}px`,m=`${n.floating.height+l}px`):c==="right"?(x=`${-l}px`,m=i?h:`${f}px`):c==="left"&&(x=`${n.floating.width+l}px`,m=i?h:`${f}px`),{data:{x,y:m}}}});function mb(e){const[t,r="center"]=e.split("-");return[t,r]}var IR=cb,gb=db,vb=hb,yb=pb,[Vc,GD]=Pr("Tooltip",[zc]),lp=zc(),wb="TooltipProvider",DR=700,Pg="tooltip.open",[LR,bb]=Vc(wb),xb=e=>{const{__scopeTooltip:t,delayDuration:r=DR,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=v.useRef(!0),a=v.useRef(!1),l=v.useRef(0);return v.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),d.jsx(LR,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:v.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};xb.displayName=wb;var _b="Tooltip",[QD,Wc]=Vc(_b),ch="TooltipTrigger",$R=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Wc(ch,r),o=bb(ch,r),i=lp(r),a=v.useRef(null),l=ue(t,a,s.onTriggerChange),c=v.useRef(!1),u=v.useRef(!1),h=v.useCallback(()=>c.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),d.jsx(gb,{asChild:!0,...i,children:d.jsx(X.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:W(e.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:W(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:W(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:W(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:W(e.onBlur,s.onClose),onClick:W(e.onClick,s.onClose)})})});$R.displayName=ch;var MR="TooltipPortal",[JD,FR]=Vc(MR,{forceMount:void 0}),Go="TooltipContent",Sb=v.forwardRef((e,t)=>{const r=FR(Go,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Wc(Go,e.__scopeTooltip);return d.jsx(mr,{present:n||i.open,children:i.disableHoverableContent?d.jsx(Eb,{side:s,...o,ref:t}):d.jsx(UR,{side:s,...o,ref:t})})}),UR=v.forwardRef((e,t)=>{const r=Wc(Go,e.__scopeTooltip),n=bb(Go,e.__scopeTooltip),s=v.useRef(null),o=ue(t,s),[i,a]=v.useState(null),{trigger:l,onClose:c}=r,u=s.current,{onPointerInTransitChange:h}=n,p=v.useCallback(()=>{a(null),h(!1)},[h]),f=v.useCallback((x,m)=>{const y=x.currentTarget,w={x:x.clientX,y:x.clientY},g=HR(w,y.getBoundingClientRect()),b=qR(w,g),_=KR(m.getBoundingClientRect()),S=QR([...b,..._]);a(S),h(!0)},[h]);return v.useEffect(()=>()=>p(),[p]),v.useEffect(()=>{if(l&&u){const x=y=>f(y,u),m=y=>f(y,l);return l.addEventListener("pointerleave",x),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",m)}}},[l,u,f,p]),v.useEffect(()=>{if(i){const x=m=>{const y=m.target,w={x:m.clientX,y:m.clientY},g=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),b=!GR(w,i);g?p():b&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,u,i,c,p]),d.jsx(Eb,{...e,ref:o})}),[BR,zR]=Vc(_b,{isInside:!1}),VR=XC("TooltipContent"),Eb=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Wc(Go,r),c=lp(r),{onClose:u}=l;return v.useEffect(()=>(document.addEventListener(Pg,u),()=>document.removeEventListener(Pg,u)),[u]),v.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),d.jsx(_a,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:d.jsxs(vb,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(VR,{children:n}),d.jsx(BR,{scope:r,isInside:!0,children:d.jsx(bk,{id:l.contentId,role:"tooltip",children:s||n})})]})})});Sb.displayName=Go;var Cb="TooltipArrow",WR=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=lp(r);return zR(Cb,r).isInside?null:d.jsx(yb,{...s,...n,ref:t})});WR.displayName=Cb;function HR(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function qR(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function KR(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function GR(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,u=a.y,h=l.x,p=l.y;u>n!=p>n&&r<(h-c)*(n-u)/(p-u)+c&&(s=!s)}return s}function QR(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),JR(t)}function JR(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var YR=xb,kb=Sb;const XR=YR,ZR=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>d.jsx(kb,{ref:n,sideOffset:t,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));ZR.displayName=kb.displayName;var ni=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ns=typeof window>"u"||"Deno"in globalThis;function ct(){}function ej(e,t){return typeof e=="function"?e(t):e}function uh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Tb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function In(e,t){return typeof e=="function"?e(t):e}function Bt(e,t){return typeof e=="function"?e(t):e}function Rg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==cp(i,t.options))return!1}else if(!ia(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function jg(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Os(t.options.mutationKey)!==Os(o))return!1}else if(!ia(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function cp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Os)(e)}function Os(e){return JSON.stringify(e,(t,r)=>dh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ia(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ia(e[r],t[r])):!1}function Pb(e,t){if(e===t)return e;const r=Ng(e)&&Ng(t);if(r||dh(e)&&dh(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<i;u++){const h=r?u:o[u];(!r&&l.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=Pb(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function ic(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Ng(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dh(e){if(!Og(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Og(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Og(e){return Object.prototype.toString.call(e)==="[object Object]"}function tj(e){return new Promise(t=>{setTimeout(t,e)})}function hh(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Pb(e,t):t}function rj(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function nj(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var up=Symbol();function Rb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===up?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function jb(e,t){return typeof e=="function"?e(...t):!!e}var fs,hn,To,Nv,sj=(Nv=class extends ni{constructor(){super();G(this,fs);G(this,hn);G(this,To);F(this,To,t=>{if(!Ns&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,hn)||this.setEventListener(E(this,To))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,hn))==null||t.call(this),F(this,hn,void 0))}setEventListener(t){var r;F(this,To,t),(r=E(this,hn))==null||r.call(this),F(this,hn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){E(this,fs)!==t&&(F(this,fs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof E(this,fs)=="boolean"?E(this,fs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fs=new WeakMap,hn=new WeakMap,To=new WeakMap,Nv),dp=new sj,Po,fn,Ro,Ov,oj=(Ov=class extends ni{constructor(){super();G(this,Po,!0);G(this,fn);G(this,Ro);F(this,Ro,t=>{if(!Ns&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,fn)||this.setEventListener(E(this,Ro))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,fn))==null||t.call(this),F(this,fn,void 0))}setEventListener(t){var r;F(this,Ro,t),(r=E(this,fn))==null||r.call(this),F(this,fn,t(this.setOnline.bind(this)))}setOnline(t){E(this,Po)!==t&&(F(this,Po,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return E(this,Po)}},Po=new WeakMap,fn=new WeakMap,Ro=new WeakMap,Ov),ac=new oj;function fh(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function ij(e){return Math.min(1e3*2**e,3e4)}function Nb(e){return(e??"online")==="online"?ac.isOnline():!0}var Ob=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zu(e){return e instanceof Ob}function Ab(e){let t=!1,r=0,n=!1,s;const o=fh(),i=m=>{var y;n||(p(new Ob(m)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>dp.isFocused()&&(e.networkMode==="always"||ac.isOnline())&&e.canRun(),u=()=>Nb(e.networkMode)&&e.canRun(),h=m=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,m),s==null||s(),o.resolve(m))},p=m=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,m),s==null||s(),o.reject(m))},f=()=>new Promise(m=>{var y;s=w=>{(n||c())&&m(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;s=void 0,n||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(n)return;let m;const y=r===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(h).catch(w=>{var C;if(n)return;const g=e.retry??(Ns?0:3),b=e.retryDelay??ij,_=typeof b=="function"?b(r,w):b,S=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,w);if(t||!S){p(w);return}r++,(C=e.onFail)==null||C.call(e,r,w),tj(_).then(()=>c()?void 0:f()).then(()=>{t?p(w):x()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?x():f().then(x),o)}}var aj=e=>setTimeout(e,0);function lj(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=aj;const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var ze=lj(),ps,Av,Ib=(Av=class{constructor(){G(this,ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uh(this.gcTime)&&F(this,ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ns?1/0:5*60*1e3))}clearGcTimeout(){E(this,ps)&&(clearTimeout(E(this,ps)),F(this,ps,void 0))}},ps=new WeakMap,Av),jo,ms,Ut,gs,nt,fa,vs,or,Ar,Iv,cj=(Iv=class extends Ib{constructor(t){super();G(this,or);G(this,jo);G(this,ms);G(this,Ut);G(this,gs);G(this,nt);G(this,fa);G(this,vs);F(this,vs,!1),F(this,fa,t.defaultOptions),this.setOptions(t.options),this.observers=[],F(this,gs,t.client),F(this,Ut,E(this,gs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,F(this,jo,uj(this.options)),this.state=t.state??E(this,jo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,nt))==null?void 0:t.promise}setOptions(t){this.options={...E(this,fa),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Ut).remove(this)}setData(t,r){const n=hh(this.state.data,t,this.options);return se(this,or,Ar).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){se(this,or,Ar).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=E(this,nt))==null?void 0:n.promise;return(s=E(this,nt))==null||s.cancel(t),r?r.then(ct).catch(ct):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,jo))}isActive(){return this.observers.some(t=>Bt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===up||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>In(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Tb(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,nt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=E(this,nt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,Ut).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(E(this,nt)&&(E(this,vs)?E(this,nt).cancel({revert:!0}):E(this,nt).cancelRetry()),this.scheduleGc()),E(this,Ut).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||se(this,or,Ar).call(this,{type:"invalidate"})}fetch(t,r){var c,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,nt))return E(this,nt).continueRetry(),E(this,nt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(f=>f.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(F(this,vs,!0),n.signal)})},o=()=>{const p=Rb(this.options,r),x=(()=>{const m={client:E(this,gs),queryKey:this.queryKey,meta:this.meta};return s(m),m})();return F(this,vs,!1),this.options.persister?this.options.persister(p,x,this):p(x)},a=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,gs),state:this.state,fetchFn:o};return s(p),p})();(c=this.options.behavior)==null||c.onFetch(a,this),F(this,ms,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&se(this,or,Ar).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=p=>{var f,x,m,y;zu(p)&&p.silent||se(this,or,Ar).call(this,{type:"error",error:p}),zu(p)||((x=(f=E(this,Ut).config).onError)==null||x.call(f,p,this),(y=(m=E(this,Ut).config).onSettled)==null||y.call(m,this.state.data,p,this)),this.scheduleGc()};return F(this,nt,Ab({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var f,x,m,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){l(w);return}(x=(f=E(this,Ut).config).onSuccess)==null||x.call(f,p,this),(y=(m=E(this,Ut).config).onSettled)==null||y.call(m,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,f)=>{se(this,or,Ar).call(this,{type:"failed",failureCount:p,error:f})},onPause:()=>{se(this,or,Ar).call(this,{type:"pause"})},onContinue:()=>{se(this,or,Ar).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),E(this,nt).start()}},jo=new WeakMap,ms=new WeakMap,Ut=new WeakMap,gs=new WeakMap,nt=new WeakMap,fa=new WeakMap,vs=new WeakMap,or=new WeakSet,Ar=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Db(n.data,this.options),fetchMeta:t.meta??null};case"success":return F(this,ms,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return zu(s)&&s.revert&&E(this,ms)?{...E(this,ms),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ze.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,Ut).notify({query:this,type:"updated",action:t})})},Iv);function Db(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function uj(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wr,Dv,dj=(Dv=class extends ni{constructor(t={}){super();G(this,wr);this.config=t,F(this,wr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??cp(s,r);let i=this.get(o);return i||(i=new cj({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){E(this,wr).has(t.queryHash)||(E(this,wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=E(this,wr).get(t.queryHash);r&&(t.destroy(),r===t&&E(this,wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,wr).get(t)}getAll(){return[...E(this,wr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Rg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Rg(t,n)):r}notify(t){ze.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ze.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ze.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wr=new WeakMap,Dv),br,it,ys,xr,sn,Lv,hj=(Lv=class extends Ib{constructor(t){super();G(this,xr);G(this,br);G(this,it);G(this,ys);this.mutationId=t.mutationId,F(this,it,t.mutationCache),F(this,br,[]),this.state=t.state||Lb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,br).includes(t)||(E(this,br).push(t),this.clearGcTimeout(),E(this,it).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){F(this,br,E(this,br).filter(r=>r!==t)),this.scheduleGc(),E(this,it).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,br).length||(this.state.status==="pending"?this.scheduleGc():E(this,it).remove(this))}continue(){var t;return((t=E(this,ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,a,l,c,u,h,p,f,x,m,y,w,g,b,_,S,C,k,T;const r=()=>{se(this,xr,sn).call(this,{type:"continue"})};F(this,ys,Ab({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,j)=>{se(this,xr,sn).call(this,{type:"failed",failureCount:R,error:j})},onPause:()=>{se(this,xr,sn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,it).canRun(this)}));const n=this.state.status==="pending",s=!E(this,ys).canStart();try{if(n)r();else{se(this,xr,sn).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=E(this,it).config).onMutate)==null?void 0:i.call(o,t,this));const j=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));j!==this.state.context&&se(this,xr,sn).call(this,{type:"pending",context:j,variables:t,isPaused:s})}const R=await E(this,ys).start();return await((u=(c=E(this,it).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,R,t,this.state.context)),await((x=(f=E(this,it).config).onSettled)==null?void 0:x.call(f,R,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,R,null,t,this.state.context)),se(this,xr,sn).call(this,{type:"success",data:R}),R}catch(R){try{throw await((g=(w=E(this,it).config).onError)==null?void 0:g.call(w,R,t,this.state.context,this)),await((_=(b=this.options).onError)==null?void 0:_.call(b,R,t,this.state.context)),await((C=(S=E(this,it).config).onSettled)==null?void 0:C.call(S,void 0,R,this.state.variables,this.state.context,this)),await((T=(k=this.options).onSettled)==null?void 0:T.call(k,void 0,R,t,this.state.context)),R}finally{se(this,xr,sn).call(this,{type:"error",error:R})}}finally{E(this,it).runNext(this)}}},br=new WeakMap,it=new WeakMap,ys=new WeakMap,xr=new WeakSet,sn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ze.batch(()=>{E(this,br).forEach(n=>{n.onMutationUpdate(t)}),E(this,it).notify({mutation:this,type:"updated",action:t})})},Lv);function Lb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $r,ir,pa,$v,fj=($v=class extends ni{constructor(t={}){super();G(this,$r);G(this,ir);G(this,pa);this.config=t,F(this,$r,new Set),F(this,ir,new Map),F(this,pa,0)}build(t,r,n){const s=new hj({mutationCache:this,mutationId:++ja(this,pa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){E(this,$r).add(t);const r=Xa(t);if(typeof r=="string"){const n=E(this,ir).get(r);n?n.push(t):E(this,ir).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,$r).delete(t)){const r=Xa(t);if(typeof r=="string"){const n=E(this,ir).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&E(this,ir).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Xa(t);if(typeof r=="string"){const n=E(this,ir).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Xa(t);if(typeof r=="string"){const s=(n=E(this,ir).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ze.batch(()=>{E(this,$r).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,$r).clear(),E(this,ir).clear()})}getAll(){return Array.from(E(this,$r))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>jg(r,n))}findAll(t={}){return this.getAll().filter(r=>jg(t,r))}notify(t){ze.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ze.batch(()=>Promise.all(t.map(r=>r.continue().catch(ct))))}},$r=new WeakMap,ir=new WeakMap,pa=new WeakMap,$v);function Xa(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ag(e){return{onFetch:(t,r)=>{var u,h,p,f,x;const n=t.options,s=(p=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],i=((x=t.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},w=Rb(t.options,t.fetchOptions),g=async(b,_,S)=>{if(m)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return y(L),L})(),T=await w(k),{maxPages:R}=t.options,j=S?nj:rj;return{pages:j(b.pages,T,R),pageParams:j(b.pageParams,_,R)}};if(s&&o.length){const b=s==="backward",_=b?pj:Ig,S={pages:o,pageParams:i},C=_(n,S);a=await g(S,C,b)}else{const b=e??o.length;do{const _=l===0?i[0]??n.initialPageParam:Ig(n,a);if(l>0&&_==null)break;a=await g(a,_),l++}while(l<b)}return a};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Ig(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pj(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ie,pn,mn,No,Oo,gn,Ao,Io,Mv,mj=(Mv=class{constructor(e={}){G(this,Ie);G(this,pn);G(this,mn);G(this,No);G(this,Oo);G(this,gn);G(this,Ao);G(this,Io);F(this,Ie,e.queryCache||new dj),F(this,pn,e.mutationCache||new fj),F(this,mn,e.defaultOptions||{}),F(this,No,new Map),F(this,Oo,new Map),F(this,gn,0)}mount(){ja(this,gn)._++,E(this,gn)===1&&(F(this,Ao,dp.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,Ie).onFocus())})),F(this,Io,ac.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,Ie).onOnline())})))}unmount(){var e,t;ja(this,gn)._--,E(this,gn)===0&&((e=E(this,Ao))==null||e.call(this),F(this,Ao,void 0),(t=E(this,Io))==null||t.call(this),F(this,Io,void 0))}isFetching(e){return E(this,Ie).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,pn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,Ie).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=E(this,Ie).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(In(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return E(this,Ie).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=E(this,Ie).get(n.queryHash),o=s==null?void 0:s.state.data,i=ej(t,o);if(i!==void 0)return E(this,Ie).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return ze.batch(()=>E(this,Ie).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=E(this,Ie).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=E(this,Ie);ze.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=E(this,Ie);return ze.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=ze.batch(()=>E(this,Ie).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ct).catch(ct)}invalidateQueries(e,t={}){return ze.batch(()=>(E(this,Ie).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=ze.batch(()=>E(this,Ie).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(ct)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(ct)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=E(this,Ie).build(this,t);return r.isStaleByTime(In(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ct).catch(ct)}fetchInfiniteQuery(e){return e.behavior=Ag(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ct).catch(ct)}ensureInfiniteQueryData(e){return e.behavior=Ag(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ac.isOnline()?E(this,pn).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,Ie)}getMutationCache(){return E(this,pn)}getDefaultOptions(){return E(this,mn)}setDefaultOptions(e){F(this,mn,e)}setQueryDefaults(e,t){E(this,No).set(Os(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,No).values()],r={};return t.forEach(n=>{ia(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){E(this,Oo).set(Os(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,Oo).values()],r={};return t.forEach(n=>{ia(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,mn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===up&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,mn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,Ie).clear(),E(this,pn).clear()}},Ie=new WeakMap,pn=new WeakMap,mn=new WeakMap,No=new WeakMap,Oo=new WeakMap,gn=new WeakMap,Ao=new WeakMap,Io=new WeakMap,Mv),gt,le,ma,at,ws,Do,vn,yn,ga,Lo,$o,bs,xs,wn,Mo,me,Ei,ph,mh,gh,vh,yh,wh,bh,$b,Fv,gj=(Fv=class extends ni{constructor(t,r){super();G(this,me);G(this,gt);G(this,le);G(this,ma);G(this,at);G(this,ws);G(this,Do);G(this,vn);G(this,yn);G(this,ga);G(this,Lo);G(this,$o);G(this,bs);G(this,xs);G(this,wn);G(this,Mo,new Set);this.options=r,F(this,gt,t),F(this,yn,null),F(this,vn,fh()),this.options.experimental_prefetchInRender||E(this,vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,le).addObserver(this),Dg(E(this,le),this.options)?se(this,me,Ei).call(this):this.updateResult(),se(this,me,vh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xh(E(this,le),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xh(E(this,le),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,se(this,me,yh).call(this),se(this,me,wh).call(this),E(this,le).removeObserver(this)}setOptions(t){const r=this.options,n=E(this,le);if(this.options=E(this,gt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Bt(this.options.enabled,E(this,le))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");se(this,me,bh).call(this),E(this,le).setOptions(this.options),r._defaulted&&!ic(this.options,r)&&E(this,gt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,le),observer:this});const s=this.hasListeners();s&&Lg(E(this,le),n,this.options,r)&&se(this,me,Ei).call(this),this.updateResult(),s&&(E(this,le)!==n||Bt(this.options.enabled,E(this,le))!==Bt(r.enabled,E(this,le))||In(this.options.staleTime,E(this,le))!==In(r.staleTime,E(this,le)))&&se(this,me,ph).call(this);const o=se(this,me,mh).call(this);s&&(E(this,le)!==n||Bt(this.options.enabled,E(this,le))!==Bt(r.enabled,E(this,le))||o!==E(this,wn))&&se(this,me,gh).call(this,o)}getOptimisticResult(t){const r=E(this,gt).getQueryCache().build(E(this,gt),t),n=this.createResult(r,t);return yj(this,n)&&(F(this,at,n),F(this,Do,this.options),F(this,ws,E(this,le).state)),n}getCurrentResult(){return E(this,at)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){E(this,Mo).add(t)}getCurrentQuery(){return E(this,le)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=E(this,gt).defaultQueryOptions(t),n=E(this,gt).getQueryCache().build(E(this,gt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return se(this,me,Ei).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,at)))}createResult(t,r){var R;const n=E(this,le),s=this.options,o=E(this,at),i=E(this,ws),a=E(this,Do),c=t!==n?t.state:E(this,ma),{state:u}=t;let h={...u},p=!1,f;if(r._optimisticResults){const j=this.hasListeners(),L=!j&&Dg(t,r),A=j&&Lg(t,n,r,s);(L||A)&&(h={...h,...Db(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:y}=h;f=h.data;let w=!1;if(r.placeholderData!==void 0&&f===void 0&&y==="pending"){let j;o!=null&&o.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(j=o.data,w=!0):j=typeof r.placeholderData=="function"?r.placeholderData((R=E(this,$o))==null?void 0:R.state.data,E(this,$o)):r.placeholderData,j!==void 0&&(y="success",f=hh(o==null?void 0:o.data,j,r),p=!0)}if(r.select&&f!==void 0&&!w)if(o&&f===(i==null?void 0:i.data)&&r.select===E(this,ga))f=E(this,Lo);else try{F(this,ga,r.select),f=r.select(f),f=hh(o==null?void 0:o.data,f,r),F(this,Lo,f),F(this,yn,null)}catch(j){F(this,yn,j)}E(this,yn)&&(x=E(this,yn),f=E(this,Lo),m=Date.now(),y="error");const g=h.fetchStatus==="fetching",b=y==="pending",_=y==="error",S=b&&g,C=f!==void 0,T={status:y,fetchStatus:h.fetchStatus,isPending:b,isSuccess:y==="success",isError:_,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:_&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&C,isStale:hp(t,r),refetch:this.refetch,promise:E(this,vn),isEnabled:Bt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const j=q=>{T.status==="error"?q.reject(T.error):T.data!==void 0&&q.resolve(T.data)},L=()=>{const q=F(this,vn,T.promise=fh());j(q)},A=E(this,vn);switch(A.status){case"pending":t.queryHash===n.queryHash&&j(A);break;case"fulfilled":(T.status==="error"||T.data!==A.value)&&L();break;case"rejected":(T.status!=="error"||T.error!==A.reason)&&L();break}}return T}updateResult(){const t=E(this,at),r=this.createResult(E(this,le),this.options);if(F(this,ws,E(this,le).state),F(this,Do,this.options),E(this,ws).data!==void 0&&F(this,$o,E(this,le)),ic(r,t))return;F(this,at,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!E(this,Mo).size)return!0;const i=new Set(o??E(this,Mo));return this.options.throwOnError&&i.add("error"),Object.keys(E(this,at)).some(a=>{const l=a;return E(this,at)[l]!==t[l]&&i.has(l)})};se(this,me,$b).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&se(this,me,vh).call(this)}},gt=new WeakMap,le=new WeakMap,ma=new WeakMap,at=new WeakMap,ws=new WeakMap,Do=new WeakMap,vn=new WeakMap,yn=new WeakMap,ga=new WeakMap,Lo=new WeakMap,$o=new WeakMap,bs=new WeakMap,xs=new WeakMap,wn=new WeakMap,Mo=new WeakMap,me=new WeakSet,Ei=function(t){se(this,me,bh).call(this);let r=E(this,le).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ct)),r},ph=function(){se(this,me,yh).call(this);const t=In(this.options.staleTime,E(this,le));if(Ns||E(this,at).isStale||!uh(t))return;const n=Tb(E(this,at).dataUpdatedAt,t)+1;F(this,bs,setTimeout(()=>{E(this,at).isStale||this.updateResult()},n))},mh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,le)):this.options.refetchInterval)??!1},gh=function(t){se(this,me,wh).call(this),F(this,wn,t),!(Ns||Bt(this.options.enabled,E(this,le))===!1||!uh(E(this,wn))||E(this,wn)===0)&&F(this,xs,setInterval(()=>{(this.options.refetchIntervalInBackground||dp.isFocused())&&se(this,me,Ei).call(this)},E(this,wn)))},vh=function(){se(this,me,ph).call(this),se(this,me,gh).call(this,se(this,me,mh).call(this))},yh=function(){E(this,bs)&&(clearTimeout(E(this,bs)),F(this,bs,void 0))},wh=function(){E(this,xs)&&(clearInterval(E(this,xs)),F(this,xs,void 0))},bh=function(){const t=E(this,gt).getQueryCache().build(E(this,gt),this.options);if(t===E(this,le))return;const r=E(this,le);F(this,le,t),F(this,ma,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},$b=function(t){ze.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(E(this,at))}),E(this,gt).getQueryCache().notify({query:E(this,le),type:"observerResultsUpdated"})})},Fv);function vj(e,t){return Bt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Dg(e,t){return vj(e,t)||e.state.data!==void 0&&xh(e,t,t.refetchOnMount)}function xh(e,t,r){if(Bt(t.enabled,e)!==!1&&In(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&hp(e,t)}return!1}function Lg(e,t,r,n){return(e!==t||Bt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&hp(e,r)}function hp(e,t){return Bt(t.enabled,e)!==!1&&e.isStaleByTime(In(t.staleTime,e))}function yj(e,t){return!ic(e.getCurrentResult(),t)}var bn,xn,vt,Mr,zr,Pl,_h,Uv,wj=(Uv=class extends ni{constructor(r,n){super();G(this,zr);G(this,bn);G(this,xn);G(this,vt);G(this,Mr);F(this,bn,r),this.setOptions(n),this.bindMethods(),se(this,zr,Pl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=E(this,bn).defaultMutationOptions(r),ic(this.options,n)||E(this,bn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,vt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Os(n.mutationKey)!==Os(this.options.mutationKey)?this.reset():((s=E(this,vt))==null?void 0:s.state.status)==="pending"&&E(this,vt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,vt))==null||r.removeObserver(this)}onMutationUpdate(r){se(this,zr,Pl).call(this),se(this,zr,_h).call(this,r)}getCurrentResult(){return E(this,xn)}reset(){var r;(r=E(this,vt))==null||r.removeObserver(this),F(this,vt,void 0),se(this,zr,Pl).call(this),se(this,zr,_h).call(this)}mutate(r,n){var s;return F(this,Mr,n),(s=E(this,vt))==null||s.removeObserver(this),F(this,vt,E(this,bn).getMutationCache().build(E(this,bn),this.options)),E(this,vt).addObserver(this),E(this,vt).execute(r)}},bn=new WeakMap,xn=new WeakMap,vt=new WeakMap,Mr=new WeakMap,zr=new WeakSet,Pl=function(){var n;const r=((n=E(this,vt))==null?void 0:n.state)??Lb();F(this,xn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},_h=function(r){ze.batch(()=>{var n,s,o,i,a,l,c,u;if(E(this,Mr)&&this.hasListeners()){const h=E(this,xn).variables,p=E(this,xn).context;(r==null?void 0:r.type)==="success"?((s=(n=E(this,Mr)).onSuccess)==null||s.call(n,r.data,h,p),(i=(o=E(this,Mr)).onSettled)==null||i.call(o,r.data,null,h,p)):(r==null?void 0:r.type)==="error"&&((l=(a=E(this,Mr)).onError)==null||l.call(a,r.error,h,p),(u=(c=E(this,Mr)).onSettled)==null||u.call(c,void 0,r.error,h,p))}this.listeners.forEach(h=>{h(E(this,xn))})})},Uv),Mb=v.createContext(void 0),jr=e=>{const t=v.useContext(Mb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},bj=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(Mb.Provider,{value:e,children:t})),Fb=v.createContext(!1),xj=()=>v.useContext(Fb);Fb.Provider;function _j(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Sj=v.createContext(_j()),Ej=()=>v.useContext(Sj),Cj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},kj=e=>{v.useEffect(()=>{e.clearReset()},[e])},Tj=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||jb(r,[e.error,n])),Pj=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Rj=(e,t)=>e.isLoading&&e.isFetching&&!t,jj=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$g=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Nj(e,t,r){var h,p,f,x,m;const n=xj(),s=Ej(),o=jr(),i=o.defaultQueryOptions(e);(p=(h=o.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,i),i._optimisticResults=n?"isRestoring":"optimistic",Pj(i),Cj(i,s),kj(s);const a=!o.getQueryCache().get(i.queryHash),[l]=v.useState(()=>new t(o,i)),c=l.getOptimisticResult(i),u=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(y=>{const w=u?l.subscribe(ze.batchCalls(y)):ct;return l.updateResult(),w},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(i)},[i,l]),jj(i,c))throw $g(i,l,s);if(Tj({result:c,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;if((x=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||x.call(f,i,c),i.experimental_prefetchInRender&&!Ns&&Rj(c,n)){const y=a?$g(i,l,s):(m=o.getQueryCache().get(i.queryHash))==null?void 0:m.promise;y==null||y.catch(ct).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?c:l.trackResult(c)}function He(e,t){return Nj(e,gj)}function At(e,t){const r=jr(),[n]=v.useState(()=>new wj(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(i=>n.subscribe(ze.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=v.useCallback((i,a)=>{n.mutate(i,a).catch(ct)},[n]);if(s.error&&jb(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aa.apply(this,arguments)}var En;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(En||(En={}));const Mg="popstate";function Oj(e){e===void 0&&(e={});function t(s,o){let{pathname:i="/",search:a="",hash:l=""}=Fs(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Sh("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:lc(o))}function n(s,o){fp(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Ij(t,r,n,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Aj(){return Math.random().toString(36).substr(2,8)}function Fg(e,t){return{usr:e.state,key:e.key,idx:t}}function Sh(e,t,r,n){return r===void 0&&(r=null),aa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fs(t):t,{state:r,key:t&&t.key||n||Aj()})}function lc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Ij(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=En.Pop,l=null,c=u();c==null&&(c=0,i.replaceState(aa({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function h(){a=En.Pop;let y=u(),w=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:w})}function p(y,w){a=En.Push;let g=Sh(m.location,y,w);r&&r(g,y),c=u()+1;let b=Fg(g,c),_=m.createHref(g);try{i.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&l&&l({action:a,location:m.location,delta:1})}function f(y,w){a=En.Replace;let g=Sh(m.location,y,w);r&&r(g,y),c=u();let b=Fg(g,c),_=m.createHref(g);i.replaceState(b,"",_),o&&l&&l({action:a,location:m.location,delta:0})}function x(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:lc(y);return g=g.replace(/ $/,"%20"),Fe(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let m={get action(){return a},get location(){return e(s,i)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Mg,h),l=y,()=>{s.removeEventListener(Mg,h),l=null}},createHref(y){return t(s,y)},createURL:x,encodeLocation(y){let w=x(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:f,go(y){return i.go(y)}};return m}var Ug;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ug||(Ug={}));function Dj(e,t,r){return r===void 0&&(r="/"),Lj(e,t,r,!1)}function Lj(e,t,r,n){let s=typeof t=="string"?Fs(t):t,o=pp(s.pathname||"/",r);if(o==null)return null;let i=Ub(e);$j(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let c=Gj(o);a=qj(i[l],c,n)}return a}function Ub(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Dn([n,l.relativePath]),u=r.concat(l);o.children&&o.children.length>0&&(Fe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ub(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:Wj(c,o.index),routesMeta:u})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of Bb(o.path))s(o,i,l)}),t}function Bb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Bb(n.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function $j(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Hj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mj=/^:[\w-]+$/,Fj=3,Uj=2,Bj=1,zj=10,Vj=-2,Bg=e=>e==="*";function Wj(e,t){let r=e.split("/"),n=r.length;return r.some(Bg)&&(n+=Vj),t&&(n+=Uj),r.filter(s=>!Bg(s)).reduce((s,o)=>s+(Mj.test(o)?Fj:o===""?Bj:zj),n)}function Hj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function qj(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",h=zg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=zg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:Dn([o,h.pathname]),pathnameBase:Xj(Dn([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=Dn([o,h.pathnameBase]))}return i}function zg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Kj(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:p,isOptional:f}=u;if(p==="*"){let m=a[h]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const x=a[h];return f&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function Kj(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Gj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Qj(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Fs(e):e;return{pathname:r?r.startsWith("/")?r:Jj(r,t):t,search:Zj(n),hash:eN(s)}}function Jj(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Vu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zb(e,t){let r=Yj(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Vb(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Fs(e):(s=aa({},e),Fe(!s.pathname||!s.pathname.includes("?"),Vu("?","pathname","search",s)),Fe(!s.pathname||!s.pathname.includes("#"),Vu("#","pathname","hash",s)),Fe(!s.search||!s.search.includes("#"),Vu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=Qj(s,a),c=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Dn=e=>e.join("/").replace(/\/\/+/g,"/"),Xj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wb=["post","put","patch","delete"];new Set(Wb);const rN=["get",...Wb];new Set(rN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},la.apply(this,arguments)}const mp=v.createContext(null),nN=v.createContext(null),Us=v.createContext(null),Hc=v.createContext(null),qn=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Hb=v.createContext(null);function sN(e,t){let{relative:r}=t===void 0?{}:t;ka()||Fe(!1);let{basename:n,navigator:s}=v.useContext(Us),{hash:o,pathname:i,search:a}=Kb(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:Dn([n,i])),s.createHref({pathname:l,search:a,hash:o})}function ka(){return v.useContext(Hc)!=null}function Bs(){return ka()||Fe(!1),v.useContext(Hc).location}function qb(e){v.useContext(Us).static||v.useLayoutEffect(e)}function $t(){let{isDataRoute:e}=v.useContext(qn);return e?yN():oN()}function oN(){ka()||Fe(!1);let e=v.useContext(mp),{basename:t,future:r,navigator:n}=v.useContext(Us),{matches:s}=v.useContext(qn),{pathname:o}=Bs(),i=JSON.stringify(zb(s,r.v7_relativeSplatPath)),a=v.useRef(!1);return qb(()=>{a.current=!0}),v.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=Vb(c,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Dn([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,i,o,e])}function iN(){let{matches:e}=v.useContext(qn),t=e[e.length-1];return t?t.params:{}}function Kb(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(Us),{matches:s}=v.useContext(qn),{pathname:o}=Bs(),i=JSON.stringify(zb(s,n.v7_relativeSplatPath));return v.useMemo(()=>Vb(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function aN(e,t){return lN(e,t)}function lN(e,t,r,n){ka()||Fe(!1);let{navigator:s}=v.useContext(Us),{matches:o}=v.useContext(qn),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=Bs(),u;if(t){var h;let y=typeof t=="string"?Fs(t):t;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Fe(!1),u=y}else u=c;let p=u.pathname||"/",f=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=Dj(e,{pathname:f}),m=fN(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Dn([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Dn([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return t&&m?v.createElement(Hc.Provider,{value:{location:la({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:En.Pop}},m):m}function cN(){let e=vN(),t=tN(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const uN=v.createElement(cN,null);class dN extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(qn.Provider,{value:this.props.routeContext},v.createElement(Hb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hN(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(mp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(qn.Provider,{value:t},n)}function fN(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let u=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Fe(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:p,errors:f}=r,x=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,h,p)=>{let f,x=!1,m=null,y=null;r&&(f=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||uN,l&&(c<0&&p===0?(x=!0,y=null):c===p&&(x=!0,y=h.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),g=()=>{let b;return f?b=m:x?b=y:h.route.Component?b=v.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,v.createElement(hN,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?v.createElement(dN,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var Gb=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gb||{}),cc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cc||{});function pN(e){let t=v.useContext(mp);return t||Fe(!1),t}function mN(e){let t=v.useContext(nN);return t||Fe(!1),t}function gN(e){let t=v.useContext(qn);return t||Fe(!1),t}function Qb(e){let t=gN(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function vN(){var e;let t=v.useContext(Hb),r=mN(cc.UseRouteError),n=Qb(cc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yN(){let{router:e}=pN(Gb.UseNavigateStable),t=Qb(cc.UseNavigateStable),r=v.useRef(!1);return qb(()=>{r.current=!0}),v.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,la({fromRouteId:t},o)))},[e,t])}function wN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Et(e){Fe(!1)}function bN(e){let{basename:t="/",children:r=null,location:n,navigationType:s=En.Pop,navigator:o,static:i=!1,future:a}=e;ka()&&Fe(!1);let l=t.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:o,static:i,future:la({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof n=="string"&&(n=Fs(n));let{pathname:u="/",search:h="",hash:p="",state:f=null,key:x="default"}=n,m=v.useMemo(()=>{let y=pp(u,l);return y==null?null:{location:{pathname:y,search:h,hash:p,state:f,key:x},navigationType:s}},[l,u,h,p,f,x,s]);return m==null?null:v.createElement(Us.Provider,{value:c},v.createElement(Hc.Provider,{children:r,value:m}))}function xN(e){let{children:t,location:r}=e;return aN(Eh(t),r)}new Promise(()=>{});function Eh(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let o=[...t,s];if(n.type===v.Fragment){r.push.apply(r,Eh(n.props.children,o));return}n.type!==Et&&Fe(!1),!n.props.index||!n.props.children||Fe(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Eh(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}function _N(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function SN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EN(e,t){return e.button===0&&(!t||t==="_self")&&!SN(e)}function kh(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function CN(e,t){let r=kh(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const kN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TN="6";try{window.__reactRouterVersion=TN}catch{}const PN="startTransition",Vg=tf[PN];function Jb(e){let{basename:t,children:r,future:n,window:s}=e,o=v.useRef();o.current==null&&(o.current=Oj({window:s,v5Compat:!0}));let i=o.current,[a,l]=v.useState({action:i.action,location:i.location}),{v7_startTransition:c}=n||{},u=v.useCallback(h=>{c&&Vg?Vg(()=>l(h)):l(h)},[l,c]);return v.useLayoutEffect(()=>i.listen(u),[i,u]),v.useEffect(()=>wN(n),[n]),v.createElement(bN,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const RN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wg=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=t,p=_N(t,kN),{basename:f}=v.useContext(Us),x,m=!1;if(typeof c=="string"&&jN.test(c)&&(x=c,RN))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),S=pp(_.pathname,f);_.origin===b.origin&&S!=null?c=S+_.search+_.hash:m=!0}catch{}let y=sN(c,{relative:s}),w=NN(c,{replace:i,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:h});function g(b){n&&n(b),b.defaultPrevented||w(b)}return v.createElement("a",Ch({},p,{href:x||y,onClick:m||o?n:g,ref:r,target:l}))});var Hg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hg||(Hg={}));var qg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qg||(qg={}));function NN(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,l=$t(),c=Bs(),u=Kb(e,{relative:i});return v.useCallback(h=>{if(EN(h,r)){h.preventDefault();let p=n!==void 0?n:lc(c)===lc(u);l(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[c,l,u,n,s,r,e,o,i,a])}function gp(e){let t=v.useRef(kh(e)),r=v.useRef(!1),n=Bs(),s=v.useMemo(()=>CN(n.search,r.current?null:t.current),[n.search]),o=$t(),i=v.useCallback((a,l)=>{const c=kh(typeof a=="function"?a(s):a);r.current=!0,o("?"+c,l)},[o,s]);return[s,i]}const ON=()=>{const e=Bs();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},AN=$c("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?JC:"button";return d.jsx(i,{className:ie(AN({variant:t,size:r,className:e})),ref:o,...s})});Z.displayName="Button";const ft=v.forwardRef(({className:e,type:t,...r},n)=>d.jsx("input",{type:t,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ft.displayName="Input";var Th=function(e,t){return Th=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Th(e,t)};function Yb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Th(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wt=function(){return Wt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Wt.apply(this,arguments)};function Kn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Xb(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Zb(e,t){return function(r,n){t(r,n,e)}}function ex(e,t,r,n,s,o){function i(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,p=!1,f=r.length-1;f>=0;f--){var x={};for(var m in n)x[m]=m==="access"?{}:n[m];for(var m in n.access)x.access[m]=n.access[m];x.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(w||null))};var y=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],x);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=i(y.get))&&(u.get=h),(h=i(y.set))&&(u.set=h),(h=i(y.init))&&s.unshift(h)}else(h=i(y))&&(a==="field"?s.unshift(h):u[l]=h)}c&&Object.defineProperty(c,n.name,u),p=!0}function tx(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function rx(e){return typeof e=="symbol"?e:"".concat(e)}function nx(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function sx(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function z(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{c(n.next(u))}catch(h){i(h)}}function l(u){try{c(n.throw(u))}catch(h){i(h)}}function c(u){u.done?o(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function ox(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(o=c[0]&2?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],s=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var qc=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function ix(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qc(t,e,r)}function uc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function ax(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vp(arguments[t]));return e}function lx(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function yp(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Qo(e){return this instanceof Qo?(this.v=e,this):new Qo(e)}function cx(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(f){return function(x){return Promise.resolve(x).then(f,h)}}function a(f,x){n[f]&&(s[f]=function(m){return new Promise(function(y,w){o.push([f,m,y,w])>1||l(f,m)})},x&&(s[f]=x(s[f])))}function l(f,x){try{c(n[f](x))}catch(m){p(o[0][3],m)}}function c(f){f.value instanceof Qo?Promise.resolve(f.value.v).then(u,h):p(o[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function p(f,x){f(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ux(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Qo(e[s](i)),done:!1}:o?o(i):i}:o}}function dx(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof uc=="function"?uc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,l){i=e[o](i),s(a,l,i.done,i.value)})}}function s(o,i,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},i)}}function hx(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var IN=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Ph=function(e){return Ph=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ph(e)};function fx(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ph(e),n=0;n<r.length;n++)r[n]!=="default"&&qc(t,e,r[n]);return IN(t,e),t}function px(e){return e&&e.__esModule?e:{default:e}}function mx(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function gx(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function vx(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function yx(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var DN=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function wx(e){function t(o){e.error=e.hasError?new DN(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function bx(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}const LN={__extends:Yb,__assign:Wt,__rest:Kn,__decorate:Xb,__param:Zb,__esDecorate:ex,__runInitializers:tx,__propKey:rx,__setFunctionName:nx,__metadata:sx,__awaiter:z,__generator:ox,__createBinding:qc,__exportStar:ix,__values:uc,__read:vp,__spread:ax,__spreadArrays:lx,__spreadArray:yp,__await:Qo,__asyncGenerator:cx,__asyncDelegator:ux,__asyncValues:dx,__makeTemplateObject:hx,__importStar:fx,__importDefault:px,__classPrivateFieldGet:mx,__classPrivateFieldSet:gx,__classPrivateFieldIn:vx,__addDisposableResource:yx,__disposeResources:wx,__rewriteRelativeImportExtension:bx},$N=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:yx,get __assign(){return Wt},__asyncDelegator:ux,__asyncGenerator:cx,__asyncValues:dx,__await:Qo,__awaiter:z,__classPrivateFieldGet:mx,__classPrivateFieldIn:vx,__classPrivateFieldSet:gx,__createBinding:qc,__decorate:Xb,__disposeResources:wx,__esDecorate:ex,__exportStar:ix,__extends:Yb,__generator:ox,__importDefault:px,__importStar:fx,__makeTemplateObject:hx,__metadata:sx,__param:Zb,__propKey:rx,__read:vp,__rest:Kn,__rewriteRelativeImportExtension:bx,__runInitializers:tx,__setFunctionName:nx,__spread:ax,__spreadArray:yp,__spreadArrays:lx,__values:uc,default:LN},Symbol.toStringTag,{value:"Module"})),MN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class wp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class FN extends wp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Kg extends wp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gg extends wp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rh||(Rh={}));class UN{constructor(t,{headers:r={},customFetch:n,region:s=Rh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=MN(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return z(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const x=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,x.searchParams.set("forceFunctionRegion",f));let m;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(p["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(p["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;let y=u;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),u?(y=i.signal,u.addEventListener("abort",()=>i.abort())):y=i.signal);const w=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:m,signal:y}).catch(S=>{throw new FN(S)}),g=w.headers.get("x-relay-error");if(g&&g==="true")throw new Kg(w);if(!w.ok)throw new Gg(w);let b=((s=w.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield w.json():b==="application/octet-stream"||b==="application/pdf"?_=yield w.blob():b==="text/event-stream"?_=w:b==="multipart/form-data"?_=yield w.formData():_=yield w.text(),{data:_,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof Gg||a instanceof Kg?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var ut={};const si=g1($N);var Za={},el={},tl={},rl={},nl={},sl={},Qg;function xx(){if(Qg)return sl;Qg=1,Object.defineProperty(sl,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return sl.default=e,sl}var Jg;function _x(){if(Jg)return nl;Jg=1,Object.defineProperty(nl,"__esModule",{value:!0});const t=si.__importDefault(xx());class r{constructor(s){var o,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(o=s.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=new Headers(this.headers),this.headers.set(s,o),this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,h,p;let f=null,x=null,m=null,y=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const S=await l.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const b=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),_=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&_&&_.length>1&&(m=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(f={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,m=null,y=406,w="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const b=await l.text();try{f=JSON.parse(b),Array.isArray(f)&&l.status===404&&(x=[],f=null,y=200,w="OK")}catch{l.status===404&&b===""?(y=204,w="No Content"):f={message:b}}if(f&&this.isMaybeSingle&&(!((p=f==null?void 0:f.details)===null||p===void 0)&&p.includes("0 rows"))&&(f=null,y=200,w="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:x,count:m,status:y,statusText:w}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,u,h,p,f,x;let m="";const y=l==null?void 0:l.cause;if(y){const w=(c=y==null?void 0:y.message)!==null&&c!==void 0?c:"",g=(u=y==null?void 0:y.code)!==null&&u!==void 0?u:"";m=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,m+=`

Caused by: ${(p=y==null?void 0:y.name)!==null&&p!==void 0?p:"Error"}: ${w}`,g&&(m+=` (${g})`),y!=null&&y.stack&&(m+=`
${y.stack}`)}else m=(f=l==null?void 0:l.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(x=l==null?void 0:l.name)!==null&&x!==void 0?x:"FetchError"}: ${l==null?void 0:l.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,o)}returns(){return this}overrideTypes(){return this}}return nl.default=r,nl}var Yg;function Sx(){if(Yg)return rl;Yg=1,Object.defineProperty(rl,"__esModule",{value:!0});const t=si.__importDefault(_x());class r extends t.default{select(s){let o=!1;const i=(s??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${o?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:i=o}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,o,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[s?"analyze":null,o?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return rl.default=r,rl}var Xg;function bp(){if(Xg)return tl;Xg=1,Object.defineProperty(tl,"__esModule",{value:!0});const t=si.__importDefault(Sx()),r=new RegExp("[,()]");class n extends t.default{eq(o,i){return this.url.searchParams.append(o,`eq.${i}`),this}neq(o,i){return this.url.searchParams.append(o,`neq.${i}`),this}gt(o,i){return this.url.searchParams.append(o,`gt.${i}`),this}gte(o,i){return this.url.searchParams.append(o,`gte.${i}`),this}lt(o,i){return this.url.searchParams.append(o,`lt.${i}`),this}lte(o,i){return this.url.searchParams.append(o,`lte.${i}`),this}like(o,i){return this.url.searchParams.append(o,`like.${i}`),this}likeAllOf(o,i){return this.url.searchParams.append(o,`like(all).{${i.join(",")}}`),this}likeAnyOf(o,i){return this.url.searchParams.append(o,`like(any).{${i.join(",")}}`),this}ilike(o,i){return this.url.searchParams.append(o,`ilike.${i}`),this}ilikeAllOf(o,i){return this.url.searchParams.append(o,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(o,i){return this.url.searchParams.append(o,`ilike(any).{${i.join(",")}}`),this}regexMatch(o,i){return this.url.searchParams.append(o,`match.${i}`),this}regexIMatch(o,i){return this.url.searchParams.append(o,`imatch.${i}`),this}is(o,i){return this.url.searchParams.append(o,`is.${i}`),this}isDistinct(o,i){return this.url.searchParams.append(o,`isdistinct.${i}`),this}in(o,i){const a=Array.from(new Set(i)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(o,`in.(${a})`),this}contains(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cs.{${i.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(i)}`),this}containedBy(o,i){return typeof i=="string"?this.url.searchParams.append(o,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(o,`cd.{${i.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(i)}`),this}rangeGt(o,i){return this.url.searchParams.append(o,`sr.${i}`),this}rangeGte(o,i){return this.url.searchParams.append(o,`nxl.${i}`),this}rangeLt(o,i){return this.url.searchParams.append(o,`sl.${i}`),this}rangeLte(o,i){return this.url.searchParams.append(o,`nxr.${i}`),this}rangeAdjacent(o,i){return this.url.searchParams.append(o,`adj.${i}`),this}overlaps(o,i){return typeof i=="string"?this.url.searchParams.append(o,`ov.${i}`):this.url.searchParams.append(o,`ov.{${i.join(",")}}`),this}textSearch(o,i,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(o,`${c}fts${u}.${i}`),this}match(o){return Object.entries(o).forEach(([i,a])=>{this.url.searchParams.append(i,`eq.${a}`)}),this}not(o,i,a){return this.url.searchParams.append(o,`not.${i}.${a}`),this}or(o,{foreignTable:i,referencedTable:a=i}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${o})`),this}filter(o,i,a){return this.url.searchParams.append(o,`${i}.${a}`),this}}return tl.default=n,tl}var Zg;function Ex(){if(Zg)return el;Zg=1,Object.defineProperty(el,"__esModule",{value:!0});const t=si.__importDefault(bp());class r{constructor(s,{headers:o={},schema:i,fetch:a}){this.url=s,this.headers=new Headers(o),this.schema=i,this.fetch=a}select(s,o){const{head:i=!1,count:a}=o??{},l=i?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:i=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(h.length>0){const p=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:o}={}){var i;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var o;const i="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return el.default=r,el}var ev;function BN(){if(ev)return Za;ev=1,Object.defineProperty(Za,"__esModule",{value:!0});const e=si,t=e.__importDefault(Ex()),r=e.__importDefault(bp());class n{constructor(o,{headers:i={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(i),this.schemaName=a,this.fetch=l}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const i=new URL(`${this.url}/${o}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,i={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const p=new URL(`${this.url}/rpc/${o}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(i).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{p.searchParams.append(m,y)})):(h="POST",f=i);const x=new Headers(this.headers);return c&&x.set("Prefer",`count=${c}`),new r.default({method:h,url:p,headers:x,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Za.default=n,Za}Object.defineProperty(ut,"__esModule",{value:!0});var Cx=ut.PostgrestError=Dx=ut.PostgrestBuilder=Ax=ut.PostgrestTransformBuilder=Nx=ut.PostgrestFilterBuilder=Rx=ut.PostgrestQueryBuilder=Tx=ut.PostgrestClient=void 0;const oi=si,kx=oi.__importDefault(BN());var Tx=ut.PostgrestClient=kx.default;const Px=oi.__importDefault(Ex());var Rx=ut.PostgrestQueryBuilder=Px.default;const jx=oi.__importDefault(bp());var Nx=ut.PostgrestFilterBuilder=jx.default;const Ox=oi.__importDefault(Sx());var Ax=ut.PostgrestTransformBuilder=Ox.default;const Ix=oi.__importDefault(_x());var Dx=ut.PostgrestBuilder=Ix.default;const Lx=oi.__importDefault(xx());Cx=ut.PostgrestError=Lx.default;var $x=ut.default={PostgrestClient:kx.default,PostgrestQueryBuilder:Px.default,PostgrestFilterBuilder:jx.default,PostgrestTransformBuilder:Ox.default,PostgrestBuilder:Ix.default,PostgrestError:Lx.default};const zN=Bv({__proto__:null,get PostgrestBuilder(){return Dx},get PostgrestClient(){return Tx},get PostgrestError(){return Cx},get PostgrestFilterBuilder(){return Nx},get PostgrestQueryBuilder(){return Rx},get PostgrestTransformBuilder(){return Ax},default:$x},[ut]),{PostgrestClient:VN,PostgrestQueryBuilder:XD,PostgrestFilterBuilder:ZD,PostgrestTransformBuilder:eL,PostgrestBuilder:tL,PostgrestError:rL}=$x||zN;class WN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const HN="2.86.0",qN=`realtime-js/${HN}`,Mx="1.0.0",KN="2.0.0",tv=Mx,jh=1e4,GN=1e3,QN=100;var is;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(is||(is={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var lr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lr||(lr={}));var Nh;(function(e){e.websocket="websocket"})(Nh||(Nh={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class JN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+i.length+c.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let x=new DataView(f),m=0;x.setUint8(m++,this.KINDS.userBroadcastPush),x.setUint8(m++,l.length),x.setUint8(m++,a.length),x.setUint8(m++,i.length),x.setUint8(m++,c.length),x.setUint8(m++,h.length),x.setUint8(m++,r),Array.from(l,w=>x.setUint8(m++,w.charCodeAt(0))),Array.from(a,w=>x.setUint8(m++,w.charCodeAt(0))),Array.from(i,w=>x.setUint8(m++,w.charCodeAt(0))),Array.from(c,w=>x.setUint8(m++,w.charCodeAt(0))),Array.from(h,w=>x.setUint8(m++,w.charCodeAt(0)));var y=new Uint8Array(f.byteLength+n.byteLength);return y.set(new Uint8Array(f),0),y.set(new Uint8Array(n),f.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,a,l]=n;return r({join_ref:s,ref:o,topic:i,event:a,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+s));l=l+s;const u=n.decode(t.slice(l,l+o));l=l+o;const h=n.decode(t.slice(l,l+i));l=l+i;const p=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,x={type:this.BROADCAST_EVENT,event:u,payload:f};return i>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Fx{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(we||(we={}));const rv=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=YN(i,e,t,s),o),{}):{}},YN=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Ux(o,i):Oh(i)},Ux=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return tO(t,r)}switch(e){case we.bool:return XN(t);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return ZN(t);case we.json:case we.jsonb:return eO(t);case we.timestamp:return rO(t);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return Oh(t);default:return Oh(t)}},Oh=e=>e,XN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},tO=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Ux(t,a))}return e},rO=e=>typeof e=="string"?e.replace(" ","T"):e,Bx=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Wu{constructor(t,r,n={},s=jh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nv||(nv={}));class Mi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mi.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Mi.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Mi.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},l={};return this.map(o,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const h=o[c];if(h){const p=u.map(y=>y.presence_ref),f=h.map(y=>y.presence_ref),x=u.filter(y=>f.indexOf(y.presence_ref)<0),m=h.filter(y=>p.indexOf(y.presence_ref)<0);x.length>0&&(a[c]=x),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(f=>f.presence_ref),p=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...p)}n(a,u,l)}),this.map(i,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sv||(sv={}));var Fi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fi||(Fi={}));var Dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class xp{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wu(this,lr.join,this.params,this.timeout),this.rejoinTimer=new Fx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Mi(this),this.broadcastEndpointURL=Bx(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Fi.PRESENCE]&&this.bindings[Fi.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},p={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Dr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Dr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var x;if(this.socket.setAuth(),f===void 0){t==null||t(Dr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,w=[];for(let g=0;g<y;g++){const b=m[g],{filter:{event:_,schema:S,table:C,filter:k}}=b,T=f&&f[g];if(T&&T.event===_&&T.schema===S&&T.table===C&&T.filter===k)w.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=Ue.errored,t==null||t(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Dr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ue.errored,t==null||t(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ue.joined&&t===Fi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Wu(this,lr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Wu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QN){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=lr;if(n&&[a,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var x,m,y;return((x=f.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(f=>f.callback(p,n)):(o=this.bindings[i])===null||o===void 0||o.filter(f=>{var x,m,y,w,g,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in f){const _=f.id,S=(x=f.filter)===null||x===void 0?void 0:x.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(g=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===i}).map(f=>{if(typeof p=="object"&&"ids"in p){const x=p.data,{schema:m,table:y,commit_timestamp:w,type:g,errors:b}=x;p=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:w,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(x))}f.callback(p,n)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&xp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lr.close,{},t)}_onError(t){this._on(lr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=rv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=rv(t.columns,t.old_record)),r}}const Hu=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nO=[1e3,2e3,5e3,1e4],sO=1e4,oO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iO{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jh,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hu,this.ref=0,this.reconnectTimer=null,this.vsn=tv,this.logger=Hu,this.conn=null,this.sendBuffer=[],this.serializer=new JN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Nh.websocket}`,this.httpEndpoint=Bx(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case is.connecting:return as.Connecting;case is.open:return as.Open;case is.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new xp(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(GN,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===is.open||this.conn.readyState===is.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(lr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oO],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:qN};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(lr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Fx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,a,l,c,u,h,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:jh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ol.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Hu,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:tv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:x=>nO[x-1]||sO,this.vsn){case Mx:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(x,m)=>m(JSON.stringify(x)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(x,m)=>m(JSON.parse(x));break;case KN:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Kc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aO extends Kc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ah extends Kc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const _p=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lO=()=>Response,Ih=e=>{if(Array.isArray(e))return e.map(r=>Ih(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Ih(n)}),t},cO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uO=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),qu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},dO=(e,t,r)=>z(void 0,void 0,void 0,function*(){const n=yield lO();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new aO(qu(s),o,i))}).catch(s=>{t(new Ah(qu(s),s))}):t(new Ah(qu(e),e))}),hO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(cO(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ta(e,t,r,n,s,o){return z(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,hO(t,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>dO(l,a,n))})})}function ca(e,t,r,n){return z(this,void 0,void 0,function*(){return Ta(e,"GET",t,r,n)})}function sr(e,t,r,n,s){return z(this,void 0,void 0,function*(){return Ta(e,"POST",t,n,s,r)})}function Dh(e,t,r,n,s){return z(this,void 0,void 0,function*(){return Ta(e,"PUT",t,n,s,r)})}function fO(e,t,r,n){return z(this,void 0,void 0,function*(){return Ta(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Sp(e,t,r,n,s){return z(this,void 0,void 0,function*(){return Ta(e,"DELETE",t,n,s,r)})}class pO{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}var zx;class mO{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[zx]="BlobDownloadBuilder",this.promise=null}asStream(){return new pO(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Pe(t))return{data:null,error:t};throw t}})}}zx=Symbol.toStringTag;const gO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ov={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vO{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=_p(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return z(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},ov),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(t=="PUT"?Dh:sr)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}upload(t,r,n){return z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return z(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:ov.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Dh(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return z(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield sr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Kc("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}update(t,r,n){return z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return z(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return z(this,void 0,void 0,function*(){try{return{data:{path:(yield sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return z(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield sr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return z(this,void 0,void 0,function*(){try{const s=yield sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>ca(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new mO(l,this.shouldThrowOnError)}info(t){return z(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ca(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ih(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}exists(t){return z(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield fO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n)&&n instanceof Ah){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return z(this,void 0,void 0,function*(){try{return{data:yield Sp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}list(t,r,n){return z(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gO),r),{prefix:t||""});return{data:yield sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}listV2(t,r){return z(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Vx="2.86.0",Wx={"X-Client-Info":`storage-js/${Vx}`};class yO{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wx),r),this.fetch=_p(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return z(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield ca(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}getBucket(t){return z(this,void 0,void 0,function*(){try{return{data:yield ca(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}createBucket(t){return z(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pe(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return z(this,void 0,void 0,function*(){try{return{data:yield Dh(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return z(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return z(this,void 0,void 0,function*(){try{return{data:yield Sp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ua=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wO(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function bO(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function xO(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const a=wO(e.baseUrl,n,s),l=await bO(e.auth),c=await t(a,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...l,...i},body:o?JSON.stringify(o):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),p=h&&u?JSON.parse(u):u;if(!c.ok){const f=h?p:void 0,x=f==null?void 0:f.error;throw new ua((x==null?void 0:x.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:f})}return{status:c.status,headers:c.headers,data:p}}}}function il(e){return e.join("")}var _O=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:il(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${il(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${il(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${il(e.namespace)}`}),!0}catch(t){if(t instanceof ua&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ua&&r.status===409)return;throw r}}};function Ks(e){return e.join("")}var SO=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ks(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ks(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ks(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ks(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ks(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ks(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ua&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ua&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},EO=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=xO({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new _O(this.client,t),this.tableOps=new SO(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class CO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wx),r),this.fetch=_p(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return z(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBuckets(t){return z(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ca(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return z(this,void 0,void 0,function*(){try{return{data:yield Sp(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}from(t){if(!uO(t))throw new Kc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new EO({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>z(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Ep={"X-Client-Info":`storage-js/${Vx}`,"Content-Type":"application/json"};class Hx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Pt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ku extends Hx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kO extends Hx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var iv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(iv||(iv={}));const Cp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),TO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},av=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PO=(e,t,r)=>z(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new Ku(av(i),s,a))}).catch(()=>{const i=s+"",a=o.statusText||`HTTP ${s} error`;t(new Ku(a,s,i))});else{const i=s+"",a=o.statusText||`HTTP ${s} error`;t(new Ku(a,s,i))}}else t(new kO(av(e),e))}),RO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(TO(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function jO(e,t,r,n,s,o){return z(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,RO(t,n,s,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>PO(l,a,n))})})}function Rt(e,t,r,n,s){return z(this,void 0,void 0,function*(){return jO(e,"POST",t,n,s,r)})}class NO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ep),r),this.fetch=Cp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return z(this,void 0,void 0,function*(){try{return{data:(yield Rt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}getIndex(t,r){return z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}listIndexes(t){return z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return z(this,void 0,void 0,function*(){try{return{data:(yield Rt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pt(n))return{data:null,error:n};throw n}})}}class OO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ep),r),this.fetch=Cp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return z(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Rt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}getVectors(t){return z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}listVectors(t){return z(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Rt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}queryVectors(t){return z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}deleteVectors(t){return z(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Rt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}}class AO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ep),r),this.fetch=Cp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return z(this,void 0,void 0,function*(){try{return{data:(yield Rt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}getBucket(t){return z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}listBuckets(){return z(this,arguments,void 0,function*(t={}){try{return{data:yield Rt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return z(this,void 0,void 0,function*(){try{return{data:(yield Rt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pt(r))return{data:null,error:r};throw r}})}}class IO extends AO{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new DO(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return z(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return z(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return z(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return z(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class DO extends NO{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return z(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return z(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return z(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return z(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new LO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class LO extends OO{constructor(t,r,n,s,o){super(t,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return z(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return z(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return z(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return z(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return z(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class $O extends yO{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new vO(this.url,this.headers,t,this.fetch)}get vectors(){return new IO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new CO(this.url+"/iceberg",this.headers,this.fetch)}}const MO="2.86.0";let Ci="";typeof Deno<"u"?Ci="deno":typeof document<"u"?Ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ci="react-native":Ci="node";const FO={"X-Client-Info":`supabase-js-${Ci}/${MO}`},UO={headers:FO},BO={schema:"public"},zO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VO={},WO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),HO=()=>Headers,qO=(e,t,r)=>{const n=WO(r),s=HO();return async(o,i)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:c}))}};function KO(e){return e.endsWith("/")?e:e+"/"}function GO(e,t){var r,n;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:c,realtime:u,global:h}=t,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function QO(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(KO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const qx="2.86.0",ro=30*1e3,Lh=3,Gu=Lh*ro,JO="http://localhost:9999",YO="supabase.auth.token",XO={"X-Client-Info":`gotrue-js/${qx}`},$h="X-Supabase-Api-Version",Kx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eA=10*60*1e3;class da extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tA extends da{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rA(e){return V(e)&&e.name==="AuthApiError"}class ls extends da{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gn extends da{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ct extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nA(e){return V(e)&&e.name==="AuthSessionMissingError"}class Gs extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class al extends Gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ll extends Gn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sA(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class lv extends Gn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mh extends Gn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qu(e){return V(e)&&e.name==="AuthRetryableFetchError"}class cv extends Gn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fh extends Gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uv=` 	
\r=`.split(""),oA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uv.length;t+=1)e[uv[t].charCodeAt(0)]=-2;for(let t=0;t<dc.length;t+=1)e[dc[t].charCodeAt(0)]=t;return e})();function dv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dc[n]),t.queuedBits-=6}}function Gx(e,t,r){const n=oA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{lA(i,n,r)};for(let i=0;i<e.length;i+=1)Gx(e.charCodeAt(i),s,o);return t.join("")}function iA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aA(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}iA(n,t)}}function lA(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Co(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Gx(e.charCodeAt(s),r,n);return new Uint8Array(t)}function cA(e){const t=[];return aA(e,r=>t.push(r)),new Uint8Array(t)}function hs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>dv(s,r,n)),dv(null,r,n),t.join("")}function uA(e){return Math.round(Date.now()/1e3)+e}function dA(){return Symbol("auth-callback")}const Qe=()=>typeof window<"u"&&typeof document<"u",ts={tested:!1,writable:!1},Qx=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ts.tested)return ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ts.tested=!0,ts.writable=!0}catch{ts.tested=!0,ts.writable=!1}return ts.writable};function hA(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Jx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),fA=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",no=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nn=async(e,t)=>{await e.removeItem(t)};class Gc{constructor(){this.promise=new Gc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gc.promiseConstructor=Promise;function Ju(e){const t=e.split(".");if(t.length!==3)throw new Fh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ZO.test(t[n]))throw new Fh("JWT not in base64url format");return{header:JSON.parse(hv(t[0])),payload:JSON.parse(hv(t[1])),signature:Co(t[2]),raw:{header:t[0],payload:t[1]}}}async function pA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mA(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function gA(e){return("0"+e.toString(16)).substr(-2)}function vA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,gA).join("")}async function yA(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function wA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yA(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qs(e,t,r=!1){const n=vA();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await no(e,`${t}-code-verifier`,s);const o=await wA(n);return[o,n===o?"plain":"s256"]}const bA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xA(e){const t=e.headers.get($h);if(!t||!t.match(bA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _A(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function SA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Js(e){if(!EA.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function CA(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function fv(e){return JSON.parse(JSON.stringify(e))}const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kA=[502,503,504];async function pv(e){var t;if(!fA(e))throw new Mh(os(e),0);if(kA.includes(e.status))throw new Mh(os(e),e.status);let r;try{r=await e.json()}catch(o){throw new ls(os(o),o)}let n;const s=xA(e);if(s&&s.getTime()>=Kx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cv(os(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ct}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new cv(os(r),e.status,r.weak_password.reasons);throw new tA(os(r),e.status||500,n)}const TA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Q(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[$h]||(o[$h]=Kx["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await PA(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function PA(e,t,r,n,s,o){const i=TA(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Mh(os(l),0)}if(a.ok||await pv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await pv(l)}}function tr(e){var t;let r=null;NA(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=uA(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function mv(e){const t=tr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function dn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function RA(e){return{data:e,error:null}}function jA(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=Kn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function gv(e){return e}function NA(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xu=["global","local","others"];class OA{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Jx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Xu[0]){if(Xu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xu.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:dn})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Kn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(V(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:dn})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:gv});if(u.error)throw u.error;const h=await u.json(),p=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Js(t);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:dn})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Js(t);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:dn})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Js(t);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:dn})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Js(t.userId);try{const{data:r,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Js(t.userId),Js(t.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:gv});if(u.error)throw u.error;const h=await u.json(),p=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(V(r))return{data:null,error:r};throw r}}}function vv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ys={debug:!!(globalThis&&Qx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AA extends Yx{}async function IA(e,t,r){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ys.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function DA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function LA(e){return parseInt(e,16)}function $A(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function MA(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Xx(e.address),x=u?`${u}://${n}`:n,m=e.statement?`${e.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${f}

${m}`;let w=`URI: ${h}
Version: ${p}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(w+=`
Expiration Time: ${s.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let g=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}w+=g}return`${y}
${w}`}class $e extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class hc extends $e{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function FA({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new $e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new $e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new $e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new $e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new $e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new $e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new $e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new $e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Zx(i)){if(o.rp.id!==i)return new $e({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new $e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function UA({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new $e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new $e({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Zx(n)){if(r.rpId!==n)return new $e({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class BA{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zA=new BA;function VA(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Kn(e,["challenge","user","excludeCredentials"]),o=Co(t).buffer,i=Object.assign(Object.assign({},r),{id:Co(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Co(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function WA(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Kn(e,["challenge","allowCredentials"]),s=Co(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const a=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:Co(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function HA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:hs(new Uint8Array(e.response.attestationObject)),clientDataJSON:hs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function qA(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hs(new Uint8Array(s.authenticatorData)),clientDataJSON:hs(new Uint8Array(s.clientDataJSON)),signature:hs(new Uint8Array(s.signature)),userHandle:s.userHandle?hs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Zx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yv(){var e,t;return!!(Qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function KA(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hc("Browser returned unexpected credential type",t)}:{data:null,error:new hc("Empty credential response",t)}}catch(t){return{data:null,error:FA({error:t,options:e})}}}async function GA(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hc("Browser returned unexpected credential type",t)}:{data:null,error:new hc("Empty credential response",t)}}catch(t){return{data:null,error:UA({error:t,options:e})}}}const QA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},JA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const a=n[o];t(a)?n[o]=fc(a,i):n[o]=fc(i)}else n[o]=i}return n}function YA(e,t){return fc(QA,e,t||{})}function XA(e,t){return fc(JA,e,t||{})}class ZA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:a};const l=s??zA.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=YA(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:u,error:h}=await KA({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=XA(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:u,error:h}=await GA(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(i){return V(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new da("rpId is required for WebAuthn authentication")};try{if(!yv())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return V(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new da("rpId is required for WebAuthn registration")};try{if(!yv())return{data:null,error:new ls("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return V(i)?{data:null,error:i}:{data:null,error:new ls("Unexpected error in register",i)}}}}DA();const eI={url:JO,storageKey:YO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function wv(e,t,r){return await r()}const Xs={};class ha{get jwks(){var t,r;return(r=(t=Xs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xs[this.storageKey]=Object.assign(Object.assign({},Xs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},eI),t);if(this.storageKey=o.storageKey,this.instanceID=(r=ha.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ha.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Qe()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new OA({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Jx(o.fetch),this.lock=o.lock||wv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:Qe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=IA:this.lock=wv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ZA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Qx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=vv(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qx}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Qe()&&(r=hA(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),sA(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return V(r)?this._returnResult({error:r}):this._returnResult({error:new ls("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:tr}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(V(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:u,password:h,options:p}=t;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await Qs(this.storage,this.storageKey)),o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:x},xform:tr})}else if("phone"in t){const{phone:u,password:h,options:p}=t;o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:tr})}else throw new al("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(o){if(V(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mv})}else throw new al("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Gs;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,a,l,c,u,h,p;let f,x;if("message"in t)f=t.message,x=t.signature;else{const{chain:m,wallet:y,statement:w,options:g}=t;let b;if(Qe())if(typeof y=="object")b=y;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")b=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),S=await b.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Xx(S[0]);let k=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const R=await b.request({method:"eth_chainId"});k=LA(R)}const T={domain:_.host,address:C,statement:w,uri:_.href,version:"1",chainId:k,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=MA(T),x=await b.request({method:"personal_sign",params:[$A(f),C]})}try{const{data:m,error:y}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:tr});if(y)throw y;if(!m||!m.session||!m.user){const w=new Gs;return this._returnResult({data:{user:null,session:null},error:w})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(V(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,s,o,i,a,l,c,u,h,p,f;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:y,wallet:w,statement:g,options:b}=t;let _;if(Qe())if(typeof w=="object")_=w;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)x=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(u=b==null?void 0:b.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(x),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:y,error:w}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:hs(m)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:tr});if(w)throw w;if(!y||!y.session||!y.user){const g=new Gs;return this._returnResult({data:{user:null,session:null},error:g})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(V(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await rs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:tr});if(await nn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new Gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(V(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:tr}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Gs;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Qs(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new al("You must provide either an email or phone number.")}catch(a){if(V(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:tr});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(V(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Qs(this.storage,this.storageKey));const c=await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:RA});return!((o=c.data)===null||o===void 0)&&o.url&&Qe()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(V(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ct;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(V(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new al("You must provide either an email or phone number and a type")}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Gu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await rs(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Yu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=CA(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:dn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:dn})})}catch(r){if(V(r))return nA(r)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Ct;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Qs(this.storage,this.storageKey));const{data:c,error:u}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:dn});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(V(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ct;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Ju(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(V(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ct;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(V(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Qe())throw new ll("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ll(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ll("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lv("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!i||!c)throw new ll("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let p=u+h;l&&(p=parseInt(l));const f=p-u;f*1e3<=ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const x=p-h;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,p,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,p,u);const{data:m,error:y}=await this._getUser(o);if(y)throw y;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:p,refresh_token:i,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:t.type},error:null})}catch(n){if(V(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(rA(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=dA(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Qs(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(V(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,l,c,u;const{data:h,error:p}=o;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Qe()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(V(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:a,token:l,access_token:c,nonce:u}=t,h=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:tr}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Gs}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(V(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mA(async s=>(s>0&&await pA(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:tr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Qu(o)&&Date.now()+i-n<ro})}catch(n){if(this._debug(r,"error",n),V(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await rs(this.storage,this.storageKey);if(s&&this.userStorage){let i=await rs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await no(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Yu()}else if(s&&!s.user&&!s.user){const i=await rs(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await nn(this.storage,this.storageKey+"-user"),await no(this.storage,this.storageKey,s)):s.user=Yu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Gu;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Gu}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Qu(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Ct;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),V(o)){const i={data:null,error:o};return Qu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await no(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=fv(s);await no(this.storage,this.storageKey,o)}else{const s=fv(r);await no(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ro);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ro}ms, refresh threshold is ${Lh} ticks`),s<=Lh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Qs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?HA(t.webauthn.credential_response):qA(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:VA(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:WA(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ju(n.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Q(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ct});const i=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Qe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ct});const i=await Q(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&Qe()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(t){if(V(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(r){if(V(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+eA>s)return n;const{data:o,error:i}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:x}=await this.getSession();if(x||!f.session)return this._returnResult({data:null,error:x});n=f.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=Ju(n);r!=null&&r.allowExpired||_A(o.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:o,header:s,signature:i},error:null}}const u=SA(s.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,cA(`${a}.${l}`)))throw new Fh("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(V(n))return this._returnResult({data:null,error:n});throw n}}}ha.nextInstanceID={};const tI=ha;class rI extends tI{constructor(t){super(t)}}class nI{constructor(t,r,n){var s,o,i;this.supabaseUrl=t,this.supabaseKey=r;const a=QO(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:BO,realtime:VO,auth:Object.assign(Object.assign({},zO),{storageKey:l}),global:UO},u=GO(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=qO(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new VN(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new $O(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new UN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},h,p){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rI({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),h),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new iO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sI=(e,t,r)=>new nI(e,t,r);function oI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}oI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iI="https://nyepvlqlqkplnoifkkpz.supabase.co",aI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55ZXB2bHFscWtwbG5vaWZra3B6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MjYwNzYsImV4cCI6MjA4MDAwMjA3Nn0.zM6M3_3gLQ6E4JB7R67f_22zsuGAhxvegUZJk1IQpLo",oe=sI(iI,aI,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),lI=()=>{const[e,t]=v.useState(""),r=$t(),{data:n}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:i,error:a}=await oe.from("restaurant_settings").select("*").single();if(a)throw a;return i}}),s=()=>{e.trim()&&r(`/menu?table=${encodeURIComponent(e.trim())}`)},o=()=>{r("/admin/login")};return d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:d.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx($0,{className:"w-20 h-20 mx-auto text-foreground"}),d.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:(n==null?void 0:n.name)||"Mon Restaurant"}),d.jsx("p",{className:"text-lg text-muted-foreground",children:"Bienvenue ! Commandez facilement depuis votre table"})]}),d.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-elegant space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"table",className:"text-sm font-medium",children:"Numro de table"}),d.jsx(ft,{id:"table",type:"text",placeholder:"Ex: 12, VIP1, Terrasse...",value:e,onChange:i=>t(i.target.value),onKeyPress:i=>i.key==="Enter"&&s(),className:"h-14 text-lg bg-input border-border text-foreground"})]}),d.jsx(Z,{onClick:s,disabled:!e.trim(),className:"w-full h-14 text-lg font-semibold bg-primary hover:bg-primary/90 text-primary-foreground",children:"Continuer"}),d.jsx("div",{className:"pt-4 border-t border-border",children:d.jsx(Z,{onClick:o,variant:"outline",className:"w-full border-border text-foreground hover:bg-muted",children:"Systme (Administration)"})})]})]})})},cI=$c("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ii({className:e,variant:t,...r}){return d.jsx("div",{className:ie(cI({variant:t}),e),...r})}const Xe=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Xe.displayName="Card";const Uh=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ie("flex flex-col space-y-1.5 p-6",e),...t}));Uh.displayName="CardHeader";const Bh=v.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));Bh.displayName="CardTitle";const uI=v.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));uI.displayName="CardDescription";const zh=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ie("p-6 pt-0",e),...t}));zh.displayName="CardContent";const dI=v.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:ie("flex items-center p-6 pt-0",e),...t}));dI.displayName="CardFooter";const hI=({dish:e,onAddToCart:t})=>d.jsxs(Xe,{className:"overflow-hidden bg-card border-border shadow-card hover-scale",children:[e.image_url&&d.jsx("div",{className:"aspect-video w-full overflow-hidden",children:d.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsx("h3",{className:"font-semibold text-lg leading-tight",children:e.name}),!e.is_available&&d.jsx(ii,{variant:"destructive",className:"shrink-0",children:"Rupture"})]}),e.description&&d.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),d.jsxs("div",{className:"flex items-center justify-between pt-2",children:[d.jsxs("span",{className:"text-xl font-bold",children:[e.price.toFixed(2)," ",e.currency]}),d.jsx(Z,{onClick:t,disabled:!e.is_available,size:"icon",className:"bg-primary hover:bg-primary/90 text-primary-foreground h-10 w-10",children:d.jsx(Mc,{className:"h-5 w-5"})})]})]})]});var fI=v.createContext(void 0);function Qc(e){const t=v.useContext(fI);return e||t||"ltr"}function Vh(e,[t,r]){return Math.min(r,Math.max(t,e))}function pI(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var kp="ScrollArea",[e_,nL]=Pr(kp),[mI,Qt]=e_(kp),t_=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=v.useState(null),[c,u]=v.useState(null),[h,p]=v.useState(null),[f,x]=v.useState(null),[m,y]=v.useState(null),[w,g]=v.useState(0),[b,_]=v.useState(0),[S,C]=v.useState(!1),[k,T]=v.useState(!1),R=ue(t,L=>l(L)),j=Qc(s);return d.jsx(mI,{scope:r,type:n,dir:j,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:x,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:T,onCornerWidthChange:g,onCornerHeightChange:_,children:d.jsx(X.div,{dir:j,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});t_.displayName=kp;var r_="ScrollAreaViewport",n_=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=e,i=Qt(r_,r),a=v.useRef(null),l=ue(t,a,i.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(X.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});n_.displayName=r_;var Nr="ScrollAreaScrollbar",Tp=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Qt(Nr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return v.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?d.jsx(gI,{...n,ref:t,forceMount:r}):s.type==="scroll"?d.jsx(vI,{...n,ref:t,forceMount:r}):s.type==="auto"?d.jsx(s_,{...n,ref:t,forceMount:r}):s.type==="always"?d.jsx(Pp,{...n,ref:t}):null});Tp.displayName=Nr;var gI=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Qt(Nr,e.__scopeScrollArea),[o,i]=v.useState(!1);return v.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(mr,{present:r||o,children:d.jsx(s_,{"data-state":o?"visible":"hidden",...n,ref:t})})}),vI=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Qt(Nr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Yc(()=>l("SCROLL_END"),100),[a,l]=pI("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),v.useEffect(()=>{const c=s.viewport,u=o?"scrollLeft":"scrollTop";if(c){let h=c[u];const p=()=>{const f=c[u];h!==f&&(l("SCROLL"),i()),h=f};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,o,l,i]),d.jsx(mr,{present:r||a!=="hidden",children:d.jsx(Pp,{"data-state":a==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:W(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:W(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),s_=v.forwardRef((e,t)=>{const r=Qt(Nr,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=v.useState(!1),a=e.orientation==="horizontal",l=Yc(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(a?c:u)}},10);return Jo(r.viewport,l),Jo(r.content,l),d.jsx(mr,{present:n||o,children:d.jsx(Pp,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Pp=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Qt(Nr,e.__scopeScrollArea),o=v.useRef(null),i=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=c_(a.viewport,a.content),u={...n,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,f){return SI(p,i.current,a,f)}return r==="horizontal"?d.jsx(yI,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,f=bv(p,a,s.dir);o.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?d.jsx(wI,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,f=bv(p,a);o.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),yI=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Qt(Nr,e.__scopeScrollArea),[i,a]=v.useState(),l=v.useRef(null),c=ue(t,l,o.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(i_,{"data-orientation":"horizontal",...s,ref:c,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Jc(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(p),d_(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:mc(i.paddingLeft),paddingEnd:mc(i.paddingRight)}})}})}),wI=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Qt(Nr,e.__scopeScrollArea),[i,a]=v.useState(),l=v.useRef(null),c=ue(t,l,o.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),d.jsx(i_,{"data-orientation":"vertical",...s,ref:c,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Jc(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(o.viewport){const p=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(p),d_(p,h)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:mc(i.paddingTop),paddingEnd:mc(i.paddingBottom)}})}})}),[bI,o_]=e_(Nr),i_=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:h,...p}=e,f=Qt(Nr,r),[x,m]=v.useState(null),y=ue(t,R=>m(R)),w=v.useRef(null),g=v.useRef(""),b=f.viewport,_=n.content-n.viewport,S=Ve(u),C=Ve(l),k=Yc(h,10);function T(R){if(w.current){const j=R.clientX-w.current.left,L=R.clientY-w.current.top;c({x:j,y:L})}}return v.useEffect(()=>{const R=j=>{const L=j.target;(x==null?void 0:x.contains(L))&&S(j,_)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[b,x,_,S]),v.useEffect(C,[n,C]),Jo(x,k),Jo(f.content,k),d.jsx(bI,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:Ve(o),onThumbPointerUp:Ve(i),onThumbPositionChange:C,onThumbPointerDown:Ve(a),children:d.jsx(X.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:W(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),w.current=x.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(R))}),onPointerMove:W(e.onPointerMove,T),onPointerUp:W(e.onPointerUp,R=>{const j=R.target;j.hasPointerCapture(R.pointerId)&&j.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=g.current,f.viewport&&(f.viewport.style.scrollBehavior=""),w.current=null})})})}),pc="ScrollAreaThumb",a_=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=o_(pc,e.__scopeScrollArea);return d.jsx(mr,{present:r||s.hasThumb,children:d.jsx(xI,{ref:t,...n})})}),xI=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=Qt(pc,r),i=o_(pc,r),{onThumbPositionChange:a}=i,l=ue(t,h=>i.onThumbChange(h)),c=v.useRef(void 0),u=Yc(()=>{c.current&&(c.current(),c.current=void 0)},100);return v.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(u(),!c.current){const f=EI(h,a);c.current=f,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,u,a]),d.jsx(X.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:W(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),x=h.clientX-f.left,m=h.clientY-f.top;i.onThumbPointerDown({x,y:m})}),onPointerUp:W(e.onPointerUp,i.onThumbPointerUp)})});a_.displayName=pc;var Rp="ScrollAreaCorner",l_=v.forwardRef((e,t)=>{const r=Qt(Rp,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(_I,{...e,ref:t}):null});l_.displayName=Rp;var _I=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Qt(Rp,r),[o,i]=v.useState(0),[a,l]=v.useState(0),c=!!(o&&a);return Jo(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),l(u)}),Jo(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),i(u)}),c?d.jsx(X.div,{...n,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function mc(e){return e?parseInt(e,10):0}function c_(e,t){const r=e/t;return isNaN(r)?0:r}function Jc(e){const t=c_(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function SI(e,t,r,n="ltr"){const s=Jc(r),o=s/2,i=t||o,a=s-i,l=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-a,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return u_([l,c],h)(e)}function bv(e,t,r="ltr"){const n=Jc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-n,l=r==="ltr"?[0,i]:[i*-1,0],c=Vh(e,l);return u_([0,i],[0,a])(c)}function u_(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function d_(e,t){return e>0&&e<t}var EI=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,a=r.top!==o.top;(i||a)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Yc(e,t){const r=Ve(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Jo(e,t){const r=Ve(t);Ge(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var h_=t_,CI=n_,kI=l_;const f_=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(h_,{ref:n,className:ie("relative overflow-hidden",e),...r,children:[d.jsx(CI,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(jp,{}),d.jsx(kI,{})]}));f_.displayName=h_.displayName;const jp=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>d.jsx(Tp,{ref:n,orientation:t,className:ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:d.jsx(a_,{className:"relative flex-1 rounded-full bg-border"})}));jp.displayName=Tp.displayName;const TI=({categories:e,selectedCategory:t,onSelectCategory:r})=>d.jsxs(f_,{className:"w-full",children:[d.jsxs("div",{className:"flex gap-2 p-4",children:[d.jsx(Z,{variant:t===null?"default":"outline",onClick:()=>r(null),className:t===null?"bg-primary text-primary-foreground":"border-border text-foreground hover:bg-muted",children:"Tout"}),e.map(n=>d.jsx(Z,{variant:t===n.id?"default":"outline",onClick:()=>r(n.id),className:t===n.id?"bg-primary text-primary-foreground":"border-border text-foreground hover:bg-muted",children:n.name},n.id))]}),d.jsx(jp,{orientation:"horizontal"})]}),PI=()=>{const[e]=gp(),t=$t(),r=e.get("table"),[n,s]=v.useState(null),[o,i]=v.useState([]);v.useEffect(()=>{r||t("/")},[r,t]);const{data:a}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:m,error:y}=await oe.from("restaurant_settings").select("*").single();if(y)throw y;return m}}),{data:l}=He({queryKey:["categories"],queryFn:async()=>{const{data:m,error:y}=await oe.from("categories").select("*").order("display_order");if(y)throw y;return m}}),{data:c}=He({queryKey:["dishes",n],queryFn:async()=>{let m=oe.from("dishes").select("*, categories(name)");n&&(m=m.eq("category_id",n));const{data:y,error:w}=await m;if(w)throw w;return y}}),u=(m,y,w,g)=>{i(b=>b.find(S=>S.dishId===m)?b.map(S=>S.dishId===m?{...S,quantity:S.quantity+1}:S):[...b,{dishId:m,name:y,price:w,price_eur:g,quantity:1}]),fe.success(`${y} ajout au panier`)},h=o.reduce((m,y)=>m+y.price*y.quantity,0),p=o.reduce((m,y)=>m+y.quantity,0),f=m=>{if(!a)return m;switch(a.currency){case"DJF":return m*a.eur_to_djf;case"USD":return m*a.eur_to_usd;default:return m}},x=()=>{if(!a)return"";switch(a.currency){case"DJF":return"Fdj";case"USD":return"$";default:return""}};return d.jsxs("div",{className:"min-h-screen pb-32",children:[d.jsx("header",{className:"sticky top-0 z-10 bg-card border-b border-border shadow-card",children:d.jsx("div",{className:"container max-w-6xl mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"text-foreground",children:d.jsx(Hn,{className:"h-5 w-5"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-2xl font-bold",children:(a==null?void 0:a.name)||"Menu"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Table: ",r]})]}),d.jsx("div",{className:"w-10"})]})})}),d.jsx("div",{className:"sticky top-[73px] z-10 bg-background border-b border-border",children:d.jsx(TI,{categories:l||[],selectedCategory:n,onSelectCategory:s})}),d.jsx("div",{className:"container max-w-6xl mx-auto px-4 py-6",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c==null?void 0:c.map(m=>d.jsx(hI,{dish:{...m,price:f(m.price_eur),currency:x()},onAddToCart:()=>u(m.id,m.name,f(m.price_eur),m.price_eur)},m.id))})}),p>0&&d.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 z-20",children:d.jsx("div",{className:"container max-w-2xl mx-auto",children:d.jsxs(Z,{onClick:()=>t(`/cart?table=${encodeURIComponent(r||"")}`,{state:{cart:o}}),className:"w-full h-16 text-lg font-semibold bg-secondary hover:bg-secondary/90 text-secondary-foreground shadow-elegant relative",children:[d.jsx(Xk,{className:"mr-2 h-6 w-6"}),"Voir le panier (",p,")",d.jsxs(ii,{className:"ml-auto bg-secondary-foreground text-secondary",children:[h.toFixed(2)," ",x()]})]})})})]})},Xc=v.forwardRef(({className:e,...t},r)=>d.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Xc.displayName="Textarea";const RI=()=>{var m;const e=$t(),t=Bs(),[r]=gp(),n=r.get("table"),s=jr(),[o,i]=v.useState(((m=t.state)==null?void 0:m.cart)||[]),[a,l]=v.useState(""),{data:c}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:y,error:w}=await oe.from("restaurant_settings").select("*").single();if(w)throw w;return y}}),u=At({mutationFn:async()=>{const y=o.reduce((S,C)=>S+C.price_eur*C.quantity,0),{data:w,error:g}=await oe.from("orders").insert({table_number:n,customer_message:a.trim()||null,status:"pending",total_price:y}).select().single();if(g)throw g;const b=o.map(S=>({order_id:w.id,dish_id:S.dishId,quantity:S.quantity,notes:S.notes||null})),{error:_}=await oe.from("order_items").insert(b);if(_)throw _;return w},onSuccess:y=>{s.invalidateQueries({queryKey:["orders"]}),fe.success("Commande envoye avec succs !"),e(`/order-status/${y.id}?table=${encodeURIComponent(n||"")}`)},onError:()=>{fe.error("Erreur lors de l'envoi de la commande")}}),h=(y,w)=>{i(g=>g.map(b=>b.dishId===y?{...b,quantity:Math.max(0,b.quantity+w)}:b).filter(b=>b.quantity>0))},p=y=>{i(w=>w.filter(g=>g.dishId!==y)),fe.success("Article retir du panier")},f=o.reduce((y,w)=>y+w.price*w.quantity,0),x=()=>{if(!c)return"";switch(c.currency){case"DJF":return"Fdj";case"USD":return"$";default:return""}};return o.length===0?d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Panier vide"}),d.jsx("p",{className:"text-muted-foreground",children:"Ajoutez des plats depuis le menu"}),d.jsx(Z,{onClick:()=>e(`/menu?table=${encodeURIComponent(n||"")}`),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Retour au menu"})]})}):d.jsxs("div",{className:"min-h-screen pb-32",children:[d.jsx("header",{className:"sticky top-0 z-10 bg-card border-b border-border shadow-card",children:d.jsx("div",{className:"container max-w-2xl mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"text-foreground",children:d.jsx(Hn,{className:"h-5 w-5"})}),d.jsx("h1",{className:"text-2xl font-bold",children:"Panier"}),d.jsx("div",{className:"w-10"})]})})}),d.jsxs("div",{className:"container max-w-2xl mx-auto px-4 py-6 space-y-6",children:[d.jsx("div",{className:"space-y-4",children:o.map(y=>d.jsx("div",{className:"bg-card rounded-lg p-4 shadow-card border border-border",children:d.jsxs("div",{className:"flex items-start justify-between gap-4",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold text-lg",children:y.name}),d.jsxs("p",{className:"text-muted-foreground",children:[y.price.toFixed(2)," ",x()]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Z,{variant:"outline",size:"icon",onClick:()=>h(y.dishId,-1),className:"h-8 w-8 border-border",children:d.jsx(Gk,{className:"h-4 w-4"})}),d.jsx("span",{className:"font-semibold w-8 text-center",children:y.quantity}),d.jsx(Z,{variant:"outline",size:"icon",onClick:()=>h(y.dishId,1),className:"h-8 w-8 border-border",children:d.jsx(Mc,{className:"h-4 w-4"})}),d.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>p(y.dishId),className:"h-8 w-8 text-destructive hover:bg-destructive/10",children:d.jsx(Ea,{className:"h-4 w-4"})})]})]})},y.dishId))}),d.jsxs("div",{className:"bg-card rounded-lg p-4 shadow-card border border-border space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Message pour la cuisine (optionnel)"}),d.jsx(Xc,{placeholder:"Ex: pas de piment, sans oignon, extra sauce...",value:a,onChange:y=>l(y.target.value),className:"bg-input border-border text-foreground resize-none",rows:3})]}),d.jsx("div",{className:"bg-card rounded-lg p-6 shadow-card border border-border",children:d.jsxs("div",{className:"flex items-center justify-between text-2xl font-bold",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:[f.toFixed(2)," ",x()]})]})})]}),d.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 z-20",children:d.jsx("div",{className:"container max-w-2xl mx-auto",children:d.jsx(Z,{onClick:()=>u.mutate(),disabled:u.isPending,className:"w-full h-16 text-lg font-semibold bg-secondary hover:bg-secondary/90 text-secondary-foreground shadow-elegant",children:u.isPending?"Envoi en cours...":"Valider la commande"})})})]})},jI=()=>{var p;const{orderId:e}=iN(),[t]=gp(),r=$t();t.get("table");const n=jr(),[s,o]=v.useState(""),{data:i,isLoading:a}=He({queryKey:["order",e],queryFn:async()=>{const{data:f,error:x}=await oe.from("orders").select(`
          *,
          order_items(
            *,
            dishes(name, price_eur)
          )
        `).eq("id",e).single();if(x)throw x;return f},refetchInterval:5e3});He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:f,error:x}=await oe.from("restaurant_settings").select("*").single();if(x)throw x;return f}}),v.useEffect(()=>{const f=oe.channel(`order-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"orders",filter:`id=eq.${e}`},()=>{n.invalidateQueries({queryKey:["order",e]})}).subscribe();return()=>{oe.removeChannel(f)}},[e,n]);const l=At({mutationFn:async()=>{const{error:f}=await oe.from("orders").update({additional_message:s.trim()}).eq("id",e);if(f)throw f},onSuccess:()=>{fe.success("Message envoy  la cuisine"),o(""),n.invalidateQueries({queryKey:["order",e]})},onError:()=>{fe.error("Erreur lors de l'envoi du message")}}),c=f=>{switch(f){case"pending":return{label:"En attente",icon:tc,color:"bg-destructive text-destructive-foreground"};case"preparing":return{label:"En prparation",icon:$i,color:"bg-accent text-accent-foreground"};case"ready":return{label:"Prte",icon:nh,color:"bg-secondary text-secondary-foreground"};default:return{label:f,icon:tc,color:"bg-muted text-muted-foreground"}}};if(a)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("p",{className:"text-lg",children:"Chargement..."})});if(!i)return d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Commande introuvable"}),d.jsx(Z,{onClick:()=>r("/"),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:"Retour  l'accueil"})]})});const u=c(i.status),h=u.icon;return d.jsxs("div",{className:"min-h-screen pb-6",children:[d.jsx("header",{className:"bg-card border-b border-border shadow-card",children:d.jsxs("div",{className:"container max-w-2xl mx-auto px-4 py-6 text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Suivi de commande"}),d.jsxs("p",{className:"text-muted-foreground",children:["Table ",i.table_number,"  Commande #",i.id.slice(0,8)]})]})}),d.jsxs("div",{className:"container max-w-2xl mx-auto px-4 py-6 space-y-6",children:[d.jsx(Xe,{className:"p-6 text-center shadow-elegant border-border",children:d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:`p-4 rounded-full ${u.color}`,children:d.jsx(h,{className:"h-12 w-12"})}),d.jsxs("div",{children:[d.jsx(ii,{className:`text-lg px-4 py-2 ${u.color}`,children:u.label}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Commande passe "," ",new Date(i.created_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]})}),d.jsxs(Xe,{className:"p-6 shadow-card border-border",children:[d.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Dtails de la commande"}),d.jsx("div",{className:"space-y-3",children:(p=i.order_items)==null?void 0:p.map(f=>d.jsx("div",{className:"flex justify-between items-center py-2 border-b border-border last:border-0",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:f.dishes.name}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantit: ",f.quantity]})]})},f.id))}),i.customer_message&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[d.jsx("p",{className:"text-sm font-medium mb-1",children:"Votre message:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:i.customer_message})]}),i.additional_message&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[d.jsx("p",{className:"text-sm font-medium mb-1",children:"Message supplmentaire:"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:i.additional_message})]})]}),i.status!=="ready"&&d.jsxs(Xe,{className:"p-6 shadow-card border-border",children:[d.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Envoyer un message  la cuisine"}),d.jsx(Xc,{placeholder:"Ex: modifier quelque chose, ajouter une demande...",value:s,onChange:f=>o(f.target.value),className:"bg-input border-border text-foreground resize-none mb-4",rows:3}),d.jsx(Z,{onClick:()=>l.mutate(),disabled:!s.trim()||l.isPending,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:l.isPending?"Envoi...":"Envoyer"})]}),d.jsxs(Z,{onClick:()=>r("/"),variant:"outline",className:"w-full border-border text-foreground hover:bg-muted",children:[d.jsx(A0,{className:"mr-2 h-5 w-5"}),"Retour  l'accueil"]})]})]})};var Zu="rovingFocusGroup.onEntryFocus",NI={bubbles:!1,cancelable:!0},Pa="RovingFocusGroup",[Wh,p_,OI]=Kf(Pa),[AI,m_]=Pr(Pa,[OI]),[II,DI]=AI(Pa),g_=v.forwardRef((e,t)=>d.jsx(Wh.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Wh.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(LI,{...e,ref:t})})}));g_.displayName=Pa;var LI=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=e,p=v.useRef(null),f=ue(t,p),x=Qc(o),[m,y]=Rs({prop:i,defaultProp:a??null,onChange:l,caller:Pa}),[w,g]=v.useState(!1),b=Ve(c),_=p_(r),S=v.useRef(!1),[C,k]=v.useState(0);return v.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Zu,b),()=>T.removeEventListener(Zu,b)},[b]),d.jsx(II,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:m,onItemFocus:v.useCallback(T=>y(T),[y]),onItemShiftTab:v.useCallback(()=>g(!0),[]),onFocusableItemAdd:v.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:v.useCallback(()=>k(T=>T-1),[]),children:d.jsx(X.div,{tabIndex:w||C===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:W(e.onMouseDown,()=>{S.current=!0}),onFocus:W(e.onFocus,T=>{const R=!S.current;if(T.target===T.currentTarget&&R&&!w){const j=new CustomEvent(Zu,NI);if(T.currentTarget.dispatchEvent(j),!j.defaultPrevented){const L=_().filter(U=>U.focusable),A=L.find(U=>U.active),q=L.find(U=>U.id===m),J=[A,q,...L].filter(Boolean).map(U=>U.ref.current);w_(J,u)}}S.current=!1}),onBlur:W(e.onBlur,()=>g(!1))})})}),v_="RovingFocusGroupItem",y_=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=An(),c=o||l,u=DI(v_,r),h=u.currentTabStopId===c,p=p_(r),{onFocusableItemAdd:f,onFocusableItemRemove:x,currentTabStopId:m}=u;return v.useEffect(()=>{if(n)return f(),()=>x()},[n,f,x]),d.jsx(Wh.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:d.jsx(X.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:W(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:W(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:W(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=FI(y,u.orientation,u.dir);if(w!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=p().filter(_=>_.focusable).map(_=>_.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const _=b.indexOf(y.currentTarget);b=u.loop?UI(b,_+1):b.slice(_+1)}setTimeout(()=>w_(b))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:m!=null}):i})})});y_.displayName=v_;var $I={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function FI(e,t,r){const n=MI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $I[n]}function w_(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function UI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var BI=g_,zI=y_,Zc="Tabs",[VI,sL]=Pr(Zc,[m_]),b_=m_(),[WI,Np]=VI(Zc),x_=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=Qc(a),[h,p]=Rs({prop:n,onChange:s,defaultProp:o??"",caller:Zc});return d.jsx(WI,{scope:r,baseId:An(),value:h,onValueChange:p,orientation:i,dir:u,activationMode:l,children:d.jsx(X.div,{dir:u,"data-orientation":i,...c,ref:t})})});x_.displayName=Zc;var __="TabsList",S_=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Np(__,r),i=b_(r);return d.jsx(BI,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:d.jsx(X.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});S_.displayName=__;var E_="TabsTrigger",C_=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Np(E_,r),a=b_(r),l=P_(i.baseId,n),c=R_(i.baseId,n),u=n===i.value;return d.jsx(zI,{asChild:!0,...a,focusable:!s,active:u,children:d.jsx(X.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:W(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(n):h.preventDefault()}),onKeyDown:W(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(n)}),onFocus:W(e.onFocus,()=>{const h=i.activationMode!=="manual";!u&&!s&&h&&i.onValueChange(n)})})})});C_.displayName=E_;var k_="TabsContent",T_=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=Np(k_,r),l=P_(a.baseId,n),c=R_(a.baseId,n),u=n===a.value,h=v.useRef(u);return v.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),d.jsx(mr,{present:s||u,children:({present:p})=>d.jsx(X.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});T_.displayName=k_;function P_(e,t){return`${e}-trigger-${t}`}function R_(e,t){return`${e}-content-${t}`}var HI=x_,j_=S_,N_=C_,O_=T_;const Op=HI,eu=v.forwardRef(({className:e,...t},r)=>d.jsx(j_,{ref:r,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));eu.displayName=j_.displayName;const Ln=v.forwardRef(({className:e,...t},r)=>d.jsx(N_,{ref:r,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ln.displayName=N_.displayName;const $n=v.forwardRef(({className:e,...t},r)=>d.jsx(O_,{ref:r,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));$n.displayName=O_.displayName;const qI=()=>{const e=$t(),t=jr(),{data:r}=He({queryKey:["kitchen-orders","active"],queryFn:async()=>{const{data:u,error:h}=await oe.from("orders").select("*, order_items(*, dishes(name))").in("status",["pending","preparing","ready"]).eq("is_archived",!1).order("created_at",{ascending:!0});if(h)throw h;return u}}),{data:n}=He({queryKey:["kitchen-orders","history"],queryFn:async()=>{const{data:u,error:h}=await oe.from("orders").select("*, order_items(*, dishes(name))").eq("status","completed").eq("is_archived",!1).order("created_at",{ascending:!1}).limit(50);if(h)throw h;return u}});v.useEffect(()=>{const u=oe.channel("kitchen-orders-realtime").on("postgres_changes",{event:"*",schema:"public",table:"orders"},()=>{t.invalidateQueries({queryKey:["kitchen-orders"]})}).subscribe();return()=>{oe.removeChannel(u)}},[t]);const s=At({mutationFn:async({orderId:u,status:h})=>{const{error:p}=await oe.from("orders").update({status:h}).eq("id",u);if(p)throw p},onSuccess:()=>{t.invalidateQueries({queryKey:["kitchen-orders"]}),fe.success("Statut mis  jour")},onError:()=>{fe.error("Erreur lors de la mise  jour")}}),o=At({mutationFn:async()=>{const{error:u}=await oe.from("orders").update({is_archived:!0}).eq("status","completed");if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["kitchen-orders"]}),fe.success("Historique vid")},onError:()=>{fe.error("Erreur lors du vidage de l'historique")}}),i=u=>{switch(u){case"pending":return"bg-destructive text-destructive-foreground";case"preparing":return"bg-accent text-accent-foreground";case"ready":return"bg-secondary text-secondary-foreground";case"completed":return"bg-green-600 text-green-50";default:return"bg-muted text-muted-foreground"}},a=u=>{switch(u){case"pending":return"En attente";case"preparing":return"En prparation";case"ready":return"Prte";case"completed":return"Servie";default:return u}},l=u=>{const h=Math.floor((new Date().getTime()-new Date(u).getTime())/6e4);return h<1?" l'instant":h<60?`Il y a ${h} min`:`Il y a ${Math.floor(h/60)}h`},c=u=>{var h;return d.jsxs(Xe,{className:"p-6 shadow-elegant border-border space-y-4",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-2xl font-bold",children:["Table ",u.table_number]}),d.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2 mt-1",children:[d.jsx(tc,{className:"h-4 w-4"}),l(u.created_at)]})]}),d.jsx(ii,{className:i(u.status),children:a(u.status)})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("p",{className:"text-sm font-medium",children:["Commande #",u.id.slice(0,8)]}),d.jsx("div",{className:"space-y-1",children:(h=u.order_items)==null?void 0:h.map(p=>d.jsxs("div",{className:"flex justify-between text-sm py-1 border-b border-border last:border-0",children:[d.jsx("span",{children:p.dishes.name}),d.jsxs("span",{className:"font-semibold",children:["",p.quantity]})]},p.id))})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[u.status==="pending"&&d.jsxs(Z,{onClick:()=>s.mutate({orderId:u.id,status:"preparing"}),className:"flex-1 bg-accent hover:bg-accent/90 text-accent-foreground",children:[d.jsx($i,{className:"mr-2 h-4 w-4"}),"En prparation"]}),u.status==="preparing"&&d.jsxs(Z,{onClick:()=>s.mutate({orderId:u.id,status:"ready"}),className:"flex-1 bg-secondary hover:bg-secondary/90 text-secondary-foreground",children:[d.jsx(nh,{className:"mr-2 h-4 w-4"}),"Prte"]}),u.status==="ready"&&d.jsxs(Z,{onClick:()=>s.mutate({orderId:u.id,status:"completed"}),className:"flex-1 bg-green-600 hover:bg-green-700 text-green-50",children:[d.jsx(nh,{className:"mr-2 h-4 w-4"}),"Servie"]})]})]},u.id)};return d.jsx("div",{className:"min-h-screen p-6",children:d.jsxs("div",{className:"container max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[d.jsx($i,{className:"h-8 w-8"}),"Interface Cuisine"]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs(Z,{variant:"outline",onClick:()=>e("/admin"),children:[d.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Retour"]})})]}),d.jsxs(Op,{defaultValue:"active",className:"space-y-6",children:[d.jsxs(eu,{className:"bg-card border border-border",children:[d.jsxs(Ln,{value:"active",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[d.jsx($i,{className:"mr-2 h-4 w-4"}),"Commandes Actives (",(r==null?void 0:r.length)||0,")"]}),d.jsxs(Ln,{value:"history",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[d.jsx(Hk,{className:"mr-2 h-4 w-4"}),"Historique (",(n==null?void 0:n.length)||0,")"]})]}),d.jsxs($n,{value:"active",children:[r&&r.length===0&&d.jsx(Xe,{className:"p-12 text-center shadow-elegant border-border",children:d.jsx("p",{className:"text-xl text-muted-foreground",children:"Aucune commande active"})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r==null?void 0:r.map(c)})]}),d.jsxs($n,{value:"history",children:[d.jsx("div",{className:"flex justify-end mb-4",children:d.jsxs(Z,{variant:"destructive",onClick:()=>o.mutate(),disabled:!n||n.length===0,children:[d.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Vider l'historique"]})}),n&&n.length===0&&d.jsx(Xe,{className:"p-12 text-center shadow-elegant border-border",children:d.jsx("p",{className:"text-xl text-muted-foreground",children:"L'historique est vide"})}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n==null?void 0:n.map(c)})]})]})]})})},KI=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(0),s=$t(),{data:o}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:a,error:l}=await oe.from("restaurant_settings").select("*").single();if(l)throw l;return a}}),i=()=>{o&&(e===o.admin_pin?(sessionStorage.setItem("admin_authenticated","true"),s("/admin"),fe.success("Accs autoris")):(n(a=>a+1),fe.error("Code PIN incorrect"),t(""),r>=2&&(fe.error("Trop de tentatives. Veuillez ressayer plus tard."),setTimeout(()=>{s("/")},3e3))))};return d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",children:d.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[d.jsxs(Z,{variant:"ghost",onClick:()=>s("/"),className:"text-foreground",children:[d.jsx(Hn,{className:"mr-2 h-5 w-5"}),"Retour"]}),d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"bg-card p-6 rounded-full shadow-elegant",children:d.jsx(D0,{className:"w-12 h-12 text-foreground"})})}),d.jsx("h1",{className:"text-3xl font-bold",children:"Administration"}),d.jsx("p",{className:"text-muted-foreground",children:"Entrez le code PIN pour accder au systme"})]}),d.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-elegant space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"pin",className:"text-sm font-medium",children:"Code PIN"}),d.jsx(ft,{id:"pin",type:"password",inputMode:"numeric",placeholder:"",value:e,onChange:a=>t(a.target.value),onKeyPress:a=>a.key==="Enter"&&i(),className:"h-14 text-2xl text-center tracking-widest bg-input border-border text-foreground",maxLength:6})]}),d.jsx(Z,{onClick:i,disabled:e.length===0,className:"w-full h-14 text-lg font-semibold bg-primary hover:bg-primary/90 text-primary-foreground",children:"Valider"}),r>0&&d.jsxs("p",{className:"text-sm text-center text-destructive",children:["Tentatives restantes: ",3-r]})]})]})})};var ed="focusScope.autoFocusOnMount",td="focusScope.autoFocusOnUnmount",xv={bubbles:!1,cancelable:!0},GI="FocusScope",Ap=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=v.useState(null),c=Ve(s),u=Ve(o),h=v.useRef(null),p=ue(t,m=>l(m)),f=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(b){if(f.paused||!a)return;const _=b.target;a.contains(_)?h.current=_:on(h.current,{select:!0})},y=function(b){if(f.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||on(h.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&on(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const g=new MutationObserver(w);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),g.disconnect()}}},[n,a,f.paused]),v.useEffect(()=>{if(a){Sv.add(f);const m=document.activeElement;if(!a.contains(m)){const w=new CustomEvent(ed,xv);a.addEventListener(ed,c),a.dispatchEvent(w),w.defaultPrevented||(QI(e2(A_(a)),{select:!0}),document.activeElement===m&&on(a))}return()=>{a.removeEventListener(ed,c),setTimeout(()=>{const w=new CustomEvent(td,xv);a.addEventListener(td,u),a.dispatchEvent(w),w.defaultPrevented||on(m??document.body,{select:!0}),a.removeEventListener(td,u),Sv.remove(f)},0)}}},[a,c,u,f]);const x=v.useCallback(m=>{if(!r&&!n||f.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(y&&w){const g=m.currentTarget,[b,_]=JI(g);b&&_?!m.shiftKey&&w===_?(m.preventDefault(),r&&on(b,{select:!0})):m.shiftKey&&w===b&&(m.preventDefault(),r&&on(_,{select:!0})):w===g&&m.preventDefault()}},[r,n,f.paused]);return d.jsx(X.div,{tabIndex:-1,...i,ref:p,onKeyDown:x})});Ap.displayName=GI;function QI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(on(n,{select:t}),document.activeElement!==r)return}function JI(e){const t=A_(e),r=_v(t,e),n=_v(t.reverse(),e);return[r,n]}function A_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _v(e,t){for(const r of e)if(!YI(r,{upTo:t}))return r}function YI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XI(e){return e instanceof HTMLInputElement&&"select"in e}function on(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&XI(e)&&t&&e.select()}}var Sv=ZI();function ZI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ev(e,t),e.unshift(t)},remove(t){var r;e=Ev(e,t),(r=e[0])==null||r.resume()}}}function Ev(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function e2(e){return e.filter(t=>t.tagName!=="A")}var rd=0;function I_(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Cv()),document.body.insertAdjacentElement("beforeend",e[1]??Cv()),rd++,()=>{rd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rd--}},[])}function Cv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Rl="right-scroll-bar-position",jl="width-before-scroll-bar",t2="with-scroll-bars-hidden",r2="--removed-body-scroll-bar-size";function nd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function n2(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var s2=typeof window<"u"?v.useLayoutEffect:v.useEffect,kv=new WeakMap;function o2(e,t){var r=n2(null,function(n){return e.forEach(function(s){return nd(s,n)})});return s2(function(){var n=kv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||nd(a,null)}),o.forEach(function(a){s.has(a)||nd(a,i)})}kv.set(r,e)},[e]),r}function i2(e){return e}function a2(e,t){t===void 0&&(t=i2);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var l=function(){var u=i;i=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){i.push(u),c()},filter:function(u){return i=i.filter(u),r}}}};return s}function l2(e){e===void 0&&(e={});var t=a2(null);return t.options=Wt({async:!0,ssr:!1},e),t}var D_=function(e){var t=e.sideCar,r=Kn(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Wt({},r))};D_.isSideCarExport=!0;function c2(e,t){return e.useMedium(t),D_}var L_=l2(),sd=function(){},tu=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:sd,onWheelCapture:sd,onTouchMoveCapture:sd}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,x=e.noIsolation,m=e.inert,y=e.allowPinchZoom,w=e.as,g=w===void 0?"div":w,b=e.gapMode,_=Kn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,C=o2([r,t]),k=Wt(Wt({},_),s);return v.createElement(v.Fragment,null,u&&v.createElement(S,{sideCar:L_,removeScrollBar:c,shards:h,noRelative:f,noIsolation:x,inert:m,setCallbacks:o,allowPinchZoom:!!y,lockRef:r,gapMode:b}),i?v.cloneElement(v.Children.only(a),Wt(Wt({},k),{ref:C})):v.createElement(g,Wt({},k,{className:l,ref:C}),a))});tu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};tu.classNames={fullWidth:jl,zeroRight:Rl};var u2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=u2();return t&&e.setAttribute("nonce",t),e}function h2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function f2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var p2=function(){var e=0,t=null;return{add:function(r){e==0&&(t=d2())&&(h2(t,r),f2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},m2=function(){var e=p2();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},$_=function(){var e=m2(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},g2={left:0,top:0,right:0,gap:0},od=function(e){return parseInt(e||"",10)||0},v2=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[od(r),od(n),od(s)]},y2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return g2;var t=v2(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},w2=$_(),ko="data-scroll-locked",b2=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(t2,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(jl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Rl," .").concat(Rl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(r2,": ").concat(a,`px;
  }
`)},Tv=function(){var e=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(e)?e:0},x2=function(){v.useEffect(function(){return document.body.setAttribute(ko,(Tv()+1).toString()),function(){var e=Tv()-1;e<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,e.toString())}},[])},_2=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;x2();var o=v.useMemo(function(){return y2(s)},[s]);return v.createElement(w2,{styles:b2(o,!t,s,r?"":"!important")})},Hh=!1;if(typeof window<"u")try{var cl=Object.defineProperty({},"passive",{get:function(){return Hh=!0,!0}});window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Hh=!1}var Zs=Hh?{passive:!1}:!1,S2=function(e){return e.tagName==="TEXTAREA"},M_=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!S2(e)&&r[t]==="visible")},E2=function(e){return M_(e,"overflowY")},C2=function(e){return M_(e,"overflowX")},Pv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=F_(e,n);if(s){var o=U_(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},k2=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},T2=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},F_=function(e,t){return e==="v"?E2(t):C2(t)},U_=function(e,t){return e==="v"?k2(t):T2(t)},P2=function(e,t){return e==="h"&&t==="rtl"?-1:1},R2=function(e,t,r,n,s){var o=P2(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,l=t.contains(a),c=!1,u=i>0,h=0,p=0;do{if(!a)break;var f=U_(e,a),x=f[0],m=f[1],y=f[2],w=m-y-o*x;(x||w)&&F_(e,a)&&(h+=w,p+=x);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(Math.abs(h)<1||!s)||!u&&(Math.abs(p)<1||!s))&&(c=!0),c},ul=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Rv=function(e){return[e.deltaX,e.deltaY]},jv=function(e){return e&&"current"in e?e.current:e},j2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},N2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},O2=0,eo=[];function A2(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(O2++)[0],o=v.useState($_)[0],i=v.useRef(e);v.useEffect(function(){i.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=yp([e.lockRef.current],(e.shards||[]).map(jv),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=v.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var w=ul(m),g=r.current,b="deltaX"in m?m.deltaX:g[0]-w[0],_="deltaY"in m?m.deltaY:g[1]-w[1],S,C=m.target,k=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&C.type==="range")return!1;var T=Pv(k,C);if(!T)return!0;if(T?S=k:(S=k==="v"?"h":"v",T=Pv(k,C)),!T)return!1;if(!n.current&&"changedTouches"in m&&(b||_)&&(n.current=S),!S)return!0;var R=n.current||S;return R2(R,y,m,R==="h"?b:_,!0)},[]),l=v.useCallback(function(m){var y=m;if(!(!eo.length||eo[eo.length-1]!==o)){var w="deltaY"in y?Rv(y):ul(y),g=t.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&j2(S.delta,w)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var b=(i.current.shards||[]).map(jv).filter(Boolean).filter(function(S){return S.contains(y.target)}),_=b.length>0?a(y,b[0]):!i.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),c=v.useCallback(function(m,y,w,g){var b={name:m,delta:y,target:w,should:g,shadowParent:I2(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),u=v.useCallback(function(m){r.current=ul(m),n.current=void 0},[]),h=v.useCallback(function(m){c(m.type,Rv(m),m.target,a(m,e.lockRef.current))},[]),p=v.useCallback(function(m){c(m.type,ul(m),m.target,a(m,e.lockRef.current))},[]);v.useEffect(function(){return eo.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Zs),document.addEventListener("touchmove",l,Zs),document.addEventListener("touchstart",u,Zs),function(){eo=eo.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Zs),document.removeEventListener("touchmove",l,Zs),document.removeEventListener("touchstart",u,Zs)}},[]);var f=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(o,{styles:N2(s)}):null,f?v.createElement(_2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function I2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const D2=c2(L_,A2);var Ip=v.forwardRef(function(e,t){return v.createElement(tu,Wt({},e,{ref:t,sideCar:D2}))});Ip.classNames=tu.classNames;var L2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},to=new WeakMap,dl=new WeakMap,hl={},id=0,B_=function(e){return e&&(e.host||B_(e.parentNode))},$2=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=B_(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},M2=function(e,t,r,n){var s=$2(t,Array.isArray(e)?e:[e]);hl[r]||(hl[r]=new WeakMap);var o=hl[r],i=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))u(p);else try{var f=p.getAttribute(n),x=f!==null&&f!=="false",m=(to.get(p)||0)+1,y=(o.get(p)||0)+1;to.set(p,m),o.set(p,y),i.push(p),m===1&&x&&dl.set(p,!0),y===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return u(t),a.clear(),id++,function(){i.forEach(function(h){var p=to.get(h)-1,f=o.get(h)-1;to.set(h,p),o.set(h,f),p||(dl.has(h)||h.removeAttribute(n),dl.delete(h)),f||h.removeAttribute(r)}),id--,id||(to=new WeakMap,to=new WeakMap,dl=new WeakMap,hl={})}},z_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=L2(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),M2(n,s,r,"aria-hidden")):function(){return null}},ru="Dialog",[V_,oL]=Pr(ru),[F2,gr]=V_(ru),W_=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=v.useRef(null),l=v.useRef(null),[c,u]=Rs({prop:n,defaultProp:s??!1,onChange:o,caller:ru});return d.jsx(F2,{scope:t,triggerRef:a,contentRef:l,contentId:An(),titleId:An(),descriptionId:An(),open:c,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(h=>!h),[u]),modal:i,children:r})};W_.displayName=ru;var H_="DialogTrigger",q_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(H_,r),o=ue(t,s.triggerRef);return d.jsx(X.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$p(s.open),...n,ref:o,onClick:W(e.onClick,s.onOpenToggle)})});q_.displayName=H_;var Dp="DialogPortal",[U2,K_]=V_(Dp,{forceMount:void 0}),G_=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=gr(Dp,t);return d.jsx(U2,{scope:t,forceMount:r,children:v.Children.map(n,i=>d.jsx(mr,{present:r||o.open,children:d.jsx(Ic,{asChild:!0,container:s,children:i})}))})};G_.displayName=Dp;var gc="DialogOverlay",Q_=v.forwardRef((e,t)=>{const r=K_(gc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=gr(gc,e.__scopeDialog);return o.modal?d.jsx(mr,{present:n||o.open,children:d.jsx(z2,{...s,ref:t})}):null});Q_.displayName=gc;var B2=qo("DialogOverlay.RemoveScroll"),z2=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(gc,r);return d.jsx(Ip,{as:B2,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(X.div,{"data-state":$p(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),As="DialogContent",J_=v.forwardRef((e,t)=>{const r=K_(As,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=gr(As,e.__scopeDialog);return d.jsx(mr,{present:n||o.open,children:o.modal?d.jsx(V2,{...s,ref:t}):d.jsx(W2,{...s,ref:t})})});J_.displayName=As;var V2=v.forwardRef((e,t)=>{const r=gr(As,e.__scopeDialog),n=v.useRef(null),s=ue(t,r.contentRef,n);return v.useEffect(()=>{const o=n.current;if(o)return z_(o)},[]),d.jsx(Y_,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:W(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:W(e.onFocusOutside,o=>o.preventDefault())})}),W2=v.forwardRef((e,t)=>{const r=gr(As,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return d.jsx(Y_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Y_=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=gr(As,r),l=v.useRef(null),c=ue(t,l);return I_(),d.jsxs(d.Fragment,{children:[d.jsx(Ap,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:d.jsx(_a,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$p(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(H2,{titleId:a.titleId}),d.jsx(K2,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Lp="DialogTitle",X_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(Lp,r);return d.jsx(X.h2,{id:s.titleId,...n,ref:t})});X_.displayName=Lp;var Z_="DialogDescription",eS=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(Z_,r);return d.jsx(X.p,{id:s.descriptionId,...n,ref:t})});eS.displayName=Z_;var tS="DialogClose",rS=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gr(tS,r);return d.jsx(X.button,{type:"button",...n,ref:t,onClick:W(e.onClick,()=>s.onOpenChange(!1))})});rS.displayName=tS;function $p(e){return e?"open":"closed"}var nS="DialogTitleWarning",[iL,sS]=GC(nS,{contentName:As,titleName:Lp,docsSlug:"dialog"}),H2=({titleId:e})=>{const t=sS(nS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},q2="DialogDescriptionWarning",K2=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sS(q2).contentName}}.`;return v.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},G2=W_,Q2=q_,J2=G_,oS=Q_,iS=J_,aS=X_,lS=eS,Y2=rS;const cS=G2,X2=Q2,Z2=J2,uS=v.forwardRef(({className:e,...t},r)=>d.jsx(oS,{ref:r,className:ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uS.displayName=oS.displayName;const Mp=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(Z2,{children:[d.jsx(uS,{}),d.jsxs(iS,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,d.jsxs(Y2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Yf,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mp.displayName=iS.displayName;const Fp=({className:e,...t})=>d.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fp.displayName="DialogHeader";const Up=v.forwardRef(({className:e,...t},r)=>d.jsx(aS,{ref:r,className:ie("text-lg font-semibold leading-none tracking-tight",e),...t}));Up.displayName=aS.displayName;const dS=v.forwardRef(({className:e,...t},r)=>d.jsx(lS,{ref:r,className:ie("text-sm text-muted-foreground",e),...t}));dS.displayName=lS.displayName;var eD="Label",hS=v.forwardRef((e,t)=>d.jsx(X.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));hS.displayName=eD;var fS=hS;const tD=$c("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dt=v.forwardRef(({className:e,...t},r)=>d.jsx(fS,{ref:r,className:ie(tD(),e),...t}));dt.displayName=fS.displayName;const rD=()=>{const e=$t(),[t,r]=v.useState(!1),[n,s]=v.useState("");v.useEffect(()=>{sessionStorage.getItem("admin_authenticated")||e("/admin/login")},[e]);const{data:o}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:u,error:h}=await oe.from("restaurant_settings").select("admin_pin, security_pin").single();if(h)throw h;return u}}),i=()=>{sessionStorage.removeItem("admin_authenticated"),e("/")},a=()=>{r(!0)},l=()=>{o&&n===o.security_pin?(s(""),r(!1),e("/admin/security")):(fe.error("Code PIN incorrect"),s(""))},c=[{title:"Gestion du Restaurant",icon:$0,path:"/admin/restaurant",description:"Nom, devise, taux de conversion"},{title:"Gestion du Menu",icon:qk,path:"/admin/menu",description:"Plats, catgories, prix"},{title:"Interface Cuisine",icon:$i,path:"/kitchen",description:"Voir les commandes en temps rel"},{title:"Caisse",icon:I0,path:"/admin/caisse",description:"Voir les commandes et les rapports"},{title:"Scurit",icon:Yk,path:"/admin/security",description:"Changer le code PIN",action:a}];return d.jsxs("div",{className:"min-h-screen p-6",children:[d.jsxs("div",{className:"container max-w-4xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Panneau d'Administration"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Wg,{to:"/",children:d.jsxs(Z,{variant:"outline",children:[d.jsx(A0,{className:"mr-2 h-4 w-4"}),"Accueil"]})}),d.jsxs(Z,{onClick:i,variant:"outline",className:"border-border text-foreground hover:bg-muted",children:[d.jsx(Kk,{className:"mr-2 h-5 w-5"}),"Dconnexion"]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map(u=>{const h=u.icon,p=d.jsx(Xe,{className:"p-6 hover-scale cursor-pointer bg-card border-border shadow-card h-full",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-primary/10",children:d.jsx(h,{className:"h-8 w-8 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-semibold mb-2",children:u.title}),d.jsx("p",{className:"text-sm text-muted-foreground",children:u.description})]})]})});return u.action?d.jsx("div",{onClick:u.action,children:p},u.path):d.jsx(Wg,{to:u.path,children:p},u.path)})})]}),d.jsx(cS,{open:t,onOpenChange:r,children:d.jsxs(Mp,{className:"sm:max-w-md bg-card border-border",children:[d.jsxs(Fp,{children:[d.jsx(Up,{children:"Accs scuris"}),d.jsx(dS,{children:"Veuillez entrer le code PIN pour accder aux paramtres de scurit."})]}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"pin",children:"Code PIN"}),d.jsx(ft,{id:"pin",type:"password",inputMode:"numeric",value:n,onChange:u=>s(u.target.value),onKeyDown:u=>u.key==="Enter"&&l(),placeholder:"",className:"bg-input border-border text-foreground",autoFocus:!0})]}),d.jsx(Z,{onClick:l,className:"w-full",children:"Valider"})]})]})})]})};function pS(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nD=[" ","Enter","ArrowUp","ArrowDown"],sD=[" ","Enter"],Is="Select",[nu,su,oD]=Kf(Is),[ai,aL]=Pr(Is,[oD,zc]),ou=zc(),[iD,Qn]=ai(Is),[aD,lD]=ai(Is),mS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:p,required:f,form:x}=e,m=ou(t),[y,w]=v.useState(null),[g,b]=v.useState(null),[_,S]=v.useState(!1),C=Qc(c),[k,T]=Rs({prop:n,defaultProp:s??!1,onChange:o,caller:Is}),[R,j]=Rs({prop:i,defaultProp:a,onChange:l,caller:Is}),L=v.useRef(null),A=y?x||!!y.closest("form"):!0,[q,D]=v.useState(new Set),J=Array.from(q).map(U=>U.props.value).join(";");return d.jsx(IR,{...m,children:d.jsxs(iD,{required:f,scope:t,trigger:y,onTriggerChange:w,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:An(),value:R,onValueChange:j,open:k,onOpenChange:T,dir:C,triggerPointerDownPosRef:L,disabled:p,children:[d.jsx(nu.Provider,{scope:t,children:d.jsx(aD,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(U=>{D(K=>new Set(K).add(U))},[]),onNativeOptionRemove:v.useCallback(U=>{D(K=>{const P=new Set(K);return P.delete(U),P})},[]),children:r})}),A?d.jsxs(FS,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:R,onChange:U=>j(U.target.value),disabled:p,form:x,children:[R===void 0?d.jsx("option",{value:""}):null,Array.from(q)]},J):null]})})};mS.displayName=Is;var gS="SelectTrigger",vS=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=ou(r),i=Qn(gS,r),a=i.disabled||n,l=ue(t,i.onTriggerChange),c=su(r),u=v.useRef("touch"),[h,p,f]=BS(m=>{const y=c().filter(b=>!b.disabled),w=y.find(b=>b.value===i.value),g=zS(y,m,w);g!==void 0&&i.onValueChange(g.value)}),x=m=>{a||(i.onOpenChange(!0),f()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return d.jsx(gb,{asChild:!0,...o,children:d.jsx(X.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":US(i.value)?"":void 0,...s,ref:l,onClick:W(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&x(m)}),onPointerDown:W(s.onPointerDown,m=>{u.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:W(s.onKeyDown,m=>{const y=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(y&&m.key===" ")&&nD.includes(m.key)&&(x(),m.preventDefault())})})})});vS.displayName=gS;var yS="SelectValue",wS=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,l=Qn(yS,r),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,h=ue(t,l.onValueNodeChange);return Ge(()=>{c(u)},[c,u]),d.jsx(X.span,{...a,ref:h,style:{pointerEvents:"none"},children:US(l.value)?d.jsx(d.Fragment,{children:i}):o})});wS.displayName=yS;var cD="SelectIcon",bS=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return d.jsx(X.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});bS.displayName=cD;var uD="SelectPortal",xS=e=>d.jsx(Ic,{asChild:!0,...e});xS.displayName=uD;var Ds="SelectContent",_S=v.forwardRef((e,t)=>{const r=Qn(Ds,e.__scopeSelect),[n,s]=v.useState();if(Ge(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ms.createPortal(d.jsx(SS,{scope:e.__scopeSelect,children:d.jsx(nu.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),o):null}return d.jsx(ES,{...e,ref:t})});_S.displayName=Ds;var rr=10,[SS,Jn]=ai(Ds),dD="SelectContentImpl",hD=qo("SelectContent.RemoveScroll"),ES=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:m,avoidCollisions:y,...w}=e,g=Qn(Ds,r),[b,_]=v.useState(null),[S,C]=v.useState(null),k=ue(t,M=>_(M)),[T,R]=v.useState(null),[j,L]=v.useState(null),A=su(r),[q,D]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(b)return z_(b)},[b]),I_();const U=v.useCallback(M=>{const[ge,...Ae]=A().map(he=>he.ref.current),[pe]=Ae.slice(-1),ce=document.activeElement;for(const he of M)if(he===ce||(he==null||he.scrollIntoView({block:"nearest"}),he===ge&&S&&(S.scrollTop=0),he===pe&&S&&(S.scrollTop=S.scrollHeight),he==null||he.focus(),document.activeElement!==ce))return},[A,S]),K=v.useCallback(()=>U([T,b]),[U,T,b]);v.useEffect(()=>{q&&K()},[q,K]);const{onOpenChange:P,triggerPointerDownPosRef:N}=g;v.useEffect(()=>{if(b){let M={x:0,y:0};const ge=pe=>{var ce,he;M={x:Math.abs(Math.round(pe.pageX)-(((ce=N.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((he=N.current)==null?void 0:he.y)??0))}},Ae=pe=>{M.x<=10&&M.y<=10?pe.preventDefault():b.contains(pe.target)||P(!1),document.removeEventListener("pointermove",ge),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[b,P,N]),v.useEffect(()=>{const M=()=>P(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[P]);const[$,Y]=BS(M=>{const ge=A().filter(ce=>!ce.disabled),Ae=ge.find(ce=>ce.ref.current===document.activeElement),pe=zS(ge,M,Ae);pe&&setTimeout(()=>pe.ref.current.focus())}),H=v.useCallback((M,ge,Ae)=>{const pe=!J.current&&!Ae;(g.value!==void 0&&g.value===ge||pe)&&(R(M),pe&&(J.current=!0))},[g.value]),re=v.useCallback(()=>b==null?void 0:b.focus(),[b]),ee=v.useCallback((M,ge,Ae)=>{const pe=!J.current&&!Ae;(g.value!==void 0&&g.value===ge||pe)&&L(M)},[g.value]),xe=n==="popper"?qh:CS,Oe=xe===qh?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:m,avoidCollisions:y}:{};return d.jsx(SS,{scope:r,content:b,viewport:S,onViewportChange:C,itemRefCallback:H,selectedItem:T,onItemLeave:re,itemTextRefCallback:ee,focusSelectedItem:K,selectedItemText:j,position:n,isPositioned:q,searchRef:$,children:d.jsx(Ip,{as:hD,allowPinchZoom:!0,children:d.jsx(Ap,{asChild:!0,trapped:g.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:W(s,M=>{var ge;(ge=g.trigger)==null||ge.focus({preventScroll:!0}),M.preventDefault()}),children:d.jsx(_a,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:d.jsx(xe,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:M=>M.preventDefault(),...w,...Oe,onPlaced:()=>D(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:W(w.onKeyDown,M=>{const ge=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!ge&&M.key.length===1&&Y(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let pe=A().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(M.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const ce=M.target,he=pe.indexOf(ce);pe=pe.slice(he+1)}setTimeout(()=>U(pe)),M.preventDefault()}})})})})})})});ES.displayName=dD;var fD="SelectItemAlignedPosition",CS=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Qn(Ds,r),i=Jn(Ds,r),[a,l]=v.useState(null),[c,u]=v.useState(null),h=ue(t,k=>u(k)),p=su(r),f=v.useRef(!1),x=v.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:w,focusSelectedItem:g}=i,b=v.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&y&&w){const k=o.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),j=w.getBoundingClientRect();if(o.dir!=="rtl"){const ce=j.left-T.left,he=R.left-ce,et=k.left-he,Mt=k.width+et,Yn=Math.max(Mt,T.width),Jr=window.innerWidth-rr,Xn=Vh(he,[rr,Math.max(rr,Jr-Yn)]);a.style.minWidth=Mt+"px",a.style.left=Xn+"px"}else{const ce=T.right-j.right,he=window.innerWidth-R.right-ce,et=window.innerWidth-k.right-he,Mt=k.width+et,Yn=Math.max(Mt,T.width),Jr=window.innerWidth-rr,Xn=Vh(he,[rr,Math.max(rr,Jr-Yn)]);a.style.minWidth=Mt+"px",a.style.right=Xn+"px"}const L=p(),A=window.innerHeight-rr*2,q=m.scrollHeight,D=window.getComputedStyle(c),J=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),K=parseInt(D.borderBottomWidth,10),P=parseInt(D.paddingBottom,10),N=J+U+q+P+K,$=Math.min(y.offsetHeight*5,N),Y=window.getComputedStyle(m),H=parseInt(Y.paddingTop,10),re=parseInt(Y.paddingBottom,10),ee=k.top+k.height/2-rr,xe=A-ee,Oe=y.offsetHeight/2,M=y.offsetTop+Oe,ge=J+U+M,Ae=N-ge;if(ge<=ee){const ce=L.length>0&&y===L[L.length-1].ref.current;a.style.bottom="0px";const he=c.clientHeight-m.offsetTop-m.offsetHeight,et=Math.max(xe,Oe+(ce?re:0)+he+K),Mt=ge+et;a.style.height=Mt+"px"}else{const ce=L.length>0&&y===L[0].ref.current;a.style.top="0px";const et=Math.max(ee,J+m.offsetTop+(ce?H:0)+Oe)+Ae;a.style.height=et+"px",m.scrollTop=ge-ee+m.offsetTop}a.style.margin=`${rr}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,o.trigger,o.valueNode,a,c,m,y,w,o.dir,n]);Ge(()=>b(),[b]);const[_,S]=v.useState();Ge(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=v.useCallback(k=>{k&&x.current===!0&&(b(),g==null||g(),x.current=!1)},[b,g]);return d.jsx(mD,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:C,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:d.jsx(X.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});CS.displayName=fD;var pD="SelectPopperPosition",qh=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=rr,...o}=e,i=ou(r);return d.jsx(vb,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qh.displayName=pD;var[mD,Bp]=ai(Ds,{}),Kh="SelectViewport",kS=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Jn(Kh,r),i=Bp(Kh,r),a=ue(t,o.onViewportChange),l=v.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(nu.Slot,{scope:r,children:d.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:W(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const f=Math.abs(l.current-u.scrollTop);if(f>0){const x=window.innerHeight-rr*2,m=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),w=Math.max(m,y);if(w<x){const g=w+f,b=Math.min(x,g),_=g-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});kS.displayName=Kh;var TS="SelectGroup",[gD,vD]=ai(TS),yD=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=An();return d.jsx(gD,{scope:r,id:s,children:d.jsx(X.div,{role:"group","aria-labelledby":s,...n,ref:t})})});yD.displayName=TS;var PS="SelectLabel",RS=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=vD(PS,r);return d.jsx(X.div,{id:s.id,...n,ref:t})});RS.displayName=PS;var vc="SelectItem",[wD,jS]=ai(vc),NS=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=Qn(vc,r),l=Jn(vc,r),c=a.value===n,[u,h]=v.useState(o??""),[p,f]=v.useState(!1),x=ue(t,g=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,g,n,s)}),m=An(),y=v.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(wD,{scope:r,value:n,disabled:s,textId:m,isSelected:c,onItemTextChange:v.useCallback(g=>{h(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:d.jsx(nu.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:d.jsx(X.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:x,onFocus:W(i.onFocus,()=>f(!0)),onBlur:W(i.onBlur,()=>f(!1)),onClick:W(i.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:W(i.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:W(i.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:W(i.onPointerMove,g=>{var b;y.current=g.pointerType,s?(b=l.onItemLeave)==null||b.call(l):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:W(i.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:W(i.onKeyDown,g=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(sD.includes(g.key)&&w(),g.key===" "&&g.preventDefault())})})})})});NS.displayName=vc;var ki="SelectItemText",OS=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Qn(ki,r),a=Jn(ki,r),l=jS(ki,r),c=lD(ki,r),[u,h]=v.useState(null),p=ue(t,w=>h(w),l.onItemTextChange,w=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,w,l.value,l.disabled)}),f=u==null?void 0:u.textContent,x=v.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=c;return Ge(()=>(m(x),()=>y(x)),[m,y,x]),d.jsxs(d.Fragment,{children:[d.jsx(X.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ms.createPortal(o.children,i.valueNode):null]})});OS.displayName=ki;var AS="SelectItemIndicator",IS=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return jS(AS,r).isSelected?d.jsx(X.span,{"aria-hidden":!0,...n,ref:t}):null});IS.displayName=AS;var Gh="SelectScrollUpButton",DS=v.forwardRef((e,t)=>{const r=Jn(Gh,e.__scopeSelect),n=Bp(Gh,e.__scopeSelect),[s,o]=v.useState(!1),i=ue(t,n.onScrollButtonChange);return Ge(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx($S,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});DS.displayName=Gh;var Qh="SelectScrollDownButton",LS=v.forwardRef((e,t)=>{const r=Jn(Qh,e.__scopeSelect),n=Bp(Qh,e.__scopeSelect),[s,o]=v.useState(!1),i=ue(t,n.onScrollButtonChange);return Ge(()=>{if(r.viewport&&r.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=r.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?d.jsx($S,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=r;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});LS.displayName=Qh;var $S=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Jn("SelectScrollButton",r),i=v.useRef(null),a=su(r),l=v.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Ge(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),d.jsx(X.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:W(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:W(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:W(s.onPointerLeave,()=>{l()})})}),bD="SelectSeparator",MS=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return d.jsx(X.div,{"aria-hidden":!0,...n,ref:t})});MS.displayName=bD;var Jh="SelectArrow",xD=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ou(r),o=Qn(Jh,r),i=Jn(Jh,r);return o.open&&i.position==="popper"?d.jsx(yb,{...s,...n,ref:t}):null});xD.displayName=Jh;var _D="SelectBubbleInput",FS=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=v.useRef(null),o=ue(n,s),i=pS(t);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&u){const h=new Event("change",{bubbles:!0});u.call(a,t),a.dispatchEvent(h)}},[i,t]),d.jsx(X.select,{...r,style:{...c0,...r.style},ref:o,defaultValue:t})});FS.displayName=_D;function US(e){return e===""||e===void 0}function BS(e){const t=Ve(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(i=>{const a=r.current+i;t(a),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function zS(e,t,r){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=SD(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==r));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function SD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ED=mS,VS=vS,CD=wS,kD=bS,TD=xS,WS=_S,PD=kS,HS=RS,qS=NS,RD=OS,jD=IS,KS=DS,GS=LS,QS=MS;const JS=ED,YS=CD,zp=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(VS,{ref:n,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,d.jsx(kD,{asChild:!0,children:d.jsx(O0,{className:"h-4 w-4 opacity-50"})})]}));zp.displayName=VS.displayName;const XS=v.forwardRef(({className:e,...t},r)=>d.jsx(KS,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(Vk,{className:"h-4 w-4"})}));XS.displayName=KS.displayName;const ZS=v.forwardRef(({className:e,...t},r)=>d.jsx(GS,{ref:r,className:ie("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(O0,{className:"h-4 w-4"})}));ZS.displayName=GS.displayName;const Vp=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>d.jsx(TD,{children:d.jsxs(WS,{ref:s,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[d.jsx(XS,{}),d.jsx(PD,{className:ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(ZS,{})]})}));Vp.displayName=WS.displayName;const ND=v.forwardRef(({className:e,...t},r)=>d.jsx(HS,{ref:r,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ND.displayName=HS.displayName;const Ui=v.forwardRef(({className:e,children:t,...r},n)=>d.jsxs(qS,{ref:n,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(jD,{children:d.jsx(zk,{className:"h-4 w-4"})})}),d.jsx(RD,{children:t})]}));Ui.displayName=qS.displayName;const OD=v.forwardRef(({className:e,...t},r)=>d.jsx(QS,{ref:r,className:ie("-mx-1 my-1 h-px bg-muted",e),...t}));OD.displayName=QS.displayName;const AD=()=>{const e=$t(),t=jr(),[r,n]=v.useState(""),[s,o]=v.useState("EUR"),[i,a]=v.useState("200.00"),[l,c]=v.useState("1.10");v.useEffect(()=>{sessionStorage.getItem("admin_authenticated")||e("/admin/login")},[e]);const{data:u}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:p,error:f}=await oe.from("restaurant_settings").select("*").single();if(f)throw f;return p}});v.useEffect(()=>{var p,f;u&&(n(u.name||"Mon Restaurant"),o(u.currency||"EUR"),a(((p=u.eur_to_djf)==null?void 0:p.toString())??"200.00"),c(((f=u.eur_to_usd)==null?void 0:f.toString())??"1.10"))},[u]);const h=At({mutationFn:async()=>{if(!u)return;const{error:p}=await oe.from("restaurant_settings").update({name:r.trim(),currency:s,eur_to_djf:parseFloat(i),eur_to_usd:parseFloat(l)}).eq("id",u.id);if(p)throw p},onSuccess:()=>{t.invalidateQueries({queryKey:["restaurant-settings"]}),fe.success("Paramtres mis  jour avec succs")},onError:()=>{fe.error("Erreur lors de la mise  jour")}});return d.jsx("div",{className:"min-h-screen p-6",children:d.jsxs("div",{className:"container max-w-2xl mx-auto space-y-6",children:[d.jsxs(Z,{variant:"ghost",onClick:()=>e("/admin"),className:"text-foreground",children:[d.jsx(Hn,{className:"mr-2 h-5 w-5"}),"Retour"]}),d.jsx("h1",{className:"text-3xl font-bold",children:"Gestion du Restaurant"}),d.jsxs(Xe,{className:"p-6 shadow-elegant border-border space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"name",children:"Nom du restaurant"}),d.jsx(ft,{id:"name",value:r,onChange:p=>n(p.target.value),placeholder:"Mon Restaurant",className:"bg-input border-border text-foreground"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"currency",children:"Devise"}),d.jsxs(JS,{value:s,onValueChange:p=>o(p),children:[d.jsx(zp,{className:"bg-input border-border text-foreground",children:d.jsx(YS,{})}),d.jsxs(Vp,{children:[d.jsx(Ui,{value:"EUR",children:"Euro ()"}),d.jsx(Ui,{value:"DJF",children:"Franc Djiboutien (Fdj)"}),d.jsx(Ui,{value:"USD",children:"Dollar ($)"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold",children:"Taux de conversion"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"djf",children:"1 EUR = ... Fdj"}),d.jsx(ft,{id:"djf",type:"number",step:"0.01",value:i,onChange:p=>a(p.target.value),className:"bg-input border-border text-foreground"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{htmlFor:"usd",children:"1 EUR = ... USD"}),d.jsx(ft,{id:"usd",type:"number",step:"0.01",value:l,onChange:p=>c(p.target.value),className:"bg-input border-border text-foreground"})]})]}),d.jsx(Z,{onClick:()=>h.mutate(),disabled:h.isPending,className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground",children:h.isPending?"Sauvegarde...":"Sauvegarder les modifications"})]})]})})},ID=()=>{const e=jr(),[t,r]=v.useState(""),[n,s]=v.useState(null),[o,i]=v.useState(""),{data:a}=He({queryKey:["categories"],queryFn:async()=>{const{data:x,error:m}=await oe.from("categories").select("*").order("display_order");if(m)throw m;return x}}),l=At({mutationFn:async()=>{const x=(a==null?void 0:a.reduce((y,w)=>Math.max(y,w.display_order),0))||0,{error:m}=await oe.from("categories").insert({name:t.trim(),display_order:x+1});if(m)throw m},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),r(""),fe.success("Catgorie ajoute")},onError:()=>{fe.error("Erreur lors de l'ajout")}}),c=At({mutationFn:async({id:x,name:m})=>{const{error:y}=await oe.from("categories").update({name:m.trim()}).eq("id",x);if(y)throw y},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),s(null),fe.success("Catgorie modifie")},onError:()=>{fe.error("Erreur lors de la modification")}}),u=At({mutationFn:async x=>{const{error:m}=await oe.from("categories").delete().eq("id",x);if(m)throw m},onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]}),fe.success("Catgorie supprime")},onError:()=>{fe.error("Erreur lors de la suppression")}}),h=(x,m)=>{s(x),i(m)},p=x=>{c.mutate({id:x,name:o})},f=()=>{s(null),i("")};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Xe,{className:"p-6 shadow-elegant border-border",children:[d.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Ajouter une catgorie"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx(ft,{placeholder:"Nom de la catgorie",value:t,onChange:x=>r(x.target.value),onKeyPress:x=>x.key==="Enter"&&t.trim()&&l.mutate(),className:"bg-input border-border text-foreground"}),d.jsx(Z,{onClick:()=>l.mutate(),disabled:!t.trim()||l.isPending,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:d.jsx(Mc,{className:"h-5 w-5"})})]})]}),d.jsx("div",{className:"grid gap-4",children:a==null?void 0:a.map(x=>d.jsx(Xe,{className:"p-4 shadow-card border-border hover-scale",children:d.jsx("div",{className:"flex items-center justify-between gap-4",children:n===x.id?d.jsxs(d.Fragment,{children:[d.jsx(ft,{value:o,onChange:m=>i(m.target.value),className:"flex-1 bg-input border-border text-foreground"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Z,{size:"icon",onClick:()=>p(x.id),className:"bg-secondary hover:bg-secondary/90 text-secondary-foreground",children:d.jsx(Jk,{className:"h-4 w-4"})}),d.jsx(Z,{size:"icon",variant:"outline",onClick:f,className:"border-border",children:d.jsx(Yf,{className:"h-4 w-4"})})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-lg font-medium flex-1",children:x.name}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Z,{size:"icon",variant:"outline",onClick:()=>h(x.id,x.name),className:"border-border",children:d.jsx(L0,{className:"h-4 w-4"})}),d.jsx(Z,{size:"icon",variant:"outline",onClick:()=>u.mutate(x.id),className:"border-border text-destructive hover:bg-destructive/10",children:d.jsx(Ea,{className:"h-4 w-4"})})]})]})})},x.id))})]})};var iu="Switch",[DD,lL]=Pr(iu),[LD,$D]=DD(iu),e1=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:c,form:u,...h}=e,[p,f]=v.useState(null),x=ue(t,b=>f(b)),m=v.useRef(!1),y=p?u||!!p.closest("form"):!0,[w,g]=Rs({prop:s,defaultProp:o??!1,onChange:c,caller:iu});return d.jsxs(LD,{scope:r,checked:w,disabled:a,children:[d.jsx(X.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":s1(w),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:x,onClick:W(e.onClick,b=>{g(_=>!_),y&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),y&&d.jsx(n1,{control:p,bubbles:!m.current,name:n,value:l,checked:w,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});e1.displayName=iu;var t1="SwitchThumb",r1=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=$D(t1,r);return d.jsx(X.span,{"data-state":s1(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});r1.displayName=t1;var MD="SwitchBubbleInput",n1=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},o)=>{const i=v.useRef(null),a=ue(i,o),l=pS(r),c=ib(t);return v.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==r&&f){const x=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(x)}},[l,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});n1.displayName=MD;function s1(e){return e?"checked":"unchecked"}var o1=e1,FD=r1;const i1=v.forwardRef(({className:e,...t},r)=>d.jsx(o1,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:d.jsx(FD,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));i1.displayName=o1.displayName;const UD=()=>{const e=jr(),[t,r]=v.useState(!1),[n,s]=v.useState(null),[o,i]=v.useState({name:"",description:"",price:"",categoryId:"",imageUrl:"",isAvailable:!0}),{data:a}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:g,error:b}=await oe.from("restaurant_settings").select("*").single();if(b)throw b;return g}}),{data:l}=He({queryKey:["categories"],queryFn:async()=>{const{data:g,error:b}=await oe.from("categories").select("*").order("display_order");if(b)throw b;return g}}),{data:c}=He({queryKey:["admin-dishes"],queryFn:async()=>{const{data:g,error:b}=await oe.from("dishes").select("*, categories(name)").order("name");if(b)throw b;return g}}),u=()=>{if(!a)return{symbol:"",name:"EUR",rate:1};switch(a.currency){case"DJF":return{symbol:"Fdj",name:"DJF",rate:a.eur_to_djf};case"USD":return{symbol:"$",name:"USD",rate:a.eur_to_usd};default:return{symbol:"",name:"EUR",rate:1}}},h=g=>g*u().rate,p=g=>g/u().rate,f=At({mutationFn:async()=>{const g=p(parseFloat(o.price)),b={name:o.name.trim(),description:o.description.trim()||null,price_eur:g,category_id:o.categoryId,image_url:o.imageUrl.trim()||null,is_available:o.isAvailable};if(n){const{error:_}=await oe.from("dishes").update(b).eq("id",n.id);if(_)throw _}else{const{error:_}=await oe.from("dishes").insert(b);if(_)throw _}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-dishes"]}),e.invalidateQueries({queryKey:["dishes"]}),r(!1),m(),fe.success(n?"Plat modifi":"Plat ajout")},onError:()=>{fe.error("Erreur lors de la sauvegarde")}}),x=At({mutationFn:async g=>{const{error:b}=await oe.from("dishes").delete().eq("id",g);if(b)throw b},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-dishes"]}),e.invalidateQueries({queryKey:["dishes"]}),fe.success("Plat supprim")},onError:()=>{fe.error("Erreur lors de la suppression")}}),m=()=>{i({name:"",description:"",price:"",categoryId:"",imageUrl:"",isAvailable:!0}),s(null)},y=g=>{s(g),i({name:g.name,description:g.description||"",price:h(g.price_eur).toFixed(2),categoryId:g.category_id,imageUrl:g.image_url||"",isAvailable:g.is_available}),r(!0)},w=()=>{m(),r(!0)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-2xl font-semibold",children:"Plats"}),d.jsxs(cS,{open:t,onOpenChange:r,children:[d.jsx(X2,{asChild:!0,children:d.jsxs(Z,{onClick:w,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:[d.jsx(Mc,{className:"mr-2 h-5 w-5"}),"Ajouter un plat"]})}),d.jsxs(Mp,{className:"max-w-2xl bg-card border-border",children:[d.jsx(Fp,{children:d.jsx(Up,{children:n?"Modifier le plat":"Nouveau plat"})}),d.jsxs("div",{className:"space-y-4 py-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Nom du plat *"}),d.jsx(ft,{value:o.name,onChange:g=>i({...o,name:g.target.value}),placeholder:"Ex: Pizza Margherita",className:"bg-input border-border text-foreground"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Description"}),d.jsx(Xc,{value:o.description,onChange:g=>i({...o,description:g.target.value}),placeholder:"Description du plat...",className:"bg-input border-border text-foreground resize-none",rows:3})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs(dt,{children:["Prix (",u().name,") *"]}),d.jsx(ft,{type:"number",step:"0.01",value:o.price,onChange:g=>i({...o,price:g.target.value}),placeholder:"12.50",className:"bg-input border-border text-foreground"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Catgorie *"}),d.jsxs(JS,{value:o.categoryId,onValueChange:g=>i({...o,categoryId:g}),children:[d.jsx(zp,{className:"bg-input border-border text-foreground",children:d.jsx(YS,{placeholder:"Slectionner"})}),d.jsx(Vp,{children:l==null?void 0:l.map(g=>d.jsx(Ui,{value:g.id,children:g.name},g.id))})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"URL de l'image"}),d.jsx(ft,{value:o.imageUrl,onChange:g=>i({...o,imageUrl:g.target.value}),placeholder:"https://...",className:"bg-input border-border text-foreground"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(dt,{children:"Disponible"}),d.jsx(i1,{checked:o.isAvailable,onCheckedChange:g=>i({...o,isAvailable:g})})]}),d.jsx(Z,{onClick:()=>f.mutate(),disabled:!o.name.trim()||!o.price||!o.categoryId||f.isPending,className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground",children:f.isPending?"Sauvegarde...":n?"Modifier":"Ajouter"})]})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c==null?void 0:c.map(g=>{var b;return d.jsxs(Xe,{className:"overflow-hidden shadow-card border-border hover-scale",children:[g.image_url&&d.jsx("div",{className:"aspect-video w-full overflow-hidden",children:d.jsx("img",{src:g.image_url,alt:g.name,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-4 space-y-3",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-semibold text-lg",children:g.name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:(b=g.categories)==null?void 0:b.name})]}),!g.is_available&&d.jsx(ii,{variant:"destructive",children:"Rupture"})]}),g.description&&d.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:g.description}),d.jsxs("div",{className:"flex items-center justify-between pt-2",children:[d.jsxs("span",{className:"text-xl font-bold",children:[h(g.price_eur).toFixed(2)," ",u().symbol]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Z,{size:"icon",variant:"outline",onClick:()=>y(g),className:"border-border h-9 w-9",children:d.jsx(L0,{className:"h-4 w-4"})}),d.jsx(Z,{size:"icon",variant:"outline",onClick:()=>x.mutate(g.id),className:"border-border text-destructive hover:bg-destructive/10 h-9 w-9",children:d.jsx(Ea,{className:"h-4 w-4"})})]})]})]})]},g.id)})})]})},BD=()=>{const e=$t();return v.useEffect(()=>{sessionStorage.getItem("admin_authenticated")||e("/admin/login")},[e]),d.jsx("div",{className:"min-h-screen p-6",children:d.jsxs("div",{className:"container max-w-6xl mx-auto space-y-6",children:[d.jsxs(Z,{variant:"ghost",onClick:()=>e("/admin"),className:"text-foreground",children:[d.jsx(Hn,{className:"mr-2 h-5 w-5"}),"Retour"]}),d.jsx("h1",{className:"text-3xl font-bold",children:"Gestion du Menu"}),d.jsxs(Op,{defaultValue:"dishes",className:"space-y-6",children:[d.jsxs(eu,{className:"bg-card border border-border",children:[d.jsx(Ln,{value:"dishes",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Plats"}),d.jsx(Ln,{value:"categories",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Catgories"})]}),d.jsx($n,{value:"dishes",children:d.jsx(UD,{})}),d.jsx($n,{value:"categories",children:d.jsx(ID,{})})]})]})})},zD=()=>{const e=$t(),t=jr(),[r,n]=v.useState({current:"",newPin:"",confirm:""}),[s,o]=v.useState({current:"",newPin:"",confirm:""});v.useEffect(()=>{sessionStorage.getItem("admin_authenticated")||e("/admin/login")},[e]);const{data:i}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:h,error:p}=await oe.from("restaurant_settings").select("*").single();if(p)throw p;return h}}),a=(h,p,f)=>At({mutationFn:async()=>{if(!i)throw new Error("Paramtres non chargs.");if(p.current!==i[h])throw new Error("Code PIN actuel incorrect.");if(p.newPin!==p.confirm)throw new Error("Les nouveaux codes PIN ne correspondent pas.");if(p.newPin.length<4)throw new Error("Le PIN doit contenir au moins 4 caractres.");const{error:x}=await oe.from("restaurant_settings").update({[h]:p.newPin}).eq("id",i.id);if(x)throw x},onSuccess:()=>{t.invalidateQueries({queryKey:["restaurant-settings"]}),fe.success("Code PIN modifi avec succs"),f({current:"",newPin:"",confirm:""})},onError:x=>{fe.error(x.message)}}),l=a("admin_pin",r,n),c=a("security_pin",s,o),u=({title:h,description:p,formState:f,setFormState:x,mutation:m})=>d.jsxs(Xe,{className:"p-6 shadow-elegant border-border space-y-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:h}),d.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:p})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Code PIN actuel"}),d.jsx(ft,{type:"password",inputMode:"numeric",value:f.current,onChange:y=>x({...f,current:y.target.value}),placeholder:"",className:"bg-input border-border text-foreground"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Nouveau code PIN"}),d.jsx(ft,{type:"password",inputMode:"numeric",value:f.newPin,onChange:y=>x({...f,newPin:y.target.value}),placeholder:"",className:"bg-input border-border text-foreground"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(dt,{children:"Confirmer le nouveau PIN"}),d.jsx(ft,{type:"password",inputMode:"numeric",value:f.confirm,onChange:y=>x({...f,confirm:y.target.value}),placeholder:"",className:"bg-input border-border text-foreground"})]})]}),d.jsx(Z,{onClick:()=>m.mutate(),disabled:!f.current||!f.newPin||!f.confirm||m.isPending,className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground",children:m.isPending?"Modification...":"Modifier le code PIN"})]});return d.jsx("div",{className:"min-h-screen p-6",children:d.jsxs("div",{className:"container max-w-2xl mx-auto space-y-6",children:[d.jsxs(Z,{variant:"ghost",onClick:()=>e("/admin"),className:"text-foreground",children:[d.jsx(Hn,{className:"mr-2 h-5 w-5"}),"Retour"]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"bg-card p-4 rounded-full shadow-elegant",children:d.jsx(D0,{className:"h-8 w-8 text-primary"})}),d.jsx("h1",{className:"text-3xl font-bold",children:"Scurit"})]}),d.jsx(u,{title:"Modifier le code PIN du Panneau d'Administration",description:"Ce code PIN protge l'accs  la page de connexion de l'administration.",formState:r,setFormState:n,mutation:l}),d.jsx(u,{title:"Modifier le code PIN de la section Scurit",description:"Ce code PIN protge l'accs  cette page de configuration de la scurit.",formState:s,setFormState:o,mutation:c})]})})},VD=()=>{const e=$t(),t=jr(),r=()=>{const y=new Date;y.setHours(0,0,0,0);const w=new Date;return w.setHours(23,59,59,999),{start:y,end:w}},{data:n}=He({queryKey:["restaurant-settings"],queryFn:async()=>{const{data:y,error:w}=await oe.from("restaurant_settings").select("*").single();if(w)throw w;return y}}),{data:s}=He({queryKey:["caisse-orders",r().start.toISOString().slice(0,10)],queryFn:async()=>{const{start:y,end:w}=r(),{data:g,error:b}=await oe.from("orders").select("*, order_items(*, dishes(name))").gte("created_at",y.toISOString()).lte("created_at",w.toISOString()).eq("is_archived",!1).order("created_at",{ascending:!1});if(b)throw b;return g},refetchInterval:15e3}),o=At({mutationFn:async y=>{const{error:w}=await oe.from("orders").update({is_paid:!0}).eq("id",y);if(w)throw w},onSuccess:()=>{t.invalidateQueries({queryKey:["caisse-orders"]}),fe.success("Commande marque comme paye !")},onError:()=>fe.error("Erreur lors de la mise  jour.")}),i=At({mutationFn:async()=>{const{error:y}=await oe.from("orders").update({is_archived:!0}).eq("is_paid",!0);if(y)throw y},onSuccess:()=>{t.invalidateQueries({queryKey:["caisse-orders"]}),fe.success("Commandes payes archives")},onError:()=>fe.error("Erreur lors de l'archivage.")}),{paidOrders:a,toPayOrders:l,activeOrders:c}=v.useMemo(()=>{const y=(s==null?void 0:s.filter(b=>b.is_paid))||[],w=(s==null?void 0:s.filter(b=>b.status==="completed"&&!b.is_paid))||[],g=(s==null?void 0:s.filter(b=>["pending","preparing","ready"].includes(b.status)&&!b.is_paid))||[];return{paidOrders:y,toPayOrders:w,activeOrders:g}},[s]),u=v.useMemo(()=>{const y=a.reduce((w,g)=>w+g.total_price,0);return{orderCount:a.length,totalRevenue:y}},[a]),h=()=>{if(!n)return{symbol:"",rate:1};switch(n.currency){case"DJF":return{symbol:"Fdj",rate:n.eur_to_djf};case"USD":return{symbol:"$",rate:n.eur_to_usd};default:return{symbol:"",rate:1}}},p=y=>y*h().rate,f=y=>({pending:"En attente",preparing:"En prparation",ready:"Prte",completed:"Servie"})[y]||y,x=y=>({pending:"bg-red-500",preparing:"bg-yellow-500",ready:"bg-blue-500",completed:"bg-green-500"})[y]||"bg-gray-500",m=({orders:y,showClearButton:w=!1})=>d.jsxs("div",{className:"space-y-4",children:[w&&y.length>0&&d.jsx("div",{className:"flex justify-end",children:d.jsxs(Z,{variant:"destructive",onClick:()=>i.mutate(),disabled:i.isPending,children:[d.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Vider les commandes payes"]})}),y.length===0?d.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Aucune commande dans cette catgorie."}):y.map(g=>d.jsx(Xe,{className:"p-4 border-border shadow-card",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("h4",{className:"font-bold",children:["Table ",g.table_number," ",d.jsxs("span",{className:"font-light text-sm text-muted-foreground",children:["#",g.id.slice(0,4)]})]}),d.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[d.jsx(tc,{className:"h-4 w-4"})," ",new Date(g.created_at).toLocaleTimeString()]}),d.jsx(ii,{className:`${x(g.status)} text-white mt-2`,children:f(g.status)})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-xl font-bold",children:[p(g.total_price).toFixed(2)," ",h().symbol]}),g.status==="completed"&&!g.is_paid&&d.jsxs(Z,{size:"sm",className:"mt-2",onClick:()=>o.mutate(g.id),children:[d.jsx(Wk,{className:"mr-2 h-4 w-4"})," Marquer comme Paye"]})]})]})},g.id))]});return d.jsx("div",{className:"min-h-screen p-6",children:d.jsxs("div",{className:"container max-w-6xl mx-auto space-y-6",children:[d.jsxs(Z,{variant:"ghost",onClick:()=>e("/admin"),className:"text-foreground",children:[d.jsx(Hn,{className:"mr-2 h-5 w-5"})," Retour"]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"bg-card p-4 rounded-full shadow-elegant",children:d.jsx(I0,{className:"h-8 w-8 text-primary"})}),d.jsx("h1",{className:"text-3xl font-bold",children:"Interface Caisse"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Xe,{children:[d.jsxs(Uh,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Bh,{className:"text-sm font-medium",children:"Chiffre d'affaires (Aujourd'hui)"}),d.jsx(Zk,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(zh,{children:d.jsxs("div",{className:"text-2xl font-bold",children:[p(u.totalRevenue).toFixed(2)," ",h().symbol]})})]}),d.jsxs(Xe,{children:[d.jsxs(Uh,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Bh,{className:"text-sm font-medium",children:"Commandes Payes (Aujourd'hui)"}),d.jsx(Qk,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsx(zh,{children:d.jsx("div",{className:"text-2xl font-bold",children:u.orderCount})})]})]}),d.jsxs(Op,{defaultValue:"toPay",children:[d.jsxs(eu,{className:"grid w-full grid-cols-3",children:[d.jsxs(Ln,{value:"toPay",children:[" Payer (",l.length,")"]}),d.jsxs(Ln,{value:"active",children:["En Cours (",c.length,")"]}),d.jsxs(Ln,{value:"paid",children:["Payes (",a.length,")"]})]}),d.jsx($n,{value:"toPay",children:d.jsx(m,{orders:l})}),d.jsx($n,{value:"active",children:d.jsx(m,{orders:c})}),d.jsx($n,{value:"paid",children:d.jsx(m,{orders:a,showClearButton:!0})})]})]})})},WD=new mj,HD=()=>d.jsx(bj,{client:WD,children:d.jsxs(XR,{children:[d.jsx(DT,{}),d.jsx(fP,{}),d.jsxs(Jb,{children:[" ",d.jsxs(xN,{children:[d.jsx(Et,{path:"/",element:d.jsx(lI,{})}),d.jsx(Et,{path:"/menu",element:d.jsx(PI,{})}),d.jsx(Et,{path:"/cart",element:d.jsx(RI,{})}),d.jsx(Et,{path:"/order-status/:orderId",element:d.jsx(jI,{})}),d.jsx(Et,{path:"/kitchen",element:d.jsx(qI,{})}),d.jsx(Et,{path:"/admin/login",element:d.jsx(KI,{})}),d.jsx(Et,{path:"/admin",element:d.jsx(rD,{})}),d.jsx(Et,{path:"/admin/restaurant",element:d.jsx(AD,{})}),d.jsx(Et,{path:"/admin/menu",element:d.jsx(BD,{})}),d.jsx(Et,{path:"/admin/security",element:d.jsx(zD,{})}),d.jsx(Et,{path:"/admin/caisse",element:d.jsx(VD,{})}),d.jsx(Et,{path:"*",element:d.jsx(ON,{})})]})]})]})});r0(document.getElementById("root")).render(d.jsx(Jb,{children:d.jsx(HD,{})}));
